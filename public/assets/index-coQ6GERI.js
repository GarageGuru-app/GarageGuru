var dO=Object.defineProperty;var G_=t=>{throw TypeError(t)};var fO=(t,e,r)=>e in t?dO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Sr=(t,e,r)=>fO(t,typeof e!="symbol"?e+"":e,r),rx=(t,e,r)=>e.has(t)||G_("Cannot "+r);var le=(t,e,r)=>(rx(t,e,"read from private field"),r?r.call(t):e.get(t)),At=(t,e,r)=>e.has(t)?G_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),et=(t,e,r,n)=>(rx(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Gt=(t,e,r)=>(rx(t,e,"access private method"),r);var Wp=(t,e,r,n)=>({set _(i){et(t,e,i,r)},get _(){return le(t,e,n)}});function hO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var IJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MC={exports:{}},kg={},FC={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=Symbol.for("react.element"),pO=Symbol.for("react.portal"),mO=Symbol.for("react.fragment"),vO=Symbol.for("react.strict_mode"),gO=Symbol.for("react.profiler"),xO=Symbol.for("react.provider"),yO=Symbol.for("react.context"),wO=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),_O=Symbol.for("react.memo"),NO=Symbol.for("react.lazy"),X_=Symbol.iterator;function SO(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var BC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UC=Object.assign,zC={};function dh(t,e,r){this.props=t,this.context=e,this.refs=zC,this.updater=r||BC}dh.prototype.isReactComponent={};dh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VC(){}VC.prototype=dh.prototype;function F5(t,e,r){this.props=t,this.context=e,this.refs=zC,this.updater=r||BC}var B5=F5.prototype=new VC;B5.constructor=F5;UC(B5,dh.prototype);B5.isPureReactComponent=!0;var Y_=Array.isArray,qC=Object.prototype.hasOwnProperty,U5={current:null},$C={key:!0,ref:!0,__self:!0,__source:!0};function HC(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)qC.call(e,n)&&!$C.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:K0,type:t,key:a,ref:s,props:i,_owner:U5.current}}function AO(t,e){return{$$typeof:K0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z5(t){return typeof t=="object"&&t!==null&&t.$$typeof===K0}function CO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Z_=/\/+/g;function nx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CO(""+t.key):e.toString(36)}function Dm(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case K0:case pO:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+nx(s,0):n,Y_(i)?(r="",t!=null&&(r=t.replace(Z_,"$&/")+"/"),Dm(i,e,r,"",function(u){return u})):i!=null&&(z5(i)&&(i=AO(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Z_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Y_(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+nx(a,o);s+=Dm(a,e,r,l,i)}else if(l=SO(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+nx(a,o++),s+=Dm(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Gp(t,e,r){if(t==null)return t;var n=[],i=0;return Dm(t,n,"","",function(a){return e.call(r,a,i++)}),n}function EO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ea={current:null},Lm={transition:null},jO={ReactCurrentDispatcher:ea,ReactCurrentBatchConfig:Lm,ReactCurrentOwner:U5};function WC(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:Gp,forEach:function(t,e,r){Gp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gp(t,function(){e++}),e},toArray:function(t){return Gp(t,function(e){return e})||[]},only:function(t){if(!z5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};er.Component=dh;er.Fragment=mO;er.Profiler=gO;er.PureComponent=F5;er.StrictMode=vO;er.Suspense=bO;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jO;er.act=WC;er.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=UC({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=U5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)qC.call(e,l)&&!$C.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:K0,type:t.type,key:i,ref:a,props:n,_owner:s}};er.createContext=function(t){return t={$$typeof:yO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xO,_context:t},t.Consumer=t};er.createElement=HC;er.createFactory=function(t){var e=HC.bind(null,t);return e.type=t,e};er.createRef=function(){return{current:null}};er.forwardRef=function(t){return{$$typeof:wO,render:t}};er.isValidElement=z5;er.lazy=function(t){return{$$typeof:NO,_payload:{_status:-1,_result:t},_init:EO}};er.memo=function(t,e){return{$$typeof:_O,type:t,compare:e===void 0?null:e}};er.startTransition=function(t){var e=Lm.transition;Lm.transition={};try{t()}finally{Lm.transition=e}};er.unstable_act=WC;er.useCallback=function(t,e){return ea.current.useCallback(t,e)};er.useContext=function(t){return ea.current.useContext(t)};er.useDebugValue=function(){};er.useDeferredValue=function(t){return ea.current.useDeferredValue(t)};er.useEffect=function(t,e){return ea.current.useEffect(t,e)};er.useId=function(){return ea.current.useId()};er.useImperativeHandle=function(t,e,r){return ea.current.useImperativeHandle(t,e,r)};er.useInsertionEffect=function(t,e){return ea.current.useInsertionEffect(t,e)};er.useLayoutEffect=function(t,e){return ea.current.useLayoutEffect(t,e)};er.useMemo=function(t,e){return ea.current.useMemo(t,e)};er.useReducer=function(t,e,r){return ea.current.useReducer(t,e,r)};er.useRef=function(t){return ea.current.useRef(t)};er.useState=function(t){return ea.current.useState(t)};er.useSyncExternalStore=function(t,e,r){return ea.current.useSyncExternalStore(t,e,r)};er.useTransition=function(){return ea.current.useTransition()};er.version="18.3.1";FC.exports=er;var C=FC.exports;const Ut=LC(C),GC=hO({__proto__:null,default:Ut},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=C,IO=Symbol.for("react.element"),TO=Symbol.for("react.fragment"),PO=Object.prototype.hasOwnProperty,OO=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RO={key:!0,ref:!0,__self:!0,__source:!0};function XC(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)PO.call(e,n)&&!RO.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:IO,type:t,key:a,ref:s,props:i,_owner:OO.current}}kg.Fragment=TO;kg.jsx=XC;kg.jsxs=XC;MC.exports=kg;var c=MC.exports,YC={exports:{}},Ua={},ZC={exports:{}},KC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ne){var ge=H.length;H.push(ne);e:for(;0<ge;){var _e=ge-1>>>1,U=H[_e];if(0<i(U,ne))H[_e]=ne,H[ge]=U,ge=_e;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ne=H[0],ge=H.pop();if(ge!==ne){H[0]=ge;e:for(var _e=0,U=H.length,W=U>>>1;_e<W;){var Y=2*(_e+1)-1,ie=H[Y],ue=Y+1,ae=H[ue];if(0>i(ie,ge))ue<U&&0>i(ae,ie)?(H[_e]=ae,H[ue]=ge,_e=ue):(H[_e]=ie,H[Y]=ge,_e=Y);else if(ue<U&&0>i(ae,ge))H[_e]=ae,H[ue]=ge,_e=ue;else break e}}return ne}function i(H,ne){var ge=H.sortIndex-ne.sortIndex;return ge!==0?ge:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,p=3,h=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=H)n(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=r(u)}}function N(H){if(v=!1,_(H),!g)if(r(l)!==null)g=!0,re(k);else{var ne=r(u);ne!==null&&se(N,ne.startTime-H)}}function k(H,ne){g=!1,v&&(v=!1,x(R),R=-1),h=!0;var ge=p;try{for(_(ne),f=r(l);f!==null&&(!(f.expirationTime>ne)||H&&!j());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,p=f.priorityLevel;var U=_e(f.expirationTime<=ne);ne=t.unstable_now(),typeof U=="function"?f.callback=U:f===r(l)&&n(l),_(ne)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var Y=r(u);Y!==null&&se(N,Y.startTime-ne),W=!1}return W}finally{f=null,p=ge,h=!1}}var D=!1,T=null,R=-1,P=5,O=-1;function j(){return!(t.unstable_now()-O<P)}function E(){if(T!==null){var H=t.unstable_now();O=H;var ne=!0;try{ne=T(!0,H)}finally{ne?L():(D=!1,T=null)}}else D=!1}var L;if(typeof w=="function")L=function(){w(E)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=E,L=function(){te.postMessage(null)}}else L=function(){b(E,0)};function re(H){T=H,D||(D=!0,L())}function se(H,ne){R=b(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,re(k))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var ge=p;p=ne;try{return H()}finally{p=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ge=p;p=H;try{return ne()}finally{p=ge}},t.unstable_scheduleCallback=function(H,ne,ge){var _e=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?_e+ge:_e):ge=_e,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ge+U,H={id:d++,callback:ne,priorityLevel:H,startTime:ge,expirationTime:U,sortIndex:-1},ge>_e?(H.sortIndex=ge,e(u,H),r(l)===null&&H===r(u)&&(v?(x(R),R=-1):v=!0,se(N,ge-_e))):(H.sortIndex=U,e(l,H),g||h||(g=!0,re(k))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var ne=p;return function(){var ge=p;p=ne;try{return H.apply(this,arguments)}finally{p=ge}}}})(KC);ZC.exports=KC;var DO=ZC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO=C,Ba=DO;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QC=new Set,X1={};function ld(t,e){qf(t,e),qf(t+"Capture",e)}function qf(t,e){for(X1[t]=e,t=0;t<e.length;t++)QC.add(e[t])}var pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ly=Object.prototype.hasOwnProperty,MO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K_={},Q_={};function FO(t){return Ly.call(Q_,t)?!0:Ly.call(K_,t)?!1:MO.test(t)?Q_[t]=!0:(K_[t]=!0,!1)}function BO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UO(t,e,r,n){if(e===null||typeof e>"u"||BO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ta(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_i[t]=new ta(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_i[e]=new ta(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_i[t]=new ta(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_i[t]=new ta(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_i[t]=new ta(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_i[t]=new ta(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_i[t]=new ta(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_i[t]=new ta(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_i[t]=new ta(t,5,!1,t.toLowerCase(),null,!1,!1)});var V5=/[\-:]([a-z])/g;function q5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V5,q5);_i[e]=new ta(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V5,q5);_i[e]=new ta(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V5,q5);_i[e]=new ta(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_i[t]=new ta(t,1,!1,t.toLowerCase(),null,!1,!1)});_i.xlinkHref=new ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_i[t]=new ta(t,1,!1,t.toLowerCase(),null,!0,!0)});function $5(t,e,r,n){var i=_i.hasOwnProperty(e)?_i[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UO(e,r,i,n)&&(r=null),n||i===null?FO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _l=LO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xp=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),H5=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),JC=Symbol.for("react.provider"),e6=Symbol.for("react.context"),W5=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),G5=Symbol.for("react.memo"),Xl=Symbol.for("react.lazy"),t6=Symbol.for("react.offscreen"),J_=Symbol.iterator;function Jh(t){return t===null||typeof t!="object"?null:(t=J_&&t[J_]||t["@@iterator"],typeof t=="function"?t:null)}var on=Object.assign,ix;function y1(t){if(ix===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ix=e&&e[1]||""}return`
`+ix+t}var ax=!1;function sx(t,e){if(!t||ax)return"";ax=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{ax=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?y1(t):""}function zO(t){switch(t.tag){case 5:return y1(t.type);case 16:return y1("Lazy");case 13:return y1("Suspense");case 19:return y1("SuspenseList");case 0:case 2:case 15:return t=sx(t.type,!1),t;case 11:return t=sx(t.type.render,!1),t;case 1:return t=sx(t.type,!0),t;default:return""}}function Uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xd:return"Fragment";case Gd:return"Portal";case My:return"Profiler";case H5:return"StrictMode";case Fy:return"Suspense";case By:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e6:return(t.displayName||"Context")+".Consumer";case JC:return(t._context.displayName||"Context")+".Provider";case W5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G5:return e=t.displayName||null,e!==null?e:Uy(t.type)||"Memo";case Xl:e=t._payload,t=t._init;try{return Uy(t(e))}catch{}}return null}function VO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uy(e);case 8:return e===H5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qO(t){var e=r6(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yp(t){t._valueTracker||(t._valueTracker=qO(t))}function n6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=r6(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zy(t,e){var r=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function e4(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=kc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i6(t,e){e=e.checked,e!=null&&$5(t,"checked",e,!1)}function Vy(t,e){i6(t,e);var r=kc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qy(t,e.type,r):e.hasOwnProperty("defaultValue")&&qy(t,e.type,kc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qy(t,e,r){(e!=="number"||gv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var w1=Array.isArray;function ff(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+kc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(qe(92));if(w1(r)){if(1<r.length)throw Error(qe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:kc(r)}}function a6(t,e){var r=kc(e.value),n=kc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function n4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zp,o6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zp=Zp||document.createElement("div"),Zp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Y1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var P1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$O=["Webkit","ms","Moz","O"];Object.keys(P1).forEach(function(t){$O.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),P1[e]=P1[t]})});function l6(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||P1.hasOwnProperty(t)&&P1[t]?(""+e).trim():e+"px"}function c6(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=l6(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var HO=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wy(t,e){if(e){if(HO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function Gy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=null;function X5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yy=null,hf=null,pf=null;function i4(t){if(t=ep(t)){if(typeof Yy!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=Rg(e),Yy(t.stateNode,t.type,e))}}function u6(t){hf?pf?pf.push(t):pf=[t]:hf=t}function d6(){if(hf){var t=hf,e=pf;if(pf=hf=null,i4(t),e)for(t=0;t<e.length;t++)i4(e[t])}}function f6(t,e){return t(e)}function h6(){}var ox=!1;function p6(t,e,r){if(ox)return t(e,r);ox=!0;try{return f6(t,e,r)}finally{ox=!1,(hf!==null||pf!==null)&&(h6(),d6())}}function Z1(t,e){var r=t.stateNode;if(r===null)return null;var n=Rg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(qe(231,e,typeof r));return r}var Zy=!1;if(pl)try{var e1={};Object.defineProperty(e1,"passive",{get:function(){Zy=!0}}),window.addEventListener("test",e1,e1),window.removeEventListener("test",e1,e1)}catch{Zy=!1}function WO(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var O1=!1,xv=null,yv=!1,Ky=null,GO={onError:function(t){O1=!0,xv=t}};function XO(t,e,r,n,i,a,s,o,l){O1=!1,xv=null,WO.apply(GO,arguments)}function YO(t,e,r,n,i,a,s,o,l){if(XO.apply(this,arguments),O1){if(O1){var u=xv;O1=!1,xv=null}else throw Error(qe(198));yv||(yv=!0,Ky=u)}}function cd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function m6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a4(t){if(cd(t)!==t)throw Error(qe(188))}function ZO(t){var e=t.alternate;if(!e){if(e=cd(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return a4(i),t;if(a===n)return a4(i),e;a=a.sibling}throw Error(qe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?t:e}function v6(t){return t=ZO(t),t!==null?g6(t):null}function g6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g6(t);if(e!==null)return e;t=t.sibling}return null}var x6=Ba.unstable_scheduleCallback,s4=Ba.unstable_cancelCallback,KO=Ba.unstable_shouldYield,QO=Ba.unstable_requestPaint,Sn=Ba.unstable_now,JO=Ba.unstable_getCurrentPriorityLevel,Y5=Ba.unstable_ImmediatePriority,y6=Ba.unstable_UserBlockingPriority,wv=Ba.unstable_NormalPriority,eR=Ba.unstable_LowPriority,w6=Ba.unstable_IdlePriority,Ig=null,No=null;function tR(t){if(No&&typeof No.onCommitFiberRoot=="function")try{No.onCommitFiberRoot(Ig,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:iR,rR=Math.log,nR=Math.LN2;function iR(t){return t>>>=0,t===0?32:31-(rR(t)/nR|0)|0}var Kp=64,Qp=4194304;function b1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bv(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=b1(o):(a&=s,a!==0&&(n=b1(a)))}else s=r&~i,s!==0?n=b1(s):a!==0&&(n=b1(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fs(e),i=1<<r,n|=t[r],e&=~i;return n}function aR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Fs(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=aR(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Qy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function b6(){var t=Kp;return Kp<<=1,!(Kp&4194240)&&(Kp=64),t}function lx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Q0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=r}function oR(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Fs(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Z5(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var kr=0;function _6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N6,K5,S6,A6,C6,Jy=!1,Jp=[],pc=null,mc=null,vc=null,K1=new Map,Q1=new Map,Kl=[],lR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o4(t,e){switch(t){case"focusin":case"focusout":pc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":K1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Q1.delete(e.pointerId)}}function t1(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ep(e),e!==null&&K5(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cR(t,e,r,n,i){switch(e){case"focusin":return pc=t1(pc,t,e,r,n,i),!0;case"dragenter":return mc=t1(mc,t,e,r,n,i),!0;case"mouseover":return vc=t1(vc,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return K1.set(a,t1(K1.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Q1.set(a,t1(Q1.get(a)||null,t,e,r,n,i)),!0}return!1}function E6(t){var e=Nu(t.target);if(e!==null){var r=cd(e);if(r!==null){if(e=r.tag,e===13){if(e=m6(r),e!==null){t.blockedOn=e,C6(t.priority,function(){S6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ew(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xy=n,r.target.dispatchEvent(n),Xy=null}else return e=ep(r),e!==null&&K5(e),t.blockedOn=r,!1;e.shift()}return!0}function l4(t,e,r){Mm(t)&&r.delete(e)}function uR(){Jy=!1,pc!==null&&Mm(pc)&&(pc=null),mc!==null&&Mm(mc)&&(mc=null),vc!==null&&Mm(vc)&&(vc=null),K1.forEach(l4),Q1.forEach(l4)}function r1(t,e){t.blockedOn===e&&(t.blockedOn=null,Jy||(Jy=!0,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,uR)))}function J1(t){function e(i){return r1(i,t)}if(0<Jp.length){r1(Jp[0],t);for(var r=1;r<Jp.length;r++){var n=Jp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(pc!==null&&r1(pc,t),mc!==null&&r1(mc,t),vc!==null&&r1(vc,t),K1.forEach(e),Q1.forEach(e),r=0;r<Kl.length;r++)n=Kl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Kl.length&&(r=Kl[0],r.blockedOn===null);)E6(r),r.blockedOn===null&&Kl.shift()}var mf=_l.ReactCurrentBatchConfig,_v=!0;function dR(t,e,r,n){var i=kr,a=mf.transition;mf.transition=null;try{kr=1,Q5(t,e,r,n)}finally{kr=i,mf.transition=a}}function fR(t,e,r,n){var i=kr,a=mf.transition;mf.transition=null;try{kr=4,Q5(t,e,r,n)}finally{kr=i,mf.transition=a}}function Q5(t,e,r,n){if(_v){var i=ew(t,e,r,n);if(i===null)xx(t,e,n,Nv,r),o4(t,n);else if(cR(i,t,e,r,n))n.stopPropagation();else if(o4(t,n),e&4&&-1<lR.indexOf(t)){for(;i!==null;){var a=ep(i);if(a!==null&&N6(a),a=ew(t,e,r,n),a===null&&xx(t,e,n,Nv,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else xx(t,e,n,null,r)}}var Nv=null;function ew(t,e,r,n){if(Nv=null,t=X5(n),t=Nu(t),t!==null)if(e=cd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=m6(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nv=t,null}function j6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JO()){case Y5:return 1;case y6:return 4;case wv:case eR:return 16;case w6:return 536870912;default:return 16}default:return 16}}var uc=null,J5=null,Fm=null;function k6(){if(Fm)return Fm;var t,e=J5,r=e.length,n,i="value"in uc?uc.value:uc.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Fm=i.slice(t,1<n?1-n:void 0)}function Bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function em(){return!0}function c4(){return!1}function za(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?em:c4,this.isPropagationStopped=c4,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=em)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=em)},persist:function(){},isPersistent:em}),e}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eb=za(fh),J0=on({},fh,{view:0,detail:0}),hR=za(J0),cx,ux,n1,Tg=on({},J0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==n1&&(n1&&t.type==="mousemove"?(cx=t.screenX-n1.screenX,ux=t.screenY-n1.screenY):ux=cx=0,n1=t),cx)},movementY:function(t){return"movementY"in t?t.movementY:ux}}),u4=za(Tg),pR=on({},Tg,{dataTransfer:0}),mR=za(pR),vR=on({},J0,{relatedTarget:0}),dx=za(vR),gR=on({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),xR=za(gR),yR=on({},fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wR=za(yR),bR=on({},fh,{data:0}),d4=za(bR),_R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SR[t])?!!e[t]:!1}function tb(){return AR}var CR=on({},J0,{key:function(t){if(t.key){var e=_R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tb,charCode:function(t){return t.type==="keypress"?Bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=za(CR),jR=on({},Tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f4=za(jR),kR=on({},J0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tb}),IR=za(kR),TR=on({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),PR=za(TR),OR=on({},Tg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RR=za(OR),DR=[9,13,27,32],rb=pl&&"CompositionEvent"in window,R1=null;pl&&"documentMode"in document&&(R1=document.documentMode);var LR=pl&&"TextEvent"in window&&!R1,I6=pl&&(!rb||R1&&8<R1&&11>=R1),h4=" ",p4=!1;function T6(t,e){switch(t){case"keyup":return DR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yd=!1;function MR(t,e){switch(t){case"compositionend":return P6(e);case"keypress":return e.which!==32?null:(p4=!0,h4);case"textInput":return t=e.data,t===h4&&p4?null:t;default:return null}}function FR(t,e){if(Yd)return t==="compositionend"||!rb&&T6(t,e)?(t=k6(),Fm=J5=uc=null,Yd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I6&&e.locale!=="ko"?null:e.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BR[t.type]:e==="textarea"}function O6(t,e,r,n){u6(n),e=Sv(e,"onChange"),0<e.length&&(r=new eb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var D1=null,e0=null;function UR(t){$6(t,0)}function Pg(t){var e=Qd(t);if(n6(e))return t}function zR(t,e){if(t==="change")return e}var R6=!1;if(pl){var fx;if(pl){var hx="oninput"in document;if(!hx){var v4=document.createElement("div");v4.setAttribute("oninput","return;"),hx=typeof v4.oninput=="function"}fx=hx}else fx=!1;R6=fx&&(!document.documentMode||9<document.documentMode)}function g4(){D1&&(D1.detachEvent("onpropertychange",D6),e0=D1=null)}function D6(t){if(t.propertyName==="value"&&Pg(e0)){var e=[];O6(e,e0,t,X5(t)),p6(UR,e)}}function VR(t,e,r){t==="focusin"?(g4(),D1=e,e0=r,D1.attachEvent("onpropertychange",D6)):t==="focusout"&&g4()}function qR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pg(e0)}function $R(t,e){if(t==="click")return Pg(e)}function HR(t,e){if(t==="input"||t==="change")return Pg(e)}function WR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zs=typeof Object.is=="function"?Object.is:WR;function t0(t,e){if(zs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ly.call(e,i)||!zs(t[i],e[i]))return!1}return!0}function x4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y4(t,e){var r=x4(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=x4(r)}}function L6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M6(){for(var t=window,e=gv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gv(t.document)}return e}function nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GR(t){var e=M6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&L6(r.ownerDocument.documentElement,r)){if(n!==null&&nb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=y4(r,a);var s=y4(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XR=pl&&"documentMode"in document&&11>=document.documentMode,Zd=null,tw=null,L1=null,rw=!1;function w4(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rw||Zd==null||Zd!==gv(n)||(n=Zd,"selectionStart"in n&&nb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),L1&&t0(L1,n)||(L1=n,n=Sv(tw,"onSelect"),0<n.length&&(e=new eb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zd)))}function tm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Kd={animationend:tm("Animation","AnimationEnd"),animationiteration:tm("Animation","AnimationIteration"),animationstart:tm("Animation","AnimationStart"),transitionend:tm("Transition","TransitionEnd")},px={},F6={};pl&&(F6=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function Og(t){if(px[t])return px[t];if(!Kd[t])return t;var e=Kd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in F6)return px[t]=e[r];return t}var B6=Og("animationend"),U6=Og("animationiteration"),z6=Og("animationstart"),V6=Og("transitionend"),q6=new Map,b4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hc(t,e){q6.set(t,e),ld(e,[t])}for(var mx=0;mx<b4.length;mx++){var vx=b4[mx],YR=vx.toLowerCase(),ZR=vx[0].toUpperCase()+vx.slice(1);Hc(YR,"on"+ZR)}Hc(B6,"onAnimationEnd");Hc(U6,"onAnimationIteration");Hc(z6,"onAnimationStart");Hc("dblclick","onDoubleClick");Hc("focusin","onFocus");Hc("focusout","onBlur");Hc(V6,"onTransitionEnd");qf("onMouseEnter",["mouseout","mouseover"]);qf("onMouseLeave",["mouseout","mouseover"]);qf("onPointerEnter",["pointerout","pointerover"]);qf("onPointerLeave",["pointerout","pointerover"]);ld("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ld("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ld("onBeforeInput",["compositionend","keypress","textInput","paste"]);ld("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ld("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_1));function _4(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,YO(n,e,void 0,t),t.currentTarget=null}function $6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;_4(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;_4(i,o,u),a=l}}}if(yv)throw t=Ky,yv=!1,Ky=null,t}function Wr(t,e){var r=e[ow];r===void 0&&(r=e[ow]=new Set);var n=t+"__bubble";r.has(n)||(H6(e,t,2,!1),r.add(n))}function gx(t,e,r){var n=0;e&&(n|=4),H6(r,t,n,e)}var rm="_reactListening"+Math.random().toString(36).slice(2);function r0(t){if(!t[rm]){t[rm]=!0,QC.forEach(function(r){r!=="selectionchange"&&(KR.has(r)||gx(r,!1,t),gx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rm]||(e[rm]=!0,gx("selectionchange",!1,e))}}function H6(t,e,r,n){switch(j6(e)){case 1:var i=dR;break;case 4:i=fR;break;default:i=Q5}r=i.bind(null,e,r,t),i=void 0,!Zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xx(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Nu(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}p6(function(){var u=a,d=X5(r),f=[];e:{var p=q6.get(t);if(p!==void 0){var h=eb,g=t;switch(t){case"keypress":if(Bm(r)===0)break e;case"keydown":case"keyup":h=ER;break;case"focusin":g="focus",h=dx;break;case"focusout":g="blur",h=dx;break;case"beforeblur":case"afterblur":h=dx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=u4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IR;break;case B6:case U6:case z6:h=xR;break;case V6:h=PR;break;case"scroll":h=hR;break;case"wheel":h=RR;break;case"copy":case"cut":case"paste":h=wR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=f4}var v=(e&4)!==0,b=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,_;w!==null;){_=w;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,x!==null&&(N=Z1(w,x),N!=null&&v.push(n0(w,N,_)))),b)break;w=w.return}0<v.length&&(p=new h(p,g,null,r,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&r!==Xy&&(g=r.relatedTarget||r.fromElement)&&(Nu(g)||g[ml]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=u,g=g?Nu(g):null,g!==null&&(b=cd(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=u4,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=f4,N="onPointerLeave",x="onPointerEnter",w="pointer"),b=h==null?p:Qd(h),_=g==null?p:Qd(g),p=new v(N,w+"leave",h,r,d),p.target=b,p.relatedTarget=_,N=null,Nu(d)===u&&(v=new v(x,w+"enter",g,r,d),v.target=_,v.relatedTarget=b,N=v),b=N,h&&g)t:{for(v=h,x=g,w=0,_=v;_;_=Od(_))w++;for(_=0,N=x;N;N=Od(N))_++;for(;0<w-_;)v=Od(v),w--;for(;0<_-w;)x=Od(x),_--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=Od(v),x=Od(x)}v=null}else v=null;h!==null&&N4(f,p,h,v,!1),g!==null&&b!==null&&N4(f,b,g,v,!0)}}e:{if(p=u?Qd(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var k=zR;else if(m4(p))if(R6)k=HR;else{k=qR;var D=VR}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=$R);if(k&&(k=k(t,u))){O6(f,k,r,d);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&qy(p,"number",p.value)}switch(D=u?Qd(u):window,t){case"focusin":(m4(D)||D.contentEditable==="true")&&(Zd=D,tw=u,L1=null);break;case"focusout":L1=tw=Zd=null;break;case"mousedown":rw=!0;break;case"contextmenu":case"mouseup":case"dragend":rw=!1,w4(f,r,d);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":w4(f,r,d)}var T;if(rb)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Yd?T6(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(I6&&r.locale!=="ko"&&(Yd||R!=="onCompositionStart"?R==="onCompositionEnd"&&Yd&&(T=k6()):(uc=d,J5="value"in uc?uc.value:uc.textContent,Yd=!0)),D=Sv(u,R),0<D.length&&(R=new d4(R,t,null,r,d),f.push({event:R,listeners:D}),T?R.data=T:(T=P6(r),T!==null&&(R.data=T)))),(T=LR?MR(t,r):FR(t,r))&&(u=Sv(u,"onBeforeInput"),0<u.length&&(d=new d4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=T))}$6(f,e)})}function n0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Sv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Z1(t,r),a!=null&&n.unshift(n0(t,a,i)),a=Z1(t,e),a!=null&&n.push(n0(t,a,i))),t=t.return}return n}function Od(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N4(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Z1(r,a),l!=null&&s.unshift(n0(r,l,o))):i||(l=Z1(r,a),l!=null&&s.push(n0(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var QR=/\r\n?/g,JR=/\u0000|\uFFFD/g;function S4(t){return(typeof t=="string"?t:""+t).replace(QR,`
`).replace(JR,"")}function nm(t,e,r){if(e=S4(e),S4(t)!==e&&r)throw Error(qe(425))}function Av(){}var nw=null,iw=null;function aw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sw=typeof setTimeout=="function"?setTimeout:void 0,e9=typeof clearTimeout=="function"?clearTimeout:void 0,A4=typeof Promise=="function"?Promise:void 0,t9=typeof queueMicrotask=="function"?queueMicrotask:typeof A4<"u"?function(t){return A4.resolve(null).then(t).catch(r9)}:sw;function r9(t){setTimeout(function(){throw t})}function yx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),J1(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);J1(e)}function gc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hh=Math.random().toString(36).slice(2),go="__reactFiber$"+hh,i0="__reactProps$"+hh,ml="__reactContainer$"+hh,ow="__reactEvents$"+hh,n9="__reactListeners$"+hh,i9="__reactHandles$"+hh;function Nu(t){var e=t[go];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ml]||r[go]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=C4(t);t!==null;){if(r=t[go])return r;t=C4(t)}return e}t=r,r=t.parentNode}return null}function ep(t){return t=t[go]||t[ml],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function Rg(t){return t[i0]||null}var lw=[],Jd=-1;function Wc(t){return{current:t}}function Zr(t){0>Jd||(t.current=lw[Jd],lw[Jd]=null,Jd--)}function zr(t,e){Jd++,lw[Jd]=t.current,t.current=e}var Ic={},Di=Wc(Ic),pa=Wc(!1),$u=Ic;function $f(t,e){var r=t.type.contextTypes;if(!r)return Ic;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ma(t){return t=t.childContextTypes,t!=null}function Cv(){Zr(pa),Zr(Di)}function E4(t,e,r){if(Di.current!==Ic)throw Error(qe(168));zr(Di,e),zr(pa,r)}function W6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(qe(108,VO(t)||"Unknown",i));return on({},r,n)}function Ev(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ic,$u=Di.current,zr(Di,t),zr(pa,pa.current),!0}function j4(t,e,r){var n=t.stateNode;if(!n)throw Error(qe(169));r?(t=W6(t,e,$u),n.__reactInternalMemoizedMergedChildContext=t,Zr(pa),Zr(Di),zr(Di,t)):Zr(pa),zr(pa,r)}var nl=null,Dg=!1,wx=!1;function G6(t){nl===null?nl=[t]:nl.push(t)}function a9(t){Dg=!0,G6(t)}function Gc(){if(!wx&&nl!==null){wx=!0;var t=0,e=kr;try{var r=nl;for(kr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nl=null,Dg=!1}catch(i){throw nl!==null&&(nl=nl.slice(t+1)),x6(Y5,Gc),i}finally{kr=e,wx=!1}}return null}var ef=[],tf=0,jv=null,kv=0,Qa=[],Ja=0,Hu=null,ll=1,cl="";function vu(t,e){ef[tf++]=kv,ef[tf++]=jv,jv=t,kv=e}function X6(t,e,r){Qa[Ja++]=ll,Qa[Ja++]=cl,Qa[Ja++]=Hu,Hu=t;var n=ll;t=cl;var i=32-Fs(n)-1;n&=~(1<<i),r+=1;var a=32-Fs(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ll=1<<32-Fs(e)+i|r<<i|n,cl=a+t}else ll=1<<a|r<<i|n,cl=t}function ib(t){t.return!==null&&(vu(t,1),X6(t,1,0))}function ab(t){for(;t===jv;)jv=ef[--tf],ef[tf]=null,kv=ef[--tf],ef[tf]=null;for(;t===Hu;)Hu=Qa[--Ja],Qa[Ja]=null,cl=Qa[--Ja],Qa[Ja]=null,ll=Qa[--Ja],Qa[Ja]=null}var La=null,Oa=null,Qr=!1,Is=null;function Y6(t,e){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function k4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,La=t,Oa=gc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,La=t,Oa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Hu!==null?{id:ll,overflow:cl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,La=t,Oa=null,!0):!1;default:return!1}}function cw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uw(t){if(Qr){var e=Oa;if(e){var r=e;if(!k4(t,e)){if(cw(t))throw Error(qe(418));e=gc(r.nextSibling);var n=La;e&&k4(t,e)?Y6(n,r):(t.flags=t.flags&-4097|2,Qr=!1,La=t)}}else{if(cw(t))throw Error(qe(418));t.flags=t.flags&-4097|2,Qr=!1,La=t}}}function I4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;La=t}function im(t){if(t!==La)return!1;if(!Qr)return I4(t),Qr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aw(t.type,t.memoizedProps)),e&&(e=Oa)){if(cw(t))throw Z6(),Error(qe(418));for(;e;)Y6(t,e),e=gc(e.nextSibling)}if(I4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Oa=gc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Oa=null}}else Oa=La?gc(t.stateNode.nextSibling):null;return!0}function Z6(){for(var t=Oa;t;)t=gc(t.nextSibling)}function Hf(){Oa=La=null,Qr=!1}function sb(t){Is===null?Is=[t]:Is.push(t)}var s9=_l.ReactCurrentBatchConfig;function i1(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,t))}return t}function am(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T4(t){var e=t._init;return e(t._payload)}function K6(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=bc(x,w),x.index=0,x.sibling=null,x}function a(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,_,N){return w===null||w.tag!==6?(w=Ex(_,x.mode,N),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,N){var k=_.type;return k===Xd?d(x,w,_.props.children,N,_.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xl&&T4(k)===w.type)?(N=i(w,_.props),N.ref=i1(x,w,_),N.return=x,N):(N=Wm(_.type,_.key,_.props,null,x.mode,N),N.ref=i1(x,w,_),N.return=x,N)}function u(x,w,_,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=jx(_,x.mode,N),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,N,k){return w===null||w.tag!==7?(w=Bu(_,x.mode,N,k),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ex(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xp:return _=Wm(w.type,w.key,w.props,null,x.mode,_),_.ref=i1(x,null,w),_.return=x,_;case Gd:return w=jx(w,x.mode,_),w.return=x,w;case Xl:var N=w._init;return f(x,N(w._payload),_)}if(w1(w)||Jh(w))return w=Bu(w,x.mode,_,null),w.return=x,w;am(x,w)}return null}function p(x,w,_,N){var k=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:o(x,w,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xp:return _.key===k?l(x,w,_,N):null;case Gd:return _.key===k?u(x,w,_,N):null;case Xl:return k=_._init,p(x,w,k(_._payload),N)}if(w1(_)||Jh(_))return k!==null?null:d(x,w,_,N,null);am(x,_)}return null}function h(x,w,_,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(_)||null,o(w,x,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xp:return x=x.get(N.key===null?_:N.key)||null,l(w,x,N,k);case Gd:return x=x.get(N.key===null?_:N.key)||null,u(w,x,N,k);case Xl:var D=N._init;return h(x,w,_,D(N._payload),k)}if(w1(N)||Jh(N))return x=x.get(_)||null,d(w,x,N,k,null);am(w,N)}return null}function g(x,w,_,N){for(var k=null,D=null,T=w,R=w=0,P=null;T!==null&&R<_.length;R++){T.index>R?(P=T,T=null):P=T.sibling;var O=p(x,T,_[R],N);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(x,T),w=a(O,w,R),D===null?k=O:D.sibling=O,D=O,T=P}if(R===_.length)return r(x,T),Qr&&vu(x,R),k;if(T===null){for(;R<_.length;R++)T=f(x,_[R],N),T!==null&&(w=a(T,w,R),D===null?k=T:D.sibling=T,D=T);return Qr&&vu(x,R),k}for(T=n(x,T);R<_.length;R++)P=h(T,x,R,_[R],N),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?R:P.key),w=a(P,w,R),D===null?k=P:D.sibling=P,D=P);return t&&T.forEach(function(j){return e(x,j)}),Qr&&vu(x,R),k}function v(x,w,_,N){var k=Jh(_);if(typeof k!="function")throw Error(qe(150));if(_=k.call(_),_==null)throw Error(qe(151));for(var D=k=null,T=w,R=w=0,P=null,O=_.next();T!==null&&!O.done;R++,O=_.next()){T.index>R?(P=T,T=null):P=T.sibling;var j=p(x,T,O.value,N);if(j===null){T===null&&(T=P);break}t&&T&&j.alternate===null&&e(x,T),w=a(j,w,R),D===null?k=j:D.sibling=j,D=j,T=P}if(O.done)return r(x,T),Qr&&vu(x,R),k;if(T===null){for(;!O.done;R++,O=_.next())O=f(x,O.value,N),O!==null&&(w=a(O,w,R),D===null?k=O:D.sibling=O,D=O);return Qr&&vu(x,R),k}for(T=n(x,T);!O.done;R++,O=_.next())O=h(T,x,R,O.value,N),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?R:O.key),w=a(O,w,R),D===null?k=O:D.sibling=O,D=O);return t&&T.forEach(function(E){return e(x,E)}),Qr&&vu(x,R),k}function b(x,w,_,N){if(typeof _=="object"&&_!==null&&_.type===Xd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xp:e:{for(var k=_.key,D=w;D!==null;){if(D.key===k){if(k=_.type,k===Xd){if(D.tag===7){r(x,D.sibling),w=i(D,_.props.children),w.return=x,x=w;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xl&&T4(k)===D.type){r(x,D.sibling),w=i(D,_.props),w.ref=i1(x,D,_),w.return=x,x=w;break e}r(x,D);break}else e(x,D);D=D.sibling}_.type===Xd?(w=Bu(_.props.children,x.mode,N,_.key),w.return=x,x=w):(N=Wm(_.type,_.key,_.props,null,x.mode,N),N.ref=i1(x,w,_),N.return=x,x=N)}return s(x);case Gd:e:{for(D=_.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=jx(_,x.mode,N),w.return=x,x=w}return s(x);case Xl:return D=_._init,b(x,w,D(_._payload),N)}if(w1(_))return g(x,w,_,N);if(Jh(_))return v(x,w,_,N);am(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,_),w.return=x,x=w):(r(x,w),w=Ex(_,x.mode,N),w.return=x,x=w),s(x)):r(x,w)}return b}var Wf=K6(!0),Q6=K6(!1),Iv=Wc(null),Tv=null,rf=null,ob=null;function lb(){ob=rf=Tv=null}function cb(t){var e=Iv.current;Zr(Iv),t._currentValue=e}function dw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vf(t,e){Tv=t,ob=rf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fa=!0),t.firstContext=null)}function os(t){var e=t._currentValue;if(ob!==t)if(t={context:t,memoizedValue:e,next:null},rf===null){if(Tv===null)throw Error(qe(308));rf=t,Tv.dependencies={lanes:0,firstContext:t}}else rf=rf.next=t;return e}var Su=null;function ub(t){Su===null?Su=[t]:Su.push(t)}function J6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ub(e)):(r.next=i.next,i.next=r),e.interleaved=r,vl(t,n)}function vl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Yl=!1;function db(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,fr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vl(t,r)}return i=n.interleaved,i===null?(e.next=e,ub(n)):(e.next=i.next,i.next=e),n.interleaved=e,vl(t,r)}function Um(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z5(t,r)}}function P4(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Pv(t,e,r,n){var i=t.updateQueue;Yl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var p=o.lane,h=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(p=e,h=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=on({},f,p);break e;case 2:Yl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Gu|=s,t.lanes=s,t.memoizedState=f}}function O4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(qe(191,i));i.call(n)}}}var tp={},So=Wc(tp),a0=Wc(tp),s0=Wc(tp);function Au(t){if(t===tp)throw Error(qe(174));return t}function fb(t,e){switch(zr(s0,e),zr(a0,t),zr(So,tp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hy(e,t)}Zr(So),zr(So,e)}function Gf(){Zr(So),Zr(a0),Zr(s0)}function t8(t){Au(s0.current);var e=Au(So.current),r=Hy(e,t.type);e!==r&&(zr(a0,t),zr(So,r))}function hb(t){a0.current===t&&(Zr(So),Zr(a0))}var an=Wc(0);function Ov(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bx=[];function pb(){for(var t=0;t<bx.length;t++)bx[t]._workInProgressVersionPrimary=null;bx.length=0}var zm=_l.ReactCurrentDispatcher,_x=_l.ReactCurrentBatchConfig,Wu=0,sn=null,Hn=null,ii=null,Rv=!1,M1=!1,o0=0,o9=0;function Ci(){throw Error(qe(321))}function mb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zs(t[r],e[r]))return!1;return!0}function vb(t,e,r,n,i,a){if(Wu=a,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zm.current=t===null||t.memoizedState===null?d9:f9,t=r(n,i),M1){a=0;do{if(M1=!1,o0=0,25<=a)throw Error(qe(301));a+=1,ii=Hn=null,e.updateQueue=null,zm.current=h9,t=r(n,i)}while(M1)}if(zm.current=Dv,e=Hn!==null&&Hn.next!==null,Wu=0,ii=Hn=sn=null,Rv=!1,e)throw Error(qe(300));return t}function gb(){var t=o0!==0;return o0=0,t}function fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?sn.memoizedState=ii=t:ii=ii.next=t,ii}function ls(){if(Hn===null){var t=sn.alternate;t=t!==null?t.memoizedState:null}else t=Hn.next;var e=ii===null?sn.memoizedState:ii.next;if(e!==null)ii=e,Hn=t;else{if(t===null)throw Error(qe(310));Hn=t,t={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ii===null?sn.memoizedState=ii=t:ii=ii.next=t}return ii}function l0(t,e){return typeof e=="function"?e(t):e}function Nx(t){var e=ls(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=Hn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Wu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,sn.lanes|=d,Gu|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,zs(n,e.memoizedState)||(fa=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,sn.lanes|=a,Gu|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sx(t){var e=ls(),r=e.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);zs(a,e.memoizedState)||(fa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function r8(){}function n8(t,e){var r=sn,n=ls(),i=e(),a=!zs(n.memoizedState,i);if(a&&(n.memoizedState=i,fa=!0),n=n.queue,xb(s8.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||ii!==null&&ii.memoizedState.tag&1){if(r.flags|=2048,c0(9,a8.bind(null,r,n,i,e),void 0,null),li===null)throw Error(qe(349));Wu&30||i8(r,e,i)}return i}function i8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function a8(t,e,r,n){e.value=r,e.getSnapshot=n,o8(e)&&l8(t)}function s8(t,e,r){return r(function(){o8(e)&&l8(t)})}function o8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zs(t,r)}catch{return!0}}function l8(t){var e=vl(t,1);e!==null&&Bs(e,t,1,-1)}function R4(t){var e=fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:t},e.queue=t,t=t.dispatch=u9.bind(null,sn,t),[e.memoizedState,t]}function c0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function c8(){return ls().memoizedState}function Vm(t,e,r,n){var i=fo();sn.flags|=t,i.memoizedState=c0(1|e,r,void 0,n===void 0?null:n)}function Lg(t,e,r,n){var i=ls();n=n===void 0?null:n;var a=void 0;if(Hn!==null){var s=Hn.memoizedState;if(a=s.destroy,n!==null&&mb(n,s.deps)){i.memoizedState=c0(e,r,a,n);return}}sn.flags|=t,i.memoizedState=c0(1|e,r,a,n)}function D4(t,e){return Vm(8390656,8,t,e)}function xb(t,e){return Lg(2048,8,t,e)}function u8(t,e){return Lg(4,2,t,e)}function d8(t,e){return Lg(4,4,t,e)}function f8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h8(t,e,r){return r=r!=null?r.concat([t]):null,Lg(4,4,f8.bind(null,e,t),r)}function yb(){}function p8(t,e){var r=ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function m8(t,e){var r=ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mb(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function v8(t,e,r){return Wu&21?(zs(r,e)||(r=b6(),sn.lanes|=r,Gu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fa=!0),t.memoizedState=r)}function l9(t,e){var r=kr;kr=r!==0&&4>r?r:4,t(!0);var n=_x.transition;_x.transition={};try{t(!1),e()}finally{kr=r,_x.transition=n}}function g8(){return ls().memoizedState}function c9(t,e,r){var n=wc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x8(t))y8(e,r);else if(r=J6(t,e,r,n),r!==null){var i=Qi();Bs(r,t,n,i),w8(r,e,n)}}function u9(t,e,r){var n=wc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x8(t))y8(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,zs(o,s)){var l=e.interleaved;l===null?(i.next=i,ub(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=J6(t,e,i,n),r!==null&&(i=Qi(),Bs(r,t,n,i),w8(r,e,n))}}function x8(t){var e=t.alternate;return t===sn||e!==null&&e===sn}function y8(t,e){M1=Rv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function w8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z5(t,r)}}var Dv={readContext:os,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},d9={readContext:os,useCallback:function(t,e){return fo().memoizedState=[t,e===void 0?null:e],t},useContext:os,useEffect:D4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vm(4194308,4,f8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vm(4,2,t,e)},useMemo:function(t,e){var r=fo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=c9.bind(null,sn,t),[n.memoizedState,t]},useRef:function(t){var e=fo();return t={current:t},e.memoizedState=t},useState:R4,useDebugValue:yb,useDeferredValue:function(t){return fo().memoizedState=t},useTransition:function(){var t=R4(!1),e=t[0];return t=l9.bind(null,t[1]),fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sn,i=fo();if(Qr){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=e(),li===null)throw Error(qe(349));Wu&30||i8(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,D4(s8.bind(null,n,a,t),[t]),n.flags|=2048,c0(9,a8.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=fo(),e=li.identifierPrefix;if(Qr){var r=cl,n=ll;r=(n&~(1<<32-Fs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=o0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=o9++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f9={readContext:os,useCallback:p8,useContext:os,useEffect:xb,useImperativeHandle:h8,useInsertionEffect:u8,useLayoutEffect:d8,useMemo:m8,useReducer:Nx,useRef:c8,useState:function(){return Nx(l0)},useDebugValue:yb,useDeferredValue:function(t){var e=ls();return v8(e,Hn.memoizedState,t)},useTransition:function(){var t=Nx(l0)[0],e=ls().memoizedState;return[t,e]},useMutableSource:r8,useSyncExternalStore:n8,useId:g8,unstable_isNewReconciler:!1},h9={readContext:os,useCallback:p8,useContext:os,useEffect:xb,useImperativeHandle:h8,useInsertionEffect:u8,useLayoutEffect:d8,useMemo:m8,useReducer:Sx,useRef:c8,useState:function(){return Sx(l0)},useDebugValue:yb,useDeferredValue:function(t){var e=ls();return Hn===null?e.memoizedState=t:v8(e,Hn.memoizedState,t)},useTransition:function(){var t=Sx(l0)[0],e=ls().memoizedState;return[t,e]},useMutableSource:r8,useSyncExternalStore:n8,useId:g8,unstable_isNewReconciler:!1};function Es(t,e){if(t&&t.defaultProps){e=on({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:on({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mg={isMounted:function(t){return(t=t._reactInternals)?cd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qi(),i=wc(t),a=dl(n,i);a.payload=e,r!=null&&(a.callback=r),e=xc(t,a,i),e!==null&&(Bs(e,t,i,n),Um(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qi(),i=wc(t),a=dl(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=xc(t,a,i),e!==null&&(Bs(e,t,i,n),Um(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qi(),n=wc(t),i=dl(r,n);i.tag=2,e!=null&&(i.callback=e),e=xc(t,i,n),e!==null&&(Bs(e,t,n,r),Um(e,t,n))}};function L4(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!t0(r,n)||!t0(i,a):!0}function b8(t,e,r){var n=!1,i=Ic,a=e.contextType;return typeof a=="object"&&a!==null?a=os(a):(i=ma(e)?$u:Di.current,n=e.contextTypes,a=(n=n!=null)?$f(t,i):Ic),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function M4(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Mg.enqueueReplaceState(e,e.state,null)}function hw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},db(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=os(a):(a=ma(e)?$u:Di.current,i.context=$f(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(fw(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mg.enqueueReplaceState(i,i.state,null),Pv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xf(t,e){try{var r="",n=e;do r+=zO(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ax(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var p9=typeof WeakMap=="function"?WeakMap:Map;function _8(t,e,r){r=dl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mv||(Mv=!0,Sw=n),pw(t,e)},r}function N8(t,e,r){r=dl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){pw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){pw(t,e),typeof n!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function F4(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new p9;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=j9.bind(null,t,e,r),e.then(t,t))}function B4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U4(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=dl(-1,1),e.tag=2,xc(r,e,1))),r.lanes|=1),t)}var m9=_l.ReactCurrentOwner,fa=!1;function Yi(t,e,r,n){e.child=t===null?Q6(e,null,r,n):Wf(e,t.child,r,n)}function z4(t,e,r,n,i){r=r.render;var a=e.ref;return vf(e,i),n=vb(t,e,r,n,a,i),r=gb(),t!==null&&!fa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gl(t,e,i)):(Qr&&r&&ib(e),e.flags|=1,Yi(t,e,n,i),e.child)}function V4(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Eb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,S8(t,e,a,n,i)):(t=Wm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:t0,r(s,n)&&t.ref===e.ref)return gl(t,e,i)}return e.flags|=1,t=bc(a,n),t.ref=e.ref,t.return=e,e.child=t}function S8(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(t0(a,n)&&t.ref===e.ref)if(fa=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(fa=!0);else return e.lanes=t.lanes,gl(t,e,i)}return mw(t,e,r,n,i)}function A8(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(af,Ia),Ia|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zr(af,Ia),Ia|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,zr(af,Ia),Ia|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,zr(af,Ia),Ia|=n;return Yi(t,e,i,r),e.child}function C8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mw(t,e,r,n,i){var a=ma(r)?$u:Di.current;return a=$f(e,a),vf(e,i),r=vb(t,e,r,n,a,i),n=gb(),t!==null&&!fa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gl(t,e,i)):(Qr&&n&&ib(e),e.flags|=1,Yi(t,e,r,i),e.child)}function q4(t,e,r,n,i){if(ma(r)){var a=!0;Ev(e)}else a=!1;if(vf(e,i),e.stateNode===null)qm(t,e),b8(e,r,n),hw(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=os(u):(u=ma(r)?$u:Di.current,u=$f(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&M4(e,s,n,u),Yl=!1;var p=e.memoizedState;s.state=p,Pv(e,n,s,i),l=e.memoizedState,o!==n||p!==l||pa.current||Yl?(typeof d=="function"&&(fw(e,r,d,n),l=e.memoizedState),(o=Yl||L4(e,r,o,n,p,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,e8(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Es(e.type,o),s.props=u,f=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=os(l):(l=ma(r)?$u:Di.current,l=$f(e,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||p!==l)&&M4(e,s,n,l),Yl=!1,p=e.memoizedState,s.state=p,Pv(e,n,s,i);var g=e.memoizedState;o!==f||p!==g||pa.current||Yl?(typeof h=="function"&&(fw(e,r,h,n),g=e.memoizedState),(u=Yl||L4(e,r,u,n,p,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return vw(t,e,r,n,a,i)}function vw(t,e,r,n,i,a){C8(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&j4(e,r,!1),gl(t,e,a);n=e.stateNode,m9.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Wf(e,t.child,null,a),e.child=Wf(e,null,o,a)):Yi(t,e,o,a),e.memoizedState=n.state,i&&j4(e,r,!0),e.child}function E8(t){var e=t.stateNode;e.pendingContext?E4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E4(t,e.context,!1),fb(t,e.containerInfo)}function $4(t,e,r,n,i){return Hf(),sb(i),e.flags|=256,Yi(t,e,r,n),e.child}var gw={dehydrated:null,treeContext:null,retryLane:0};function xw(t){return{baseLanes:t,cachePool:null,transitions:null}}function j8(t,e,r){var n=e.pendingProps,i=an.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),zr(an,i&1),t===null)return uw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ug(s,n,0,null),t=Bu(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=xw(r),e.memoizedState=gw,t):wb(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return v9(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=bc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=bc(o,a):(a=Bu(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?xw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=gw,n}return a=t.child,t=a.sibling,n=bc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wb(t,e){return e=Ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sm(t,e,r,n){return n!==null&&sb(n),Wf(e,t.child,null,r),t=wb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v9(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Ax(Error(qe(422))),sm(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ug({mode:"visible",children:n.children},i,0,null),a=Bu(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Wf(e,t.child,null,s),e.child.memoizedState=xw(s),e.memoizedState=gw,a);if(!(e.mode&1))return sm(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(qe(419)),n=Ax(a,n,void 0),sm(t,e,s,n)}if(o=(s&t.childLanes)!==0,fa||o){if(n=li,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vl(t,i),Bs(n,t,i,-1))}return Cb(),n=Ax(Error(qe(421))),sm(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k9.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Oa=gc(i.nextSibling),La=e,Qr=!0,Is=null,t!==null&&(Qa[Ja++]=ll,Qa[Ja++]=cl,Qa[Ja++]=Hu,ll=t.id,cl=t.overflow,Hu=e),e=wb(e,n.children),e.flags|=4096,e)}function H4(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dw(t.return,e,r)}function Cx(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function k8(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Yi(t,e,n.children,r),n=an.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H4(t,r,e);else if(t.tag===19)H4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(zr(an,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ov(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Cx(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ov(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cx(e,!0,r,null,a);break;case"together":Cx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,r=bc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function g9(t,e,r){switch(e.tag){case 3:E8(e),Hf();break;case 5:t8(e);break;case 1:ma(e.type)&&Ev(e);break;case 4:fb(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;zr(Iv,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(zr(an,an.current&1),e.flags|=128,null):r&e.child.childLanes?j8(t,e,r):(zr(an,an.current&1),t=gl(t,e,r),t!==null?t.sibling:null);zr(an,an.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return k8(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zr(an,an.current),n)break;return null;case 22:case 23:return e.lanes=0,A8(t,e,r)}return gl(t,e,r)}var I8,yw,T8,P8;I8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yw=function(){};T8=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Au(So.current);var a=null;switch(r){case"input":i=zy(t,i),n=zy(t,n),a=[];break;case"select":i=on({},i,{value:void 0}),n=on({},n,{value:void 0}),a=[];break;case"textarea":i=$y(t,i),n=$y(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Av)}Wy(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(X1.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(X1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wr("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};P8=function(t,e,r,n){r!==n&&(e.flags|=4)};function a1(t,e){if(!Qr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function x9(t,e,r){var n=e.pendingProps;switch(ab(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(e),null;case 1:return ma(e.type)&&Cv(),Ei(e),null;case 3:return n=e.stateNode,Gf(),Zr(pa),Zr(Di),pb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(im(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(Ew(Is),Is=null))),yw(t,e),Ei(e),null;case 5:hb(e);var i=Au(s0.current);if(r=e.type,t!==null&&e.stateNode!=null)T8(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(qe(166));return Ei(e),null}if(t=Au(So.current),im(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[go]=e,n[i0]=a,t=(e.mode&1)!==0,r){case"dialog":Wr("cancel",n),Wr("close",n);break;case"iframe":case"object":case"embed":Wr("load",n);break;case"video":case"audio":for(i=0;i<_1.length;i++)Wr(_1[i],n);break;case"source":Wr("error",n);break;case"img":case"image":case"link":Wr("error",n),Wr("load",n);break;case"details":Wr("toggle",n);break;case"input":e4(n,a),Wr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Wr("invalid",n);break;case"textarea":r4(n,a),Wr("invalid",n)}Wy(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&nm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&nm(n.textContent,o,t),i=["children",""+o]):X1.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Wr("scroll",n)}switch(r){case"input":Yp(n),t4(n,a,!0);break;case"textarea":Yp(n),n4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Av)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s6(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[go]=e,t[i0]=n,I8(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gy(r,n),r){case"dialog":Wr("cancel",t),Wr("close",t),i=n;break;case"iframe":case"object":case"embed":Wr("load",t),i=n;break;case"video":case"audio":for(i=0;i<_1.length;i++)Wr(_1[i],t);i=n;break;case"source":Wr("error",t),i=n;break;case"img":case"image":case"link":Wr("error",t),Wr("load",t),i=n;break;case"details":Wr("toggle",t),i=n;break;case"input":e4(t,n),i=zy(t,n),Wr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=on({},n,{value:void 0}),Wr("invalid",t);break;case"textarea":r4(t,n),i=$y(t,n),Wr("invalid",t);break;default:i=n}Wy(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?c6(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o6(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Y1(t,l):typeof l=="number"&&Y1(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(X1.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Wr("scroll",t):l!=null&&$5(t,a,l,s))}switch(r){case"input":Yp(t),t4(t,n,!1);break;case"textarea":Yp(t),n4(t);break;case"option":n.value!=null&&t.setAttribute("value",""+kc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ff(t,!!n.multiple,a,!1):n.defaultValue!=null&&ff(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Av)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ei(e),null;case 6:if(t&&e.stateNode!=null)P8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(qe(166));if(r=Au(s0.current),Au(So.current),im(e)){if(n=e.stateNode,r=e.memoizedProps,n[go]=e,(a=n.nodeValue!==r)&&(t=La,t!==null))switch(t.tag){case 3:nm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nm(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[go]=e,e.stateNode=n}return Ei(e),null;case 13:if(Zr(an),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qr&&Oa!==null&&e.mode&1&&!(e.flags&128))Z6(),Hf(),e.flags|=98560,a=!1;else if(a=im(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(qe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(qe(317));a[go]=e}else Hf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ei(e),a=!1}else Is!==null&&(Ew(Is),Is=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?Zn===0&&(Zn=3):Cb())),e.updateQueue!==null&&(e.flags|=4),Ei(e),null);case 4:return Gf(),yw(t,e),t===null&&r0(e.stateNode.containerInfo),Ei(e),null;case 10:return cb(e.type._context),Ei(e),null;case 17:return ma(e.type)&&Cv(),Ei(e),null;case 19:if(Zr(an),a=e.memoizedState,a===null)return Ei(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)a1(a,!1);else{if(Zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ov(t),s!==null){for(e.flags|=128,a1(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return zr(an,an.current&1|2),e.child}t=t.sibling}a.tail!==null&&Sn()>Yf&&(e.flags|=128,n=!0,a1(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ov(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),a1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qr)return Ei(e),null}else 2*Sn()-a.renderingStartTime>Yf&&r!==1073741824&&(e.flags|=128,n=!0,a1(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Sn(),e.sibling=null,r=an.current,zr(an,n?r&1|2:r&1),e):(Ei(e),null);case 22:case 23:return Ab(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ia&1073741824&&(Ei(e),e.subtreeFlags&6&&(e.flags|=8192)):Ei(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function y9(t,e){switch(ab(e),e.tag){case 1:return ma(e.type)&&Cv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gf(),Zr(pa),Zr(Di),pb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hb(e),null;case 13:if(Zr(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));Hf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zr(an),null;case 4:return Gf(),null;case 10:return cb(e.type._context),null;case 22:case 23:return Ab(),null;case 24:return null;default:return null}}var om=!1,Ri=!1,w9=typeof WeakSet=="function"?WeakSet:Set,nt=null;function nf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pn(t,e,n)}else r.current=null}function ww(t,e,r){try{r()}catch(n){pn(t,e,n)}}var W4=!1;function b9(t,e){if(nw=_v,t=M6(),nb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===r&&++u===i&&(o=s),p===a&&++d===n&&(l=s),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(iw={focusedElem:t,selectionRange:r},_v=!1,nt=e;nt!==null;)if(e=nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nt=t;else for(;nt!==null;){e=nt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Es(e.type,v),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(N){pn(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}return g=W4,W4=!1,g}function F1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ww(e,r,a)}i=i.next}while(i!==n)}}function Fg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bw(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function O8(t){var e=t.alternate;e!==null&&(t.alternate=null,O8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[go],delete e[i0],delete e[ow],delete e[n9],delete e[i9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R8(t){return t.tag===5||t.tag===3||t.tag===4}function G4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _w(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Av));else if(n!==4&&(t=t.child,t!==null))for(_w(t,e,r),t=t.sibling;t!==null;)_w(t,e,r),t=t.sibling}function Nw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nw(t,e,r),t=t.sibling;t!==null;)Nw(t,e,r),t=t.sibling}var xi=null,ks=!1;function Fl(t,e,r){for(r=r.child;r!==null;)D8(t,e,r),r=r.sibling}function D8(t,e,r){if(No&&typeof No.onCommitFiberUnmount=="function")try{No.onCommitFiberUnmount(Ig,r)}catch{}switch(r.tag){case 5:Ri||nf(r,e);case 6:var n=xi,i=ks;xi=null,Fl(t,e,r),xi=n,ks=i,xi!==null&&(ks?(t=xi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xi.removeChild(r.stateNode));break;case 18:xi!==null&&(ks?(t=xi,r=r.stateNode,t.nodeType===8?yx(t.parentNode,r):t.nodeType===1&&yx(t,r),J1(t)):yx(xi,r.stateNode));break;case 4:n=xi,i=ks,xi=r.stateNode.containerInfo,ks=!0,Fl(t,e,r),xi=n,ks=i;break;case 0:case 11:case 14:case 15:if(!Ri&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ww(r,e,s),i=i.next}while(i!==n)}Fl(t,e,r);break;case 1:if(!Ri&&(nf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pn(r,e,o)}Fl(t,e,r);break;case 21:Fl(t,e,r);break;case 22:r.mode&1?(Ri=(n=Ri)||r.memoizedState!==null,Fl(t,e,r),Ri=n):Fl(t,e,r);break;default:Fl(t,e,r)}}function X4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new w9),e.forEach(function(n){var i=I9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ns(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:xi=o.stateNode,ks=!1;break e;case 3:xi=o.stateNode.containerInfo,ks=!0;break e;case 4:xi=o.stateNode.containerInfo,ks=!0;break e}o=o.return}if(xi===null)throw Error(qe(160));D8(a,s,i),xi=null,ks=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L8(e,t),e=e.sibling}function L8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ns(e,t),lo(t),n&4){try{F1(3,t,t.return),Fg(3,t)}catch(v){pn(t,t.return,v)}try{F1(5,t,t.return)}catch(v){pn(t,t.return,v)}}break;case 1:Ns(e,t),lo(t),n&512&&r!==null&&nf(r,r.return);break;case 5:if(Ns(e,t),lo(t),n&512&&r!==null&&nf(r,r.return),t.flags&32){var i=t.stateNode;try{Y1(i,"")}catch(v){pn(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&i6(i,a),Gy(o,s);var u=Gy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?c6(i,f):d==="dangerouslySetInnerHTML"?o6(i,f):d==="children"?Y1(i,f):$5(i,d,f,u)}switch(o){case"input":Vy(i,a);break;case"textarea":a6(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?ff(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?ff(i,!!a.multiple,a.defaultValue,!0):ff(i,!!a.multiple,a.multiple?[]:"",!1))}i[i0]=a}catch(v){pn(t,t.return,v)}}break;case 6:if(Ns(e,t),lo(t),n&4){if(t.stateNode===null)throw Error(qe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){pn(t,t.return,v)}}break;case 3:if(Ns(e,t),lo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{J1(e.containerInfo)}catch(v){pn(t,t.return,v)}break;case 4:Ns(e,t),lo(t);break;case 13:Ns(e,t),lo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Nb=Sn())),n&4&&X4(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ri=(u=Ri)||d,Ns(e,t),Ri=u):Ns(e,t),lo(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(nt=t,d=t.child;d!==null;){for(f=nt=d;nt!==null;){switch(p=nt,h=p.child,p.tag){case 0:case 11:case 14:case 15:F1(4,p,p.return);break;case 1:nf(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){pn(n,r,v)}}break;case 5:nf(p,p.return);break;case 22:if(p.memoizedState!==null){Z4(f);continue}}h!==null?(h.return=p,nt=h):Z4(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=l6("display",s))}catch(v){pn(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){pn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ns(e,t),lo(t),n&4&&X4(t);break;case 21:break;default:Ns(e,t),lo(t)}}function lo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(R8(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Y1(i,""),n.flags&=-33);var a=G4(t);Nw(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=G4(t);_w(t,o,s);break;default:throw Error(qe(161))}}catch(l){pn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _9(t,e,r){nt=t,M8(t)}function M8(t,e,r){for(var n=(t.mode&1)!==0;nt!==null;){var i=nt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||om;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ri;o=om;var u=Ri;if(om=s,(Ri=l)&&!u)for(nt=i;nt!==null;)s=nt,l=s.child,s.tag===22&&s.memoizedState!==null?K4(i):l!==null?(l.return=s,nt=l):K4(i);for(;a!==null;)nt=a,M8(a),a=a.sibling;nt=i,om=o,Ri=u}Y4(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,nt=a):Y4(t)}}function Y4(t){for(;nt!==null;){var e=nt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ri||Fg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ri)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Es(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&O4(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}O4(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&J1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Ri||e.flags&512&&bw(e)}catch(p){pn(e,e.return,p)}}if(e===t){nt=null;break}if(r=e.sibling,r!==null){r.return=e.return,nt=r;break}nt=e.return}}function Z4(t){for(;nt!==null;){var e=nt;if(e===t){nt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nt=r;break}nt=e.return}}function K4(t){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fg(4,e)}catch(l){pn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){pn(e,i,l)}}var a=e.return;try{bw(e)}catch(l){pn(e,a,l)}break;case 5:var s=e.return;try{bw(e)}catch(l){pn(e,s,l)}}}catch(l){pn(e,e.return,l)}if(e===t){nt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,nt=o;break}nt=e.return}}var N9=Math.ceil,Lv=_l.ReactCurrentDispatcher,bb=_l.ReactCurrentOwner,is=_l.ReactCurrentBatchConfig,fr=0,li=null,On=null,bi=0,Ia=0,af=Wc(0),Zn=0,u0=null,Gu=0,Bg=0,_b=0,B1=null,ua=null,Nb=0,Yf=1/0,rl=null,Mv=!1,Sw=null,yc=null,lm=!1,dc=null,Fv=0,U1=0,Aw=null,$m=-1,Hm=0;function Qi(){return fr&6?Sn():$m!==-1?$m:$m=Sn()}function wc(t){return t.mode&1?fr&2&&bi!==0?bi&-bi:s9.transition!==null?(Hm===0&&(Hm=b6()),Hm):(t=kr,t!==0||(t=window.event,t=t===void 0?16:j6(t.type)),t):1}function Bs(t,e,r,n){if(50<U1)throw U1=0,Aw=null,Error(qe(185));Q0(t,r,n),(!(fr&2)||t!==li)&&(t===li&&(!(fr&2)&&(Bg|=r),Zn===4&&Ql(t,bi)),va(t,n),r===1&&fr===0&&!(e.mode&1)&&(Yf=Sn()+500,Dg&&Gc()))}function va(t,e){var r=t.callbackNode;sR(t,e);var n=bv(t,t===li?bi:0);if(n===0)r!==null&&s4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&s4(r),e===1)t.tag===0?a9(Q4.bind(null,t)):G6(Q4.bind(null,t)),t9(function(){!(fr&6)&&Gc()}),r=null;else{switch(_6(n)){case 1:r=Y5;break;case 4:r=y6;break;case 16:r=wv;break;case 536870912:r=w6;break;default:r=wv}r=H8(r,F8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function F8(t,e){if($m=-1,Hm=0,fr&6)throw Error(qe(327));var r=t.callbackNode;if(gf()&&t.callbackNode!==r)return null;var n=bv(t,t===li?bi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bv(t,n);else{e=n;var i=fr;fr|=2;var a=U8();(li!==t||bi!==e)&&(rl=null,Yf=Sn()+500,Fu(t,e));do try{C9();break}catch(o){B8(t,o)}while(!0);lb(),Lv.current=a,fr=i,On!==null?e=0:(li=null,bi=0,e=Zn)}if(e!==0){if(e===2&&(i=Qy(t),i!==0&&(n=i,e=Cw(t,i))),e===1)throw r=u0,Fu(t,0),Ql(t,n),va(t,Sn()),r;if(e===6)Ql(t,n);else{if(i=t.current.alternate,!(n&30)&&!S9(i)&&(e=Bv(t,n),e===2&&(a=Qy(t),a!==0&&(n=a,e=Cw(t,a))),e===1))throw r=u0,Fu(t,0),Ql(t,n),va(t,Sn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(qe(345));case 2:gu(t,ua,rl);break;case 3:if(Ql(t,n),(n&130023424)===n&&(e=Nb+500-Sn(),10<e)){if(bv(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Qi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sw(gu.bind(null,t,ua,rl),e);break}gu(t,ua,rl);break;case 4:if(Ql(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Fs(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*N9(n/1960))-n,10<n){t.timeoutHandle=sw(gu.bind(null,t,ua,rl),n);break}gu(t,ua,rl);break;case 5:gu(t,ua,rl);break;default:throw Error(qe(329))}}}return va(t,Sn()),t.callbackNode===r?F8.bind(null,t):null}function Cw(t,e){var r=B1;return t.current.memoizedState.isDehydrated&&(Fu(t,e).flags|=256),t=Bv(t,e),t!==2&&(e=ua,ua=r,e!==null&&Ew(e)),t}function Ew(t){ua===null?ua=t:ua.push.apply(ua,t)}function S9(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!zs(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ql(t,e){for(e&=~_b,e&=~Bg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fs(e),n=1<<r;t[r]=-1,e&=~n}}function Q4(t){if(fr&6)throw Error(qe(327));gf();var e=bv(t,0);if(!(e&1))return va(t,Sn()),null;var r=Bv(t,e);if(t.tag!==0&&r===2){var n=Qy(t);n!==0&&(e=n,r=Cw(t,n))}if(r===1)throw r=u0,Fu(t,0),Ql(t,e),va(t,Sn()),r;if(r===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gu(t,ua,rl),va(t,Sn()),null}function Sb(t,e){var r=fr;fr|=1;try{return t(e)}finally{fr=r,fr===0&&(Yf=Sn()+500,Dg&&Gc())}}function Xu(t){dc!==null&&dc.tag===0&&!(fr&6)&&gf();var e=fr;fr|=1;var r=is.transition,n=kr;try{if(is.transition=null,kr=1,t)return t()}finally{kr=n,is.transition=r,fr=e,!(fr&6)&&Gc()}}function Ab(){Ia=af.current,Zr(af)}function Fu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,e9(r)),On!==null)for(r=On.return;r!==null;){var n=r;switch(ab(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cv();break;case 3:Gf(),Zr(pa),Zr(Di),pb();break;case 5:hb(n);break;case 4:Gf();break;case 13:Zr(an);break;case 19:Zr(an);break;case 10:cb(n.type._context);break;case 22:case 23:Ab()}r=r.return}if(li=t,On=t=bc(t.current,null),bi=Ia=e,Zn=0,u0=null,_b=Bg=Gu=0,ua=B1=null,Su!==null){for(e=0;e<Su.length;e++)if(r=Su[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Su=null}return t}function B8(t,e){do{var r=On;try{if(lb(),zm.current=Dv,Rv){for(var n=sn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rv=!1}if(Wu=0,ii=Hn=sn=null,M1=!1,o0=0,bb.current=null,r===null||r.return===null){Zn=1,u0=e,On=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=bi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=B4(s);if(h!==null){h.flags&=-257,U4(h,s,o,a,e),h.mode&1&&F4(a,u,e),e=h,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){F4(a,u,e),Cb();break e}l=Error(qe(426))}}else if(Qr&&o.mode&1){var b=B4(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),U4(b,s,o,a,e),sb(Xf(l,o));break e}}a=l=Xf(l,o),Zn!==4&&(Zn=2),B1===null?B1=[a]:B1.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=_8(a,l,e);P4(a,x);break e;case 1:o=l;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(yc===null||!yc.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=N8(a,o,e);P4(a,N);break e}}a=a.return}while(a!==null)}V8(r)}catch(k){e=k,On===r&&r!==null&&(On=r=r.return);continue}break}while(!0)}function U8(){var t=Lv.current;return Lv.current=Dv,t===null?Dv:t}function Cb(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),li===null||!(Gu&268435455)&&!(Bg&268435455)||Ql(li,bi)}function Bv(t,e){var r=fr;fr|=2;var n=U8();(li!==t||bi!==e)&&(rl=null,Fu(t,e));do try{A9();break}catch(i){B8(t,i)}while(!0);if(lb(),fr=r,Lv.current=n,On!==null)throw Error(qe(261));return li=null,bi=0,Zn}function A9(){for(;On!==null;)z8(On)}function C9(){for(;On!==null&&!KO();)z8(On)}function z8(t){var e=$8(t.alternate,t,Ia);t.memoizedProps=t.pendingProps,e===null?V8(t):On=e,bb.current=null}function V8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=y9(r,e),r!==null){r.flags&=32767,On=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zn=6,On=null;return}}else if(r=x9(r,e,Ia),r!==null){On=r;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Zn===0&&(Zn=5)}function gu(t,e,r){var n=kr,i=is.transition;try{is.transition=null,kr=1,E9(t,e,r,n)}finally{is.transition=i,kr=n}return null}function E9(t,e,r,n){do gf();while(dc!==null);if(fr&6)throw Error(qe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(oR(t,a),t===li&&(On=li=null,bi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lm||(lm=!0,H8(wv,function(){return gf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=is.transition,is.transition=null;var s=kr;kr=1;var o=fr;fr|=4,bb.current=null,b9(t,r),L8(r,t),GR(iw),_v=!!nw,iw=nw=null,t.current=r,_9(r),QO(),fr=o,kr=s,is.transition=a}else t.current=r;if(lm&&(lm=!1,dc=t,Fv=i),a=t.pendingLanes,a===0&&(yc=null),tR(r.stateNode),va(t,Sn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mv)throw Mv=!1,t=Sw,Sw=null,t;return Fv&1&&t.tag!==0&&gf(),a=t.pendingLanes,a&1?t===Aw?U1++:(U1=0,Aw=t):U1=0,Gc(),null}function gf(){if(dc!==null){var t=_6(Fv),e=is.transition,r=kr;try{if(is.transition=null,kr=16>t?16:t,dc===null)var n=!1;else{if(t=dc,dc=null,Fv=0,fr&6)throw Error(qe(331));var i=fr;for(fr|=4,nt=t.current;nt!==null;){var a=nt,s=a.child;if(nt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(nt=u;nt!==null;){var d=nt;switch(d.tag){case 0:case 11:case 15:F1(8,d,a)}var f=d.child;if(f!==null)f.return=d,nt=f;else for(;nt!==null;){d=nt;var p=d.sibling,h=d.return;if(O8(d),d===u){nt=null;break}if(p!==null){p.return=h,nt=p;break}nt=h}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}nt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,nt=s;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:F1(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,nt=x;break e}nt=a.return}}var w=t.current;for(nt=w;nt!==null;){s=nt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,nt=_;else e:for(s=w;nt!==null;){if(o=nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fg(9,o)}}catch(k){pn(o,o.return,k)}if(o===s){nt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,nt=N;break e}nt=o.return}}if(fr=i,Gc(),No&&typeof No.onPostCommitFiberRoot=="function")try{No.onPostCommitFiberRoot(Ig,t)}catch{}n=!0}return n}finally{kr=r,is.transition=e}}return!1}function J4(t,e,r){e=Xf(r,e),e=_8(t,e,1),t=xc(t,e,1),e=Qi(),t!==null&&(Q0(t,1,e),va(t,e))}function pn(t,e,r){if(t.tag===3)J4(t,t,r);else for(;e!==null;){if(e.tag===3){J4(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yc===null||!yc.has(n))){t=Xf(r,t),t=N8(e,t,1),e=xc(e,t,1),t=Qi(),e!==null&&(Q0(e,1,t),va(e,t));break}}e=e.return}}function j9(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qi(),t.pingedLanes|=t.suspendedLanes&r,li===t&&(bi&r)===r&&(Zn===4||Zn===3&&(bi&130023424)===bi&&500>Sn()-Nb?Fu(t,0):_b|=r),va(t,e)}function q8(t,e){e===0&&(t.mode&1?(e=Qp,Qp<<=1,!(Qp&130023424)&&(Qp=4194304)):e=1);var r=Qi();t=vl(t,e),t!==null&&(Q0(t,e,r),va(t,r))}function k9(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),q8(t,r)}function I9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(e),q8(t,r)}var $8;$8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pa.current)fa=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return fa=!1,g9(t,e,r);fa=!!(t.flags&131072)}else fa=!1,Qr&&e.flags&1048576&&X6(e,kv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qm(t,e),t=e.pendingProps;var i=$f(e,Di.current);vf(e,r),i=vb(null,e,n,t,i,r);var a=gb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ma(n)?(a=!0,Ev(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,db(e),i.updater=Mg,e.stateNode=i,i._reactInternals=e,hw(e,n,t,r),e=vw(null,e,n,!0,a,r)):(e.tag=0,Qr&&a&&ib(e),Yi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=P9(n),t=Es(n,t),i){case 0:e=mw(null,e,n,t,r);break e;case 1:e=q4(null,e,n,t,r);break e;case 11:e=z4(null,e,n,t,r);break e;case 14:e=V4(null,e,n,Es(n.type,t),r);break e}throw Error(qe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Es(n,i),mw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Es(n,i),q4(t,e,n,i,r);case 3:e:{if(E8(e),t===null)throw Error(qe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,e8(t,e),Pv(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Xf(Error(qe(423)),e),e=$4(t,e,n,r,i);break e}else if(n!==i){i=Xf(Error(qe(424)),e),e=$4(t,e,n,r,i);break e}else for(Oa=gc(e.stateNode.containerInfo.firstChild),La=e,Qr=!0,Is=null,r=Q6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hf(),n===i){e=gl(t,e,r);break e}Yi(t,e,n,r)}e=e.child}return e;case 5:return t8(e),t===null&&uw(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,aw(n,i)?s=null:a!==null&&aw(n,a)&&(e.flags|=32),C8(t,e),Yi(t,e,s,r),e.child;case 6:return t===null&&uw(e),null;case 13:return j8(t,e,r);case 4:return fb(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wf(e,null,n,r):Yi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Es(n,i),z4(t,e,n,i,r);case 7:return Yi(t,e,e.pendingProps,r),e.child;case 8:return Yi(t,e,e.pendingProps.children,r),e.child;case 12:return Yi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,zr(Iv,n._currentValue),n._currentValue=s,a!==null)if(zs(a.value,s)){if(a.children===i.children&&!pa.current){e=gl(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=dl(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),dw(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(qe(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),dw(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Yi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,vf(e,r),i=os(i),n=n(i),e.flags|=1,Yi(t,e,n,r),e.child;case 14:return n=e.type,i=Es(n,e.pendingProps),i=Es(n.type,i),V4(t,e,n,i,r);case 15:return S8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Es(n,i),qm(t,e),e.tag=1,ma(n)?(t=!0,Ev(e)):t=!1,vf(e,r),b8(e,n,i),hw(e,n,i,r),vw(null,e,n,!0,t,r);case 19:return k8(t,e,r);case 22:return A8(t,e,r)}throw Error(qe(156,e.tag))};function H8(t,e){return x6(t,e)}function T9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(t,e,r,n){return new T9(t,e,r,n)}function Eb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P9(t){if(typeof t=="function")return Eb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W5)return 11;if(t===G5)return 14}return 2}function bc(t,e){var r=t.alternate;return r===null?(r=rs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Wm(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Eb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Xd:return Bu(r.children,i,a,e);case H5:s=8,i|=8;break;case My:return t=rs(12,r,e,i|2),t.elementType=My,t.lanes=a,t;case Fy:return t=rs(13,r,e,i),t.elementType=Fy,t.lanes=a,t;case By:return t=rs(19,r,e,i),t.elementType=By,t.lanes=a,t;case t6:return Ug(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JC:s=10;break e;case e6:s=9;break e;case W5:s=11;break e;case G5:s=14;break e;case Xl:s=16,n=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=rs(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Bu(t,e,r,n){return t=rs(7,t,n,e),t.lanes=r,t}function Ug(t,e,r,n){return t=rs(22,t,n,e),t.elementType=t6,t.lanes=r,t.stateNode={isHidden:!1},t}function Ex(t,e,r){return t=rs(6,t,null,e),t.lanes=r,t}function jx(t,e,r){return e=rs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jb(t,e,r,n,i,a,s,o,l){return t=new O9(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=rs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},db(a),t}function R9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function W8(t){if(!t)return Ic;t=t._reactInternals;e:{if(cd(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ma(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var r=t.type;if(ma(r))return W6(t,r,e)}return e}function G8(t,e,r,n,i,a,s,o,l){return t=jb(r,n,!0,t,i,a,s,o,l),t.context=W8(null),r=t.current,n=Qi(),i=wc(r),a=dl(n,i),a.callback=e??null,xc(r,a,i),t.current.lanes=i,Q0(t,i,n),va(t,n),t}function zg(t,e,r,n){var i=e.current,a=Qi(),s=wc(i);return r=W8(r),e.context===null?e.context=r:e.pendingContext=r,e=dl(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=xc(i,e,s),t!==null&&(Bs(t,i,s,a),Um(t,i,s)),s}function Uv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kb(t,e){eN(t,e),(t=t.alternate)&&eN(t,e)}function D9(){return null}var X8=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ib(t){this._internalRoot=t}Vg.prototype.render=Ib.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));zg(t,e,null,null)};Vg.prototype.unmount=Ib.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xu(function(){zg(null,t,null,null)}),e[ml]=null}};function Vg(t){this._internalRoot=t}Vg.prototype.unstable_scheduleHydration=function(t){if(t){var e=A6();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Kl.length&&e!==0&&e<Kl[r].priority;r++);Kl.splice(r,0,t),r===0&&E6(t)}};function Tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tN(){}function L9(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Uv(s);a.call(u)}}var s=G8(e,n,t,0,null,!1,!1,"",tN);return t._reactRootContainer=s,t[ml]=s.current,r0(t.nodeType===8?t.parentNode:t),Xu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Uv(l);o.call(u)}}var l=jb(t,0,!1,null,null,!1,!1,"",tN);return t._reactRootContainer=l,t[ml]=l.current,r0(t.nodeType===8?t.parentNode:t),Xu(function(){zg(e,l,r,n)}),l}function $g(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Uv(s);o.call(l)}}zg(e,s,t,i)}else s=L9(r,e,t,i,n);return Uv(s)}N6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=b1(e.pendingLanes);r!==0&&(Z5(e,r|1),va(e,Sn()),!(fr&6)&&(Yf=Sn()+500,Gc()))}break;case 13:Xu(function(){var n=vl(t,1);if(n!==null){var i=Qi();Bs(n,t,1,i)}}),kb(t,1)}};K5=function(t){if(t.tag===13){var e=vl(t,134217728);if(e!==null){var r=Qi();Bs(e,t,134217728,r)}kb(t,134217728)}};S6=function(t){if(t.tag===13){var e=wc(t),r=vl(t,e);if(r!==null){var n=Qi();Bs(r,t,e,n)}kb(t,e)}};A6=function(){return kr};C6=function(t,e){var r=kr;try{return kr=t,e()}finally{kr=r}};Yy=function(t,e,r){switch(e){case"input":if(Vy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rg(n);if(!i)throw Error(qe(90));n6(n),Vy(n,i)}}}break;case"textarea":a6(t,r);break;case"select":e=r.value,e!=null&&ff(t,!!r.multiple,e,!1)}};f6=Sb;h6=Xu;var M9={usingClientEntryPoint:!1,Events:[ep,Qd,Rg,u6,d6,Sb]},s1={findFiberByHostInstance:Nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F9={bundleType:s1.bundleType,version:s1.version,rendererPackageName:s1.rendererPackageName,rendererConfig:s1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_l.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v6(t),t===null?null:t.stateNode},findFiberByHostInstance:s1.findFiberByHostInstance||D9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Ig=cm.inject(F9),No=cm}catch{}}Ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M9;Ua.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tb(e))throw Error(qe(200));return R9(t,e,null,r)};Ua.createRoot=function(t,e){if(!Tb(t))throw Error(qe(299));var r=!1,n="",i=X8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jb(t,1,!1,null,null,r,!1,n,i),t[ml]=e.current,r0(t.nodeType===8?t.parentNode:t),new Ib(e)};Ua.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=v6(e),t=t===null?null:t.stateNode,t};Ua.flushSync=function(t){return Xu(t)};Ua.hydrate=function(t,e,r){if(!qg(e))throw Error(qe(200));return $g(null,t,e,!0,r)};Ua.hydrateRoot=function(t,e,r){if(!Tb(t))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=X8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=G8(e,null,t,1,r??null,i,!1,a,s),t[ml]=e.current,r0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vg(e)};Ua.render=function(t,e,r){if(!qg(e))throw Error(qe(200));return $g(null,t,e,!1,r)};Ua.unmountComponentAtNode=function(t){if(!qg(t))throw Error(qe(40));return t._reactRootContainer?(Xu(function(){$g(null,null,t,!1,function(){t._reactRootContainer=null,t[ml]=null})}),!0):!1};Ua.unstable_batchedUpdates=Sb;Ua.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qg(r))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return $g(t,e,r,!1,n)};Ua.version="18.3.1-next-f1338f8080-20240426";function Y8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y8)}catch(t){console.error(t)}}Y8(),YC.exports=Ua;var ud=YC.exports;const B9=LC(ud);var Z8,rN=ud;Z8=rN.createRoot,rN.hydrateRoot;function U9(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,s=[],o="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)r=i[0],r==="*"?(s.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~n?n:~a?a:i.length)),o+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~n?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var K8={exports:{}},Q8={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=C;function z9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var V9=typeof Object.is=="function"?Object.is:z9,q9=Zf.useState,$9=Zf.useEffect,H9=Zf.useLayoutEffect,W9=Zf.useDebugValue;function G9(t,e){var r=e(),n=q9({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return H9(function(){i.value=r,i.getSnapshot=e,kx(i)&&a({inst:i})},[t,r,e]),$9(function(){return kx(i)&&a({inst:i}),t(function(){kx(i)&&a({inst:i})})},[t]),W9(r),r}function kx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!V9(t,r)}catch{return!0}}function X9(t,e){return e()}var Y9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X9:G9;Q8.useSyncExternalStore=Zf.useSyncExternalStore!==void 0?Zf.useSyncExternalStore:Y9;K8.exports=Q8;var Z9=K8.exports;const K9=GC.useInsertionEffect,Q9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J9=Q9?C.useLayoutEffect:C.useEffect,eD=K9||J9,J8=t=>{const e=C.useRef([t,(...r)=>e[0](...r)]).current;return eD(()=>{e[0]=t}),e[1]},tD="popstate",Pb="pushState",Ob="replaceState",rD="hashchange",nN=[tD,Pb,Ob,rD],nD=t=>{for(const e of nN)addEventListener(e,t);return()=>{for(const e of nN)removeEventListener(e,t)}},eE=(t,e)=>Z9.useSyncExternalStore(nD,t,e),iD=()=>location.search,aD=({ssrSearch:t=""}={})=>eE(iD,()=>t),iN=()=>location.pathname,sD=({ssrPath:t}={})=>eE(iN,t?()=>t:iN),oD=(t,{replace:e=!1,state:r=null}={})=>history[e?Ob:Pb](r,"",t),lD=(t={})=>[sD(t),oD],aN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[aN]>"u"){for(const t of[Pb,Ob]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,aN,{value:!0})}const cD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",tE=(t="")=>t==="/"?"":t,uD=(t,e)=>t[0]==="~"?t.slice(1):tE(e)+t,dD=(t="",e)=>cD(sN(tE(t)),sN(e)),sN=t=>{try{return decodeURI(t)}catch{return t}},rE={hook:lD,searchHook:aD,parser:U9,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},nE=C.createContext(rE),rp=()=>C.useContext(nE),iE={},aE=C.createContext(iE),Rb=()=>C.useContext(aE),Hg=t=>{const[e,r]=t.hook(t);return[dD(t.base,e),J8((n,i)=>r(uD(n,t.base),i))]},ln=()=>Hg(rp()),sE=(t,e,r,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),s=i.exec(r)||[],[o,...l]=s;return o!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,p)=>[f,l[p]])):s.groups;let d={...l};return u&&Object.assign(d,u),d})(),...n?[o]:[]]:[!1,null]},fD=({children:t,...e})=>{var d,f;const r=rp(),n=e.hook?rE:r;let i=n;const[a,s]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=s,e.ssrPath=a),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=C.useRef({}),l=o.current,u=l;for(let p in n){const h=p==="base"?n[p]+(e[p]||""):e[p]||n[p];l===u&&h!==u[p]&&(o.current=u={...u}),u[p]=h,h!==n[p]&&(i=u)}return C.createElement(nE.Provider,{value:i,children:t})},oN=({children:t,component:e},r)=>e?C.createElement(e,{params:r}):typeof t=="function"?t(r):t,hD=t=>{let e=C.useRef(iE),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},en=({path:t,nest:e,match:r,...n})=>{const i=rp(),[a]=Hg(i),[s,o,l]=r??sE(i.parser,t,a,e),u=hD({...Rb(),...o});if(!s)return null;const d=l?C.createElement(fD,{base:l},oN(n,u)):oN(n,u);return C.createElement(aE.Provider,{value:u,children:d})};C.forwardRef((t,e)=>{const r=rp(),[n,i]=Hg(r),{to:a="",href:s=a,onClick:o,asChild:l,children:u,className:d,replace:f,state:p,...h}=t,g=J8(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(o==null||o(b),b.defaultPrevented||(b.preventDefault(),i(s,t)))}),v=r.hrefs(s[0]==="~"?s.slice(1):r.base+s,r);return l&&C.isValidElement(u)?C.cloneElement(u,{onClick:g,href:v}):C.createElement("a",{...h,onClick:g,href:v,className:d!=null&&d.call?d(n===s):d,children:u,ref:e})});const oE=t=>Array.isArray(t)?t.flatMap(e=>oE(e&&e.type===C.Fragment?e.props.children:e)):[t],pD=({children:t,location:e})=>{const r=rp(),[n]=Hg(r);for(const i of oE(t)){let a=0;if(C.isValidElement(i)&&(a=sE(r.parser,i.props.path,e||n,i.props.nest))[0])return C.cloneElement(i,{match:a})}return null};var ph=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yu=typeof window>"u"||"Deno"in globalThis;function Ka(){}function mD(t,e){return typeof t=="function"?t(e):t}function jw(t){return typeof t=="number"&&t>=0&&t!==1/0}function lE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xf(t,e){return typeof t=="function"?t(e):t}function Ts(t,e){return typeof t=="function"?t(e):t}function lN(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==Db(s,e.options))return!1}else if(!d0(e.queryKey,s))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function cN(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Zu(e.options.mutationKey)!==Zu(a))return!1}else if(!d0(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Db(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zu)(t)}function Zu(t){return JSON.stringify(t,(e,r)=>kw(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function d0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!d0(t[r],e[r])):!1}function cE(t,e){if(t===e)return t;const r=uN(t)&&uN(e);if(r||kw(t)&&kw(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{};let l=0;for(let u=0;u<s;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=cE(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function zv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function uN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kw(t){if(!dN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dN(t){return Object.prototype.toString.call(t)==="[object Object]"}function vD(t){return new Promise(e=>{setTimeout(e,t)})}function Iw(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?cE(t,e):e}function gD(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xD(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Lb=Symbol();function uE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Lb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Tu,tc,If,CC,yD=(CC=class extends ph{constructor(){super();At(this,Tu);At(this,tc);At(this,If);et(this,If,e=>{if(!Yu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,tc)||this.setEventListener(le(this,If))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,tc))==null||e.call(this),et(this,tc,void 0))}setEventListener(e){var r;et(this,If,e),(r=le(this,tc))==null||r.call(this),et(this,tc,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){le(this,Tu)!==e&&(et(this,Tu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof le(this,Tu)=="boolean"?le(this,Tu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tu=new WeakMap,tc=new WeakMap,If=new WeakMap,CC),Mb=new yD,Tf,rc,Pf,EC,wD=(EC=class extends ph{constructor(){super();At(this,Tf,!0);At(this,rc);At(this,Pf);et(this,Pf,e=>{if(!Yu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){le(this,rc)||this.setEventListener(le(this,Pf))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,rc))==null||e.call(this),et(this,rc,void 0))}setEventListener(e){var r;et(this,Pf,e),(r=le(this,rc))==null||r.call(this),et(this,rc,e(this.setOnline.bind(this)))}setOnline(e){le(this,Tf)!==e&&(et(this,Tf,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return le(this,Tf)}},Tf=new WeakMap,rc=new WeakMap,Pf=new WeakMap,EC),Vv=new wD;function Tw(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function bD(t){return Math.min(1e3*2**t,3e4)}function dE(t){return(t??"online")==="online"?Vv.isOnline():!0}var fE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ix(t){return t instanceof fE}function hE(t){let e=!1,r=0,n=!1,i;const a=Tw(),s=v=>{var b;n||(p(new fE(v)),(b=t.abort)==null||b.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>Mb.isFocused()&&(t.networkMode==="always"||Vv.isOnline())&&t.canRun(),d=()=>dE(t.networkMode)&&t.canRun(),f=v=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,v),i==null||i(),a.resolve(v))},p=v=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,v),i==null||i(),a.reject(v))},h=()=>new Promise(v=>{var b;i=x=>{(n||u())&&v(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;i=void 0,n||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(n)return;let v;const b=r===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var D;if(n)return;const w=t.retry??(Yu?0:3),_=t.retryDelay??bD,N=typeof _=="function"?_(r,x):_,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(e||!k){p(x);return}r++,(D=t.onFail)==null||D.call(t,r,x),vD(N).then(()=>u()?void 0:h()).then(()=>{e?p(x):g()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():h().then(g),a)}}function _D(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Gn=_D(),Pu,jC,pE=(jC=class{constructor(){At(this,Pu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jw(this.gcTime)&&et(this,Pu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yu?1/0:5*60*1e3))}clearGcTimeout(){le(this,Pu)&&(clearTimeout(le(this,Pu)),et(this,Pu,void 0))}},Pu=new WeakMap,jC),Of,Rf,Za,Oi,G0,Ou,js,el,kC,ND=(kC=class extends pE{constructor(e){super();At(this,js);At(this,Of);At(this,Rf);At(this,Za);At(this,Oi);At(this,G0);At(this,Ou);et(this,Ou,!1),et(this,G0,e.defaultOptions),this.setOptions(e.options),this.observers=[],et(this,Za,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,et(this,Of,SD(this.options)),this.state=e.state??le(this,Of),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=le(this,Oi))==null?void 0:e.promise}setOptions(e){this.options={...le(this,G0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Za).remove(this)}setData(e,r){const n=Iw(this.state.data,e,this.options);return Gt(this,js,el).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Gt(this,js,el).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=le(this,Oi))==null?void 0:n.promise;return(i=le(this,Oi))==null||i.cancel(e),r?r.then(Ka).catch(Ka):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Of))}isActive(){return this.observers.some(e=>Ts(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!lE(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=le(this,Oi))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=le(this,Oi))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),le(this,Za).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(le(this,Oi)&&(le(this,Ou)?le(this,Oi).cancel({revert:!0}):le(this,Oi).cancelRetry()),this.scheduleGc()),le(this,Za).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Gt(this,js,el).call(this,{type:"invalidate"})}fetch(e,r){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,Oi))return le(this,Oi).continueRetry(),le(this,Oi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(et(this,Ou,!0),n.signal)})},a=()=>{const f=uE(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),et(this,Ou,!1),this.options.persister?this.options.persister(f,p,this):f(p)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),et(this,Rf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Gt(this,js,el).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const o=f=>{var p,h,g,v;Ix(f)&&f.silent||Gt(this,js,el).call(this,{type:"error",error:f}),Ix(f)||((h=(p=le(this,Za).config).onError)==null||h.call(p,f,this),(v=(g=le(this,Za).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return et(this,Oi,hE({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,h,g,v;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){o(b);return}(h=(p=le(this,Za).config).onSuccess)==null||h.call(p,f,this),(v=(g=le(this,Za).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,p)=>{Gt(this,js,el).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Gt(this,js,el).call(this,{type:"pause"})},onContinue:()=>{Gt(this,js,el).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),le(this,Oi).start()}},Of=new WeakMap,Rf=new WeakMap,Za=new WeakMap,Oi=new WeakMap,G0=new WeakMap,Ou=new WeakMap,js=new WeakSet,el=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mE(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Ix(i)&&i.revert&&le(this,Rf)?{...le(this,Rf),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Gn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),le(this,Za).notify({query:this,type:"updated",action:e})})},kC);function mE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ho,IC,AD=(IC=class extends ph{constructor(e={}){super();At(this,ho);this.config=e,et(this,ho,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??Db(i,r);let s=this.get(a);return s||(s=new ND({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){le(this,ho).has(e.queryHash)||(le(this,ho).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=le(this,ho).get(e.queryHash);r&&(e.destroy(),r===e&&le(this,ho).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return le(this,ho).get(e)}getAll(){return[...le(this,ho).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lN(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>lN(e,n)):r}notify(e){Gn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ho=new WeakMap,IC),po,Wi,Ru,mo,Wl,TC,CD=(TC=class extends pE{constructor(e){super();At(this,mo);At(this,po);At(this,Wi);At(this,Ru);this.mutationId=e.mutationId,et(this,Wi,e.mutationCache),et(this,po,[]),this.state=e.state||vE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){le(this,po).includes(e)||(le(this,po).push(e),this.clearGcTimeout(),le(this,Wi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){et(this,po,le(this,po).filter(r=>r!==e)),this.scheduleGc(),le(this,Wi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){le(this,po).length||(this.state.status==="pending"?this.scheduleGc():le(this,Wi).remove(this))}continue(){var e;return((e=le(this,Ru))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,u,d,f,p,h,g,v,b,x,w,_,N,k,D,T;et(this,Ru,hE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{Gt(this,mo,Wl).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{Gt(this,mo,Wl).call(this,{type:"pause"})},onContinue:()=>{Gt(this,mo,Wl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,Wi).canRun(this)}));const r=this.state.status==="pending",n=!le(this,Ru).canStart();try{if(!r){Gt(this,mo,Wl).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=le(this,Wi).config).onMutate)==null?void 0:a.call(i,e,this));const P=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));P!==this.state.context&&Gt(this,mo,Wl).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const R=await le(this,Ru).start();return await((u=(l=le(this,Wi).config).onSuccess)==null?void 0:u.call(l,R,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context)),await((h=(p=le(this,Wi).config).onSettled)==null?void 0:h.call(p,R,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,R,null,e,this.state.context)),Gt(this,mo,Wl).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(b=le(this,Wi).config).onError)==null?void 0:x.call(b,R,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,R,e,this.state.context)),await((k=(N=le(this,Wi).config).onSettled)==null?void 0:k.call(N,void 0,R,this.state.variables,this.state.context,this)),await((T=(D=this.options).onSettled)==null?void 0:T.call(D,void 0,R,e,this.state.context)),R}finally{Gt(this,mo,Wl).call(this,{type:"error",error:R})}}finally{le(this,Wi).runNext(this)}}},po=new WeakMap,Wi=new WeakMap,Ru=new WeakMap,mo=new WeakSet,Wl=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gn.batch(()=>{le(this,po).forEach(n=>{n.onMutationUpdate(e)}),le(this,Wi).notify({mutation:this,type:"updated",action:e})})},TC);function vE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ka,X0,PC,ED=(PC=class extends ph{constructor(e={}){super();At(this,ka);At(this,X0);this.config=e,et(this,ka,new Map),et(this,X0,Date.now())}build(e,r,n){const i=new CD({mutationCache:this,mutationId:++Wp(this,X0)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=um(e),n=le(this,ka).get(r)??[];n.push(e),le(this,ka).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=um(e);if(le(this,ka).has(r)){const i=(n=le(this,ka).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?le(this,ka).delete(r):le(this,ka).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=le(this,ka).get(um(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=le(this,ka).get(um(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...le(this,ka).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cN(r,n))}findAll(e={}){return this.getAll().filter(r=>cN(e,r))}notify(e){Gn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Gn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ka))))}},ka=new WeakMap,X0=new WeakMap,PC);function um(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function fN(t){return{onFetch:(e,r)=>{var d,f,p,h,g;const n=e.options,i=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((h=e.state.data)==null?void 0:h.pages)||[],s=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=uE(e.options,e.fetchOptions),w=async(_,N,k)=>{if(v)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const D={queryKey:e.queryKey,pageParam:N,direction:k?"backward":"forward",meta:e.options.meta};b(D);const T=await x(D),{maxPages:R}=e.options,P=k?xD:gD;return{pages:P(_.pages,T,R),pageParams:P(_.pageParams,N,R)}};if(i&&a.length){const _=i==="backward",N=_?jD:hN,k={pages:a,pageParams:s},D=N(n,k);o=await w(k,D,_)}else{const _=t??a.length;do{const N=l===0?s[0]??n.initialPageParam:hN(n,o);if(l>0&&N==null)break;o=await w(o,N),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function hN(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function jD(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var fn,nc,ic,Df,Lf,ac,Mf,Ff,OC,kD=(OC=class{constructor(t={}){At(this,fn);At(this,nc);At(this,ic);At(this,Df);At(this,Lf);At(this,ac);At(this,Mf);At(this,Ff);et(this,fn,t.queryCache||new AD),et(this,nc,t.mutationCache||new ED),et(this,ic,t.defaultOptions||{}),et(this,Df,new Map),et(this,Lf,new Map),et(this,ac,0)}mount(){Wp(this,ac)._++,le(this,ac)===1&&(et(this,Mf,Mb.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,fn).onFocus())})),et(this,Ff,Vv.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,fn).onOnline())})))}unmount(){var t,e;Wp(this,ac)._--,le(this,ac)===0&&((t=le(this,Mf))==null||t.call(this),et(this,Mf,void 0),(e=le(this,Ff))==null||e.call(this),et(this,Ff,void 0))}isFetching(t){return le(this,fn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return le(this,nc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=le(this,fn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=le(this,fn).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(xf(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return le(this,fn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=le(this,fn).get(n.queryHash),a=i==null?void 0:i.state.data,s=mD(e,a);if(s!==void 0)return le(this,fn).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Gn.batch(()=>le(this,fn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=le(this,fn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=le(this,fn);Gn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=le(this,fn),n={type:"active",...t};return Gn.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Gn.batch(()=>le(this,fn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ka).catch(Ka)}invalidateQueries(t={},e={}){return Gn.batch(()=>{if(le(this,fn).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Gn.batch(()=>le(this,fn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ka)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ka)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=le(this,fn).build(this,e);return r.isStaleByTime(xf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ka).catch(Ka)}fetchInfiniteQuery(t){return t.behavior=fN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ka).catch(Ka)}ensureInfiniteQueryData(t){return t.behavior=fN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vv.isOnline()?le(this,nc).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,fn)}getMutationCache(){return le(this,nc)}getDefaultOptions(){return le(this,ic)}setDefaultOptions(t){et(this,ic,t)}setQueryDefaults(t,e){le(this,Df).set(Zu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...le(this,Df).values()];let r={};return e.forEach(n=>{d0(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){le(this,Lf).set(Zu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...le(this,Lf).values()];let r={};return e.forEach(n=>{d0(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...le(this,ic).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Db(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Lb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...le(this,ic).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){le(this,fn).clear(),le(this,nc).clear()}},fn=new WeakMap,nc=new WeakMap,ic=new WeakMap,Df=new WeakMap,Lf=new WeakMap,ac=new WeakMap,Mf=new WeakMap,Ff=new WeakMap,OC),la,nr,Y0,Gi,Du,Bf,sc,vo,Z0,Uf,zf,Lu,Mu,oc,Vf,br,N1,Pw,Ow,Rw,Dw,Lw,Mw,Fw,gE,RC,ID=(RC=class extends ph{constructor(e,r){super();At(this,br);At(this,la);At(this,nr);At(this,Y0);At(this,Gi);At(this,Du);At(this,Bf);At(this,sc);At(this,vo);At(this,Z0);At(this,Uf);At(this,zf);At(this,Lu);At(this,Mu);At(this,oc);At(this,Vf,new Set);this.options=r,et(this,la,e),et(this,vo,null),et(this,sc,Tw()),this.options.experimental_prefetchInRender||le(this,sc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,nr).addObserver(this),pN(le(this,nr),this.options)?Gt(this,br,N1).call(this):this.updateResult(),Gt(this,br,Dw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bw(le(this,nr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bw(le(this,nr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Gt(this,br,Lw).call(this),Gt(this,br,Mw).call(this),le(this,nr).removeObserver(this)}setOptions(e,r){const n=this.options,i=le(this,nr);if(this.options=le(this,la).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,le(this,nr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Gt(this,br,Fw).call(this),le(this,nr).setOptions(this.options),n._defaulted&&!zv(this.options,n)&&le(this,la).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,nr),observer:this});const a=this.hasListeners();a&&mN(le(this,nr),i,this.options,n)&&Gt(this,br,N1).call(this),this.updateResult(r),a&&(le(this,nr)!==i||Ts(this.options.enabled,le(this,nr))!==Ts(n.enabled,le(this,nr))||xf(this.options.staleTime,le(this,nr))!==xf(n.staleTime,le(this,nr)))&&Gt(this,br,Pw).call(this);const s=Gt(this,br,Ow).call(this);a&&(le(this,nr)!==i||Ts(this.options.enabled,le(this,nr))!==Ts(n.enabled,le(this,nr))||s!==le(this,oc))&&Gt(this,br,Rw).call(this,s)}getOptimisticResult(e){const r=le(this,la).getQueryCache().build(le(this,la),e),n=this.createResult(r,e);return PD(this,n)&&(et(this,Gi,n),et(this,Bf,this.options),et(this,Du,le(this,nr).state)),n}getCurrentResult(){return le(this,Gi)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){le(this,Vf).add(e)}getCurrentQuery(){return le(this,nr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=le(this,la).defaultQueryOptions(e),n=le(this,la).getQueryCache().build(le(this,la),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Gt(this,br,N1).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,Gi)))}createResult(e,r){var R;const n=le(this,nr),i=this.options,a=le(this,Gi),s=le(this,Du),o=le(this,Bf),u=e!==n?e.state:le(this,Y0),{state:d}=e;let f={...d},p=!1,h;if(r._optimisticResults){const P=this.hasListeners(),O=!P&&pN(e,r),j=P&&mN(e,n,r,i);(O||j)&&(f={...f,...mE(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:b}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(s==null?void 0:s.data)&&r.select===le(this,Z0))h=le(this,Uf);else try{et(this,Z0,r.select),h=r.select(f.data),h=Iw(a==null?void 0:a.data,h,r),et(this,Uf,h),et(this,vo,null)}catch(P){et(this,vo,P)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&b==="pending"){let P;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))P=a.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((R=le(this,zf))==null?void 0:R.state.data,le(this,zf)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),et(this,vo,null)}catch(O){et(this,vo,O)}P!==void 0&&(b="success",h=Iw(a==null?void 0:a.data,P,r),p=!0)}le(this,vo)&&(g=le(this,vo),h=le(this,Uf),v=Date.now(),b="error");const x=f.fetchStatus==="fetching",w=b==="pending",_=b==="error",N=w&&x,k=h!==void 0,T={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:N,isLoading:N,data:h,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&k,isStale:Fb(e,r),refetch:this.refetch,promise:le(this,sc)};if(this.options.experimental_prefetchInRender){const P=E=>{T.status==="error"?E.reject(T.error):T.data!==void 0&&E.resolve(T.data)},O=()=>{const E=et(this,sc,T.promise=Tw());P(E)},j=le(this,sc);switch(j.status){case"pending":e.queryHash===n.queryHash&&P(j);break;case"fulfilled":(T.status==="error"||T.data!==j.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==j.reason)&&O();break}}return T}updateResult(e){const r=le(this,Gi),n=this.createResult(le(this,nr),this.options);if(et(this,Du,le(this,nr).state),et(this,Bf,this.options),le(this,Du).data!==void 0&&et(this,zf,le(this,nr)),zv(n,r))return;et(this,Gi,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!le(this,Vf).size)return!0;const l=new Set(o??le(this,Vf));return this.options.throwOnError&&l.add("error"),Object.keys(le(this,Gi)).some(u=>{const d=u;return le(this,Gi)[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Gt(this,br,gE).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Gt(this,br,Dw).call(this)}},la=new WeakMap,nr=new WeakMap,Y0=new WeakMap,Gi=new WeakMap,Du=new WeakMap,Bf=new WeakMap,sc=new WeakMap,vo=new WeakMap,Z0=new WeakMap,Uf=new WeakMap,zf=new WeakMap,Lu=new WeakMap,Mu=new WeakMap,oc=new WeakMap,Vf=new WeakMap,br=new WeakSet,N1=function(e){Gt(this,br,Fw).call(this);let r=le(this,nr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ka)),r},Pw=function(){Gt(this,br,Lw).call(this);const e=xf(this.options.staleTime,le(this,nr));if(Yu||le(this,Gi).isStale||!jw(e))return;const n=lE(le(this,Gi).dataUpdatedAt,e)+1;et(this,Lu,setTimeout(()=>{le(this,Gi).isStale||this.updateResult()},n))},Ow=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,nr)):this.options.refetchInterval)??!1},Rw=function(e){Gt(this,br,Mw).call(this),et(this,oc,e),!(Yu||Ts(this.options.enabled,le(this,nr))===!1||!jw(le(this,oc))||le(this,oc)===0)&&et(this,Mu,setInterval(()=>{(this.options.refetchIntervalInBackground||Mb.isFocused())&&Gt(this,br,N1).call(this)},le(this,oc)))},Dw=function(){Gt(this,br,Pw).call(this),Gt(this,br,Rw).call(this,Gt(this,br,Ow).call(this))},Lw=function(){le(this,Lu)&&(clearTimeout(le(this,Lu)),et(this,Lu,void 0))},Mw=function(){le(this,Mu)&&(clearInterval(le(this,Mu)),et(this,Mu,void 0))},Fw=function(){const e=le(this,la).getQueryCache().build(le(this,la),this.options);if(e===le(this,nr))return;const r=le(this,nr);et(this,nr,e),et(this,Y0,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gE=function(e){Gn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(le(this,Gi))}),le(this,la).getQueryCache().notify({query:le(this,nr),type:"observerResultsUpdated"})})},RC);function TD(t,e){return Ts(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pN(t,e){return TD(t,e)||t.state.data!==void 0&&Bw(t,e,e.refetchOnMount)}function Bw(t,e,r){if(Ts(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Fb(t,e)}return!1}function mN(t,e,r,n){return(t!==e||Ts(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Fb(t,r)}function Fb(t,e){return Ts(e.enabled,t)!==!1&&t.isStaleByTime(xf(e.staleTime,t))}function PD(t,e){return!zv(t.getCurrentResult(),e)}var lc,cc,ca,ol,hl,Gm,Uw,DC,OD=(DC=class extends ph{constructor(r,n){super();At(this,hl);At(this,lc);At(this,cc);At(this,ca);At(this,ol);et(this,lc,r),this.setOptions(n),this.bindMethods(),Gt(this,hl,Gm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=le(this,lc).defaultMutationOptions(r),zv(this.options,n)||le(this,lc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:le(this,ca),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zu(n.mutationKey)!==Zu(this.options.mutationKey)?this.reset():((i=le(this,ca))==null?void 0:i.state.status)==="pending"&&le(this,ca).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=le(this,ca))==null||r.removeObserver(this)}onMutationUpdate(r){Gt(this,hl,Gm).call(this),Gt(this,hl,Uw).call(this,r)}getCurrentResult(){return le(this,cc)}reset(){var r;(r=le(this,ca))==null||r.removeObserver(this),et(this,ca,void 0),Gt(this,hl,Gm).call(this),Gt(this,hl,Uw).call(this)}mutate(r,n){var i;return et(this,ol,n),(i=le(this,ca))==null||i.removeObserver(this),et(this,ca,le(this,lc).getMutationCache().build(le(this,lc),this.options)),le(this,ca).addObserver(this),le(this,ca).execute(r)}},lc=new WeakMap,cc=new WeakMap,ca=new WeakMap,ol=new WeakMap,hl=new WeakSet,Gm=function(){var n;const r=((n=le(this,ca))==null?void 0:n.state)??vE();et(this,cc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Uw=function(r){Gn.batch(()=>{var n,i,a,s,o,l,u,d;if(le(this,ol)&&this.hasListeners()){const f=le(this,cc).variables,p=le(this,cc).context;(r==null?void 0:r.type)==="success"?((i=(n=le(this,ol)).onSuccess)==null||i.call(n,r.data,f,p),(s=(a=le(this,ol)).onSettled)==null||s.call(a,r.data,null,f,p)):(r==null?void 0:r.type)==="error"&&((l=(o=le(this,ol)).onError)==null||l.call(o,r.error,f,p),(d=(u=le(this,ol)).onSettled)==null||d.call(u,void 0,r.error,f,p))}this.listeners.forEach(f=>{f(le(this,cc))})})},DC),xE=C.createContext(void 0),ra=t=>{const e=C.useContext(xE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RD=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(xE.Provider,{value:t,children:e})),yE=C.createContext(!1),DD=()=>C.useContext(yE);yE.Provider;function LD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var MD=C.createContext(LD()),FD=()=>C.useContext(MD);function wE(t,e){return typeof t=="function"?t(...e):!!t}function zw(){}var BD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},UD=t=>{C.useEffect(()=>{t.clearReset()},[t])},zD=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&wE(r,[t.error,n]),VD=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},qD=(t,e)=>t.isLoading&&t.isFetching&&!e,$D=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,vN=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function HD(t,e,r){var d,f,p,h,g;const n=ra(),i=DD(),a=FD(),s=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,s),s._optimisticResults=i?"isRestoring":"optimistic",VD(s),BD(s,a),UD(a);const o=!n.getQueryCache().get(s.queryHash),[l]=C.useState(()=>new e(n,s)),u=l.getOptimisticResult(s);if(C.useSyncExternalStore(C.useCallback(v=>{const b=i?zw:l.subscribe(Gn.batchCalls(v));return l.updateResult(),b},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),$D(s,u))throw vN(s,l,a);if(zD({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;if((h=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,s,u),s.experimental_prefetchInRender&&!Yu&&qD(u,i)){const v=o?vN(s,l,a):(g=n.getQueryCache().get(s.queryHash))==null?void 0:g.promise;v==null||v.catch(zw).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function Wt(t,e){return HD(t,ID)}function Dn(t,e){const r=ra(),[n]=C.useState(()=>new OD(r,t));C.useEffect(()=>{n.setOptions(t)},[n,t]);const i=C.useSyncExternalStore(C.useCallback(s=>n.subscribe(Gn.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=C.useCallback((s,o)=>{n.mutate(s,o).catch(zw)},[n]);if(i.error&&wE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function gN(t){if(!t.ok)try{const e=await t.json(),r=e.message||e.error||t.statusText;throw new Error(r)}catch{throw t.status===401?new Error("Invalid email or password"):t.status===403?new Error("Access denied"):t.status===404?new Error("Service not found"):t.status>=500?new Error("Server error. Please try again later"):new Error("Something went wrong. Please try again")}}const Bb="";console.log(" API Configuration:",{VITE_API_URL:void 0,API_BASE_URL:Bb,NODE_ENV:void 0,MODE:"production",DEV:!1,PROD:!0});async function Ke(t,e,r){const n=e.startsWith("http")?e:`${Bb}${e}`;console.log(` API Request: ${t} ${n}`),console.log(` Auth Token Present: ${!!localStorage.getItem("auth-token")}`);const i=localStorage.getItem("auth-token"),a=r?{"Content-Type":"application/json"}:{};i?(a.Authorization=`Bearer ${i}`,console.log(` Using token: ${i.substring(0,20)}...`)):console.log(" No auth token found in localStorage");try{const s=await fetch(n,{method:t,headers:a,body:r?JSON.stringify(r):void 0,credentials:"include"});return console.log(` API Response: ${s.status} ${s.statusText}`),s.status===401&&console.log(" 401 Unauthorized - token may be expired or invalid"),await gN(s),s}catch(s){if(console.error(` API Request failed: ${t} ${n}`,s),s instanceof TypeError&&s.message.includes("Failed to fetch")&&(console.log(" Network error detected - this might be caused by stale auth token"),e.includes("/auth/login")&&localStorage.getItem("auth-token"))){console.log(" Clearing potentially stale auth token before login"),localStorage.removeItem("auth-token");const o=r?{"Content-Type":"application/json"}:{};try{const l=await fetch(n,{method:t,headers:o,body:r?JSON.stringify(r):void 0,credentials:"include"});return console.log(` Retry Response: ${l.status} ${l.statusText}`),await gN(l),l}catch(l){throw console.error(" Retry also failed:",l),l}}throw s}}const WD=({on401:t})=>async({queryKey:e})=>{const r=e.join("/"),n=r.startsWith("http")?r:`${Bb}${r}`;console.log(` Query Request: GET ${n}`);const i=localStorage.getItem("auth-token"),a={};i&&(a.Authorization=`Bearer ${i}`);try{const s=await fetch(n,{headers:a,credentials:"include"});if(console.log(` Query Response: ${s.status} ${s.statusText}`),t==="returnNull"&&s.status===401)return null;if(!s.ok)try{const o=await s.json(),l=o.message||o.error||s.statusText;throw new Error(l)}catch{throw s.status===401?new Error("Unauthorized access"):s.status===403?new Error("Access denied"):s.status===404?new Error("Resource not found"):s.status>=500?new Error("Server error. Please try again later"):new Error("Request failed. Please try again")}return await s.json()}catch(s){throw console.error(` Query Request failed: GET ${n}`,s),s}},GD=new kD({defaultOptions:{queries:{queryFn:WD({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),XD=1,YD=1e6;let Tx=0;function ZD(){return Tx=(Tx+1)%Number.MAX_SAFE_INTEGER,Tx.toString()}const Px=new Map,xN=t=>{if(Px.has(t))return;const e=setTimeout(()=>{Px.delete(t),z1({type:"REMOVE_TOAST",toastId:t})},YD);Px.set(t,e)},KD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,XD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?xN(r):t.toasts.forEach(n=>{xN(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Xm=[];let Ym={toasts:[]};function z1(t){Ym=KD(Ym,t),Xm.forEach(e=>{e(Ym)})}function QD({...t}){const e=ZD(),r=i=>z1({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>z1({type:"DISMISS_TOAST",toastId:e});return z1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function ci(){const[t,e]=C.useState(Ym);return C.useEffect(()=>(Xm.push(e),()=>{const r=Xm.indexOf(e);r>-1&&Xm.splice(r,1)}),[t]),{...t,toast:QD,dismiss:r=>z1({type:"DISMISS_TOAST",toastId:r})}}function vt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bE(...t){return e=>{let r=!1;const n=t.map(i=>{const a=yN(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():yN(t[i],null)}}}}function ar(...t){return C.useCallback(bE(...t),t)}function JD(t,e){const r=C.createContext(e),n=a=>{const{children:s,...o}=a,l=C.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function i(a){const s=C.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Gs(t,e=[]){let r=[];function n(a,s){const o=C.createContext(s),l=r.length;r=[...r,s];const u=f=>{var x;const{scope:p,children:h,...g}=f,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||o,b=C.useMemo(()=>g,Object.values(g));return c.jsx(v.Provider,{value:b,children:h})};u.displayName=a+"Provider";function d(f,p){var v;const h=((v=p==null?void 0:p[t])==null?void 0:v[l])||o,g=C.useContext(h);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>C.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,eL(i,...e)]}function eL(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...o,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Kf(t){const e=tL(t),r=C.forwardRef((n,i)=>{const{children:a,...s}=n,o=C.Children.toArray(a),l=o.find(rL);if(l){const u=l.props.children,d=o.map(f=>f===l?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...s,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return c.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var _E=Kf("Slot");function tL(t){const e=C.forwardRef((r,n)=>{const{children:i,...a}=r;if(C.isValidElement(i)){const s=iL(i),o=nL(a,i.props);return i.type!==C.Fragment&&(o.ref=n?bE(n,s):s),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NE=Symbol("radix.slottable");function SE(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=NE,e}function rL(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NE}function nL(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function iL(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ub(t){const e=t+"CollectionProvider",[r,n]=Gs(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:b,children:x}=v,w=Ut.useRef(null),_=Ut.useRef(new Map).current;return c.jsx(i,{scope:b,itemMap:_,collectionRef:w,children:x})};s.displayName=e;const o=t+"CollectionSlot",l=Kf(o),u=Ut.forwardRef((v,b)=>{const{scope:x,children:w}=v,_=a(o,x),N=ar(b,_.collectionRef);return c.jsx(l,{ref:N,children:w})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Kf(d),h=Ut.forwardRef((v,b)=>{const{scope:x,children:w,..._}=v,N=Ut.useRef(null),k=ar(b,N),D=a(d,x);return Ut.useEffect(()=>(D.itemMap.set(N,{ref:N,..._}),()=>void D.itemMap.delete(N))),c.jsx(p,{[f]:"",ref:k,children:w})});h.displayName=d;function g(v){const b=a(t+"CollectionConsumer",v);return Ut.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((D,T)=>_.indexOf(D.ref.current)-_.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:s,Slot:u,ItemSlot:h},g,n]}var aL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ot=aL.reduce((t,e)=>{const r=Kf(`Primitive.${e}`),n=C.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function AE(t,e){t&&ud.flushSync(()=>t.dispatchEvent(e))}function jn(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function sL(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t);C.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var oL="DismissableLayer",Vw="dismissableLayer.update",lL="dismissableLayer.pointerDownOutside",cL="dismissableLayer.focusOutside",wN,CE=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),np=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,u=C.useContext(CE),[d,f]=C.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=C.useState({}),g=ar(e,T=>f(T)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),w=d?v.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,k=dL(T=>{const R=T.target,P=[...u.branches].some(O=>O.contains(R));!N||P||(i==null||i(T),s==null||s(T),T.defaultPrevented||o==null||o())},p),D=fL(T=>{const R=T.target;[...u.branches].some(O=>O.contains(R))||(a==null||a(T),s==null||s(T),T.defaultPrevented||o==null||o())},p);return sL(T=>{w===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},p),C.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bN(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wN)}},[d,p,r,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bN())},[d,u]),C.useEffect(()=>{const T=()=>h({});return document.addEventListener(Vw,T),()=>document.removeEventListener(Vw,T)},[]),c.jsx(Ot.div,{...l,ref:g,style:{pointerEvents:_?N?"auto":"none":void 0,...t.style},onFocusCapture:vt(t.onFocusCapture,D.onFocusCapture),onBlurCapture:vt(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:vt(t.onPointerDownCapture,k.onPointerDownCapture)})});np.displayName=oL;var uL="DismissableLayerBranch",EE=C.forwardRef((t,e)=>{const r=C.useContext(CE),n=C.useRef(null),i=ar(e,n);return C.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Ot.div,{...t,ref:i})});EE.displayName=uL;function dL(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t),n=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){jE(lL,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function fL(t,e=globalThis==null?void 0:globalThis.document){const r=jn(t),n=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!n.current&&jE(cL,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bN(){const t=new CustomEvent(Vw);document.dispatchEvent(t)}function jE(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?AE(i,a):i.dispatchEvent(a)}var hL=np,pL=EE,Ni=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},mL="Portal",Wg=C.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=C.useState(!1);Ni(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?B9.createPortal(c.jsx(Ot.div,{...n,ref:e}),s):null});Wg.displayName=mL;function vL(t,e){return C.useReducer((r,n)=>e[r][n]??r,t)}var Xs=t=>{const{present:e,children:r}=t,n=gL(e),i=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),a=ar(n.ref,xL(i));return typeof r=="function"||n.isPresent?C.cloneElement(i,{ref:a}):null};Xs.displayName="Presence";function gL(t){const[e,r]=C.useState(),n=C.useRef({}),i=C.useRef(t),a=C.useRef("none"),s=t?"mounted":"unmounted",[o,l]=vL(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=dm(n.current);a.current=o==="mounted"?u:"none"},[o]),Ni(()=>{const u=n.current,d=i.current;if(d!==t){const p=a.current,h=dm(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ni(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const v=dm(n.current).includes(h.animationName);if(h.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=h=>{h.target===e&&(a.current=dm(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function dm(t){return(t==null?void 0:t.animationName)||"none"}function xL(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ku({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=yL({defaultProp:e,onChange:r}),a=t!==void 0,s=a?t:n,o=jn(r),l=C.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&o(f)}else i(u)},[a,t,i,o]);return[s,l]}function yL({defaultProp:t,onChange:e}){const r=C.useState(t),[n]=r,i=C.useRef(n),a=jn(e);return C.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var wL="VisuallyHidden",ip=C.forwardRef((t,e)=>c.jsx(Ot.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ip.displayName=wL;var bL=ip,zb="ToastProvider",[Vb,_L,NL]=Ub("Toast"),[kE,PJ]=Gs("Toast",[NL]),[SL,Gg]=kE(zb),IE=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=t,[o,l]=C.useState(null),[u,d]=C.useState(0),f=C.useRef(!1),p=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zb}\`. Expected non-empty \`string\`.`),c.jsx(Vb.Provider,{scope:e,children:c.jsx(SL,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:C.useCallback(()=>d(h=>h+1),[]),onToastRemove:C.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:s})})};IE.displayName=zb;var TE="ToastViewport",AL=["F8"],qw="toast.viewportPause",$w="toast.viewportResume",PE=C.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=AL,label:i="Notifications ({hotkey})",...a}=t,s=Gg(TE,r),o=_L(r),l=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),p=ar(e,f,s.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;C.useEffect(()=>{const b=x=>{var _;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),C.useEffect(()=>{const b=l.current,x=f.current;if(g&&b&&x){const w=()=>{if(!s.isClosePausedRef.current){const D=new CustomEvent(qw);x.dispatchEvent(D),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const D=new CustomEvent($w);x.dispatchEvent(D),s.isClosePausedRef.current=!1}},N=D=>{!b.contains(D.relatedTarget)&&_()},k=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",w),b.addEventListener("focusout",N),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",k),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[g,s.isClosePausedRef]);const v=C.useCallback(({tabbingDirection:b})=>{const w=o().map(_=>{const N=_.ref.current,k=[N,...FL(N)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?w.reverse():w).flat()},[o]);return C.useEffect(()=>{const b=f.current;if(b){const x=w=>{var k,D,T;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const R=document.activeElement,P=w.shiftKey;if(w.target===b&&P){(k=u.current)==null||k.focus();return}const E=v({tabbingDirection:P?"backwards":"forwards"}),L=E.findIndex(B=>B===R);Ox(E.slice(L+1))?w.preventDefault():P?(D=u.current)==null||D.focus():(T=d.current)==null||T.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[o,v]),c.jsxs(pL,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&c.jsx(Hw,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ox(b)}}),c.jsx(Vb.Slot,{scope:r,children:c.jsx(Ot.ol,{tabIndex:-1,...a,ref:p})}),g&&c.jsx(Hw,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ox(b)}})]})});PE.displayName=TE;var OE="ToastFocusProxy",Hw=C.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Gg(OE,r);return c.jsx(ip,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});Hw.displayName=OE;var Xg="Toast",CL="toast.swipeStart",EL="toast.swipeMove",jL="toast.swipeCancel",kL="toast.swipeEnd",RE=C.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=t,[o=!0,l]=Ku({prop:n,defaultProp:i,onChange:a});return c.jsx(Xs,{present:r||o,children:c.jsx(PL,{open:o,...s,ref:e,onClose:()=>l(!1),onPause:jn(t.onPause),onResume:jn(t.onResume),onSwipeStart:vt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:vt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});RE.displayName=Xg;var[IL,TL]=kE(Xg,{onClose(){}}),PL=C.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...g}=t,v=Gg(Xg,r),[b,x]=C.useState(null),w=ar(e,B=>x(B)),_=C.useRef(null),N=C.useRef(null),k=i||v.duration,D=C.useRef(0),T=C.useRef(k),R=C.useRef(0),{onToastAdd:P,onToastRemove:O}=v,j=jn(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=v.viewport)==null||te.focus()),s()}),E=C.useCallback(B=>{!B||B===1/0||(window.clearTimeout(R.current),D.current=new Date().getTime(),R.current=window.setTimeout(j,B))},[j]);C.useEffect(()=>{const B=v.viewport;if(B){const te=()=>{E(T.current),u==null||u()},re=()=>{const se=new Date().getTime()-D.current;T.current=T.current-se,window.clearTimeout(R.current),l==null||l()};return B.addEventListener(qw,re),B.addEventListener($w,te),()=>{B.removeEventListener(qw,re),B.removeEventListener($w,te)}}},[v.viewport,k,l,u,E]),C.useEffect(()=>{a&&!v.isClosePausedRef.current&&E(k)},[a,k,v.isClosePausedRef,E]),C.useEffect(()=>(P(),()=>O()),[P,O]);const L=C.useMemo(()=>b?zE(b):null,[b]);return v.viewport?c.jsxs(c.Fragment,{children:[L&&c.jsx(OL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),c.jsx(IL,{scope:r,onClose:j,children:ud.createPortal(c.jsx(Vb.ItemSlot,{scope:r,children:c.jsx(hL,{asChild:!0,onEscapeKeyDown:vt(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||j(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:vt(t.onKeyDown,B=>{B.key==="Escape"&&(o==null||o(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:vt(t.onPointerDown,B=>{B.button===0&&(_.current={x:B.clientX,y:B.clientY})}),onPointerMove:vt(t.onPointerMove,B=>{if(!_.current)return;const te=B.clientX-_.current.x,re=B.clientY-_.current.y,se=!!N.current,H=["left","right"].includes(v.swipeDirection),ne=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ge=H?ne(0,te):0,_e=H?0:ne(0,re),U=B.pointerType==="touch"?10:2,W={x:ge,y:_e},Y={originalEvent:B,delta:W};se?(N.current=W,fm(EL,f,Y,{discrete:!1})):_N(W,v.swipeDirection,U)?(N.current=W,fm(CL,d,Y,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(te)>U||Math.abs(re)>U)&&(_.current=null)}),onPointerUp:vt(t.onPointerUp,B=>{const te=N.current,re=B.target;if(re.hasPointerCapture(B.pointerId)&&re.releasePointerCapture(B.pointerId),N.current=null,_.current=null,te){const se=B.currentTarget,H={originalEvent:B,delta:te};_N(te,v.swipeDirection,v.swipeThreshold)?fm(kL,h,H,{discrete:!0}):fm(jL,p,H,{discrete:!0}),se.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),OL=t=>{const{__scopeToast:e,children:r,...n}=t,i=Gg(Xg,e),[a,s]=C.useState(!1),[o,l]=C.useState(!1);return LL(()=>s(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Wg,{asChild:!0,children:c.jsx(ip,{...n,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},RL="ToastTitle",DE=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ot.div,{...n,ref:e})});DE.displayName=RL;var DL="ToastDescription",LE=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ot.div,{...n,ref:e})});LE.displayName=DL;var ME="ToastAction",FE=C.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(UE,{altText:r,asChild:!0,children:c.jsx(qb,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ME}\`. Expected non-empty \`string\`.`),null)});FE.displayName=ME;var BE="ToastClose",qb=C.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=TL(BE,r);return c.jsx(UE,{asChild:!0,children:c.jsx(Ot.button,{type:"button",...n,ref:e,onClick:vt(t.onClick,i.onClose)})})});qb.displayName=BE;var UE=C.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function zE(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),ML(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...zE(n))}}),e}function fm(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?AE(i,a):i.dispatchEvent(a)}var _N=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function LL(t=()=>{}){const e=jn(t);Ni(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function ML(t){return t.nodeType===t.ELEMENT_NODE}function FL(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ox(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var BL=IE,VE=PE,qE=RE,$E=DE,HE=LE,WE=FE,GE=qb;function XE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=XE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function YE(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=XE(t))&&(n&&(n+=" "),n+=e);return n}const NN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SN=YE,ap=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return SN(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const p=NN(d)||NN(f);return i[u][p]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...a,...o}[v]):{...a,...o}[v]===b})?[...u,f,p]:u},[]);return SN(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZE=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>C.createElement("svg",{ref:l,...zL,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ZE("lucide",i),...o},[...s.map(([u,d])=>C.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=C.forwardRef(({className:n,...i},a)=>C.createElement(VL,{ref:a,iconNode:e,className:ZE(`lucide-${UL(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ot("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ot("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ot("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ot("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ot("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ot("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ot("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ot("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ot("FlashlightOff",[["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4",key:"1r120k"}],["path",{d:"M7 2h11v4c0 2-2 2-2 4v1",key:"dz1920"}],["line",{x1:"11",x2:"18",y1:"6",y2:"6",key:"bi1vpe"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ot("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ot("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ot("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ot("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ot("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ot("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ot("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ot("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ot("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ot("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ot("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ot("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ot("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ot("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ot("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ot("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qb="-",oM=t=>{const e=cM(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(Qb);return o[0]===""&&o.length!==1&&o.shift(),oj(o,e)||lM(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},oj=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?oj(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Qb);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},CN=/^\[(.+)\]$/,lM=t=>{if(CN.test(t)){const e=CN.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cM=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return dM(Object.entries(t.classGroups),r).forEach(([a,s])=>{Ww(s,n,a,e)}),n},Ww=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:EN(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(uM(i)){Ww(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{Ww(s,EN(e,a),r,n)})})},EN=(t,e)=>{let r=t;return e.split(Qb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uM=t=>t.isThemeGetter,dM=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,fM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},lj="!",hM=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const l=[];let u=0,d=0,f;for(let b=0;b<o.length;b++){let x=o[b];if(u===0){if(x===i&&(n||o.slice(b,b+a)===e)){l.push(o.slice(d,b)),d=b+a;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const p=l.length===0?o:o.substring(d),h=p.startsWith(lj),g=h?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:s}):s},pM=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},mM=t=>({cache:fM(t.cacheSize),parseClassName:hM(t),...oM(t)}),vM=/\s+/,gM=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(vM);let o="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(u);let g=!!h,v=n(g?p.substring(0,h):p);if(!v){if(!g){o=u+(o.length>0?" "+o:o);continue}if(v=n(p),!v){o=u+(o.length>0?" "+o:o);continue}g=!1}const b=pM(d).join(":"),x=f?b+lj:b,w=x+v;if(a.includes(w))continue;a.push(w);const _=i(v,g);for(let N=0;N<_.length;++N){const k=_[N];a.push(x+k)}o=u+(o.length>0?" "+o:o)}return o};function xM(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=cj(e))&&(n&&(n+=" "),n+=r);return n}const cj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=cj(t[n]))&&(r&&(r+=" "),r+=e);return r};function yM(t,...e){let r,n,i,a=s;function s(l){const u=e.reduce((d,f)=>f(d),t());return r=mM(u),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=gM(l,r);return i(l,d),d}return function(){return a(xM.apply(null,arguments))}}const Hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},uj=/^\[(?:([a-z-]+):)?(.+)\]$/i,wM=/^\d+\/\d+$/,bM=new Set(["px","full","screen"]),_M=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=t=>yf(t)||bM.has(t)||wM.test(t),Bl=t=>vh(t,"length",RM),yf=t=>!!t&&!Number.isNaN(Number(t)),Lx=t=>vh(t,"number",yf),o1=t=>!!t&&Number.isInteger(Number(t)),EM=t=>t.endsWith("%")&&yf(t.slice(0,-1)),Ht=t=>uj.test(t),Ul=t=>_M.test(t),jM=new Set(["length","size","percentage"]),kM=t=>vh(t,jM,dj),IM=t=>vh(t,"position",dj),TM=new Set(["image","url"]),PM=t=>vh(t,TM,LM),OM=t=>vh(t,"",DM),l1=()=>!0,vh=(t,e,r)=>{const n=uj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},RM=t=>NM.test(t)&&!SM.test(t),dj=()=>!1,DM=t=>AM.test(t),LM=t=>CM.test(t),MM=()=>{const t=Hr("colors"),e=Hr("spacing"),r=Hr("blur"),n=Hr("brightness"),i=Hr("borderColor"),a=Hr("borderRadius"),s=Hr("borderSpacing"),o=Hr("borderWidth"),l=Hr("contrast"),u=Hr("grayscale"),d=Hr("hueRotate"),f=Hr("invert"),p=Hr("gap"),h=Hr("gradientColorStops"),g=Hr("gradientColorStopPositions"),v=Hr("inset"),b=Hr("margin"),x=Hr("opacity"),w=Hr("padding"),_=Hr("saturate"),N=Hr("scale"),k=Hr("sepia"),D=Hr("skew"),T=Hr("space"),R=Hr("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ht,e],E=()=>[Ht,e],L=()=>["",Zo,Bl],B=()=>["auto",yf,Ht],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Ht],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>[yf,Ht];return{cacheSize:500,separator:":",theme:{colors:[l1],spacing:[Zo,Bl],blur:["none","",Ul,Ht],brightness:_e(),borderColor:[t],borderRadius:["none","","full",Ul,Ht],borderSpacing:E(),borderWidth:L(),contrast:_e(),grayscale:ne(),hueRotate:_e(),invert:ne(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[EM,Bl],inset:j(),margin:j(),opacity:_e(),padding:E(),saturate:_e(),scale:_e(),sepia:ne(),skew:_e(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Ht]}],container:["container"],columns:[{columns:[Ul]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Ht]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",o1,Ht]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ht]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",o1,Ht]}],"grid-cols":[{"grid-cols":[l1]}],"col-start-end":[{col:["auto",{span:["full",o1,Ht]},Ht]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[l1]}],"row-start-end":[{row:["auto",{span:[o1,Ht]},Ht]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ht]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ht,e]}],"min-w":[{"min-w":[Ht,e,"min","max","fit"]}],"max-w":[{"max-w":[Ht,e,"none","full","min","max","fit","prose",{screen:[Ul]},Ul]}],h:[{h:[Ht,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ht,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ht,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ht,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ul,Bl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lx]}],"font-family":[{font:[l1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ht]}],"line-clamp":[{"line-clamp":["none",yf,Lx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zo,Ht]}],"list-image":[{"list-image":["none",Ht]}],"list-style-type":[{list:["none","disc","decimal",Ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zo,Bl]}],"underline-offset":[{"underline-offset":["auto",Zo,Ht]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),IM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Zo,Ht]}],"outline-w":[{outline:[Zo,Bl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zo,Bl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ul,OM]}],"shadow-color":[{shadow:[l1]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ul,Ht]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ht]}],duration:[{duration:_e()}],ease:[{ease:["linear","in","out","in-out",Ht]}],delay:[{delay:_e()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[o1,Ht]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ht]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zo,Bl,Lx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FM=yM(MM);function bt(...t){return FM(YE(t))}const BM=BL,fj=C.forwardRef(({className:t,...e},r)=>c.jsx(VE,{ref:r,className:bt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fj.displayName=VE.displayName;const UM=ap("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hj=C.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(qE,{ref:n,className:bt(UM({variant:e}),t),...r}));hj.displayName=qE.displayName;const zM=C.forwardRef(({className:t,...e},r)=>c.jsx(WE,{ref:r,className:bt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));zM.displayName=WE.displayName;const pj=C.forwardRef(({className:t,...e},r)=>c.jsx(GE,{ref:r,className:bt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(mh,{className:"h-4 w-4"})}));pj.displayName=GE.displayName;const mj=C.forwardRef(({className:t,...e},r)=>c.jsx($E,{ref:r,className:bt("text-sm font-semibold",t),...e}));mj.displayName=$E.displayName;const vj=C.forwardRef(({className:t,...e},r)=>c.jsx(HE,{ref:r,className:bt("text-sm opacity-90",t),...e}));vj.displayName=HE.displayName;function VM(){const{toasts:t}=ci();return c.jsxs(BM,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return c.jsxs(hj,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(mj,{children:r}),n&&c.jsx(vj,{children:n})]}),i,c.jsx(pj,{})]},e)}),c.jsx(fj,{})]})}var qM=GC[" useId ".trim().toString()]||(()=>{}),$M=0;function _c(t){const[e,r]=C.useState(qM());return Ni(()=>{r(n=>n??String($M++))},[t]),e?`radix-${e}`:""}const HM=["top","right","bottom","left"],Dc=Math.min,Pa=Math.max,Hv=Math.round,hm=Math.floor,Ao=t=>({x:t,y:t}),WM={left:"right",right:"left",bottom:"top",top:"bottom"},GM={start:"end",end:"start"};function Gw(t,e,r){return Pa(t,Dc(e,r))}function yl(t,e){return typeof t=="function"?t(e):t}function wl(t){return t.split("-")[0]}function gh(t){return t.split("-")[1]}function Jb(t){return t==="x"?"y":"x"}function e3(t){return t==="y"?"height":"width"}function Lc(t){return["top","bottom"].includes(wl(t))?"y":"x"}function t3(t){return Jb(Lc(t))}function XM(t,e,r){r===void 0&&(r=!1);const n=gh(t),i=t3(t),a=e3(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Wv(s)),[s,Wv(s)]}function YM(t){const e=Wv(t);return[Xw(t),e,Xw(e)]}function Xw(t){return t.replace(/start|end/g,e=>GM[e])}function ZM(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function KM(t,e,r,n){const i=gh(t);let a=ZM(wl(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(Xw)))),a}function Wv(t){return t.replace(/left|right|bottom|top/g,e=>WM[e])}function QM(t){return{top:0,right:0,bottom:0,left:0,...t}}function gj(t){return typeof t!="number"?QM(t):{top:t,right:t,bottom:t,left:t}}function Gv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function jN(t,e,r){let{reference:n,floating:i}=t;const a=Lc(e),s=t3(e),o=e3(s),l=wl(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let h;switch(l){case"top":h={x:d,y:n.y-i.height};break;case"bottom":h={x:d,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(gh(e)){case"start":h[s]-=p*(r&&u?-1:1);break;case"end":h[s]+=p*(r&&u?-1:1);break}return h}const JM=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=jN(u,n,l),p=n,h={},g=0;for(let v=0;v<o.length;v++){const{name:b,fn:x}=o[v],{x:w,y:_,data:N,reset:k}=await x({x:d,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});d=w??d,f=_??f,h={...h,[b]:{...h[b],...N}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:f}=jN(u,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:h}};async function m0(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=yl(e,t),g=gj(h),b=o[p?f==="floating"?"reference":"floating":f],x=Gv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),N=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},k=Gv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:_,strategy:l}):w);return{top:(x.top-k.top+g.top)/N.y,bottom:(k.bottom-x.bottom+g.bottom)/N.y,left:(x.left-k.left+g.left)/N.x,right:(k.right-x.right+g.right)/N.x}}const eF=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=yl(t,e)||{};if(u==null)return{};const f=gj(d),p={x:r,y:n},h=t3(i),g=e3(h),v=await s.getDimensions(u),b=h==="y",x=b?"top":"left",w=b?"bottom":"right",_=b?"clientHeight":"clientWidth",N=a.reference[g]+a.reference[h]-p[h]-a.floating[g],k=p[h]-a.reference[h],D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=D?D[_]:0;(!T||!await(s.isElement==null?void 0:s.isElement(D)))&&(T=o.floating[_]||a.floating[g]);const R=N/2-k/2,P=T/2-v[g]/2-1,O=Dc(f[x],P),j=Dc(f[w],P),E=O,L=T-v[g]-j,B=T/2-v[g]/2+R,te=Gw(E,B,L),re=!l.arrow&&gh(i)!=null&&B!==te&&a.reference[g]/2-(B<E?O:j)-v[g]/2<0,se=re?B<E?B-E:B-L:0;return{[h]:p[h]+se,data:{[h]:te,centerOffset:B-te-se,...re&&{alignmentOffset:se}},reset:re}}}),tF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=yl(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=wl(i),w=Lc(o),_=wl(o)===o,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=p||(_||!v?[Wv(o)]:YM(o)),D=g!=="none";!p&&D&&k.push(...KM(o,v,g,N));const T=[o,...k],R=await m0(e,b),P=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(R[x]),f){const B=XM(i,s,N);P.push(R[B[0]],R[B[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(B=>B<=0)){var j,E;const B=(((j=a.flip)==null?void 0:j.index)||0)+1,te=T[B];if(te)return{data:{index:B,overflows:O},reset:{placement:te}};let re=(E=O.filter(se=>se.overflows[0]<=0).sort((se,H)=>se.overflows[1]-H.overflows[1])[0])==null?void 0:E.placement;if(!re)switch(h){case"bestFit":{var L;const se=(L=O.filter(H=>{if(D){const ne=Lc(H.placement);return ne===w||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,ge)=>ne+ge,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:L[0];se&&(re=se);break}case"initialPlacement":re=o;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function kN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IN(t){return HM.some(e=>t[e]>=0)}const rF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=yl(t,e);switch(n){case"referenceHidden":{const a=await m0(e,{...i,elementContext:"reference"}),s=kN(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:IN(s)}}}case"escaped":{const a=await m0(e,{...i,altBoundary:!0}),s=kN(a,r.floating);return{data:{escapedOffsets:s,escaped:IN(s)}}}default:return{}}}}};async function nF(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=wl(r),o=gh(r),l=Lc(r)==="y",u=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=yl(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(h=o==="end"?g*-1:g),l?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const iF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await nF(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},aF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...l}=yl(t,e),u={x:r,y:n},d=await m0(e,l),f=Lc(wl(i)),p=Jb(f);let h=u[p],g=u[f];if(a){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=h+d[b],_=h-d[x];h=Gw(w,h,_)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=g+d[b],_=g-d[x];g=Gw(w,g,_)}const v=o.fn({...e,[p]:h,[f]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:a,[f]:s}}}}}},sF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=yl(t,e),d={x:r,y:n},f=Lc(i),p=Jb(f);let h=d[p],g=d[f];const v=yl(o,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=p==="y"?"height":"width",N=a.reference[p]-a.floating[_]+b.mainAxis,k=a.reference[p]+a.reference[_]-b.mainAxis;h<N?h=N:h>k&&(h=k)}if(u){var x,w;const _=p==="y"?"width":"height",N=["top","left"].includes(wl(i)),k=a.reference[f]-a.floating[_]+(N&&((x=s.offset)==null?void 0:x[f])||0)+(N?0:b.crossAxis),D=a.reference[f]+a.reference[_]+(N?0:((w=s.offset)==null?void 0:w[f])||0)-(N?b.crossAxis:0);g<k?g=k:g>D&&(g=D)}return{[p]:h,[f]:g}}}},oF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...u}=yl(t,e),d=await m0(e,u),f=wl(i),p=gh(i),h=Lc(i)==="y",{width:g,height:v}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,b=p==="end"?"top":"bottom");const w=v-d.top-d.bottom,_=g-d.left-d.right,N=Dc(v-d[b],w),k=Dc(g-d[x],_),D=!e.middlewareData.shift;let T=N,R=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(R=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=w),D&&!p){const O=Pa(d.left,0),j=Pa(d.right,0),E=Pa(d.top,0),L=Pa(d.bottom,0);h?R=g-2*(O!==0||j!==0?O+j:Pa(d.left,d.right)):T=v-2*(E!==0||L!==0?E+L:Pa(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:T});const P=await s.getDimensions(o.floating);return g!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Kg(){return typeof window<"u"}function xh(t){return xj(t)?(t.nodeName||"").toLowerCase():"#document"}function Ma(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Oo(t){var e;return(e=(xj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xj(t){return Kg()?t instanceof Node||t instanceof Ma(t).Node:!1}function qs(t){return Kg()?t instanceof Element||t instanceof Ma(t).Element:!1}function ko(t){return Kg()?t instanceof HTMLElement||t instanceof Ma(t).HTMLElement:!1}function TN(t){return!Kg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ma(t).ShadowRoot}function sp(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=$s(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function lF(t){return["table","td","th"].includes(xh(t))}function Qg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function r3(t){const e=n3(),r=qs(t)?$s(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function cF(t){let e=Mc(t);for(;ko(e)&&!Qf(e);){if(r3(e))return e;if(Qg(e))return null;e=Mc(e)}return null}function n3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qf(t){return["html","body","#document"].includes(xh(t))}function $s(t){return Ma(t).getComputedStyle(t)}function Jg(t){return qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mc(t){if(xh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TN(t)&&t.host||Oo(t);return TN(e)?e.host:e}function yj(t){const e=Mc(t);return Qf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ko(e)&&sp(e)?e:yj(e)}function v0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=yj(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=Ma(i);if(a){const o=Yw(s);return e.concat(s,s.visualViewport||[],sp(i)?i:[],o&&r?v0(o):[])}return e.concat(i,v0(i,[],r))}function Yw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wj(t){const e=$s(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ko(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Hv(r)!==a||Hv(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function i3(t){return qs(t)?t:t.contextElement}function wf(t){const e=i3(t);if(!ko(e))return Ao(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=wj(e);let s=(a?Hv(r.width):r.width)/n,o=(a?Hv(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const uF=Ao(0);function bj(t){const e=Ma(t);return!n3()||!e.visualViewport?uF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ma(t)?!1:e}function Ju(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=i3(t);let s=Ao(1);e&&(n?qs(n)&&(s=wf(n)):s=wf(t));const o=dF(a,r,n)?bj(a):Ao(0);let l=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const p=Ma(a),h=n&&qs(n)?Ma(n):n;let g=p,v=Yw(g);for(;v&&n&&h!==g;){const b=wf(v),x=v.getBoundingClientRect(),w=$s(v),_=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*b.x,N=x.top+(v.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=_,u+=N,g=Ma(v),v=Yw(g)}}return Gv({width:d,height:f,x:l,y:u})}function a3(t,e){const r=Jg(t).scrollLeft;return e?e.left+r:Ju(Oo(t)).left+r}function _j(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:a3(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function fF(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Oo(n),o=e?Qg(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Ao(1);const d=Ao(0),f=ko(n);if((f||!f&&!a)&&((xh(n)!=="body"||sp(s))&&(l=Jg(n)),ko(n))){const h=Ju(n);u=wf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}const p=s&&!f&&!a?_j(s,l,!0):Ao(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function hF(t){return Array.from(t.getClientRects())}function pF(t){const e=Oo(t),r=Jg(t),n=t.ownerDocument.body,i=Pa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Pa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+a3(t);const o=-r.scrollTop;return $s(n).direction==="rtl"&&(s+=Pa(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function mF(t,e){const r=Ma(t),n=Oo(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const u=n3();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function vF(t,e){const r=Ju(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=ko(t)?wf(t):Ao(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:s,height:o,x:l,y:u}}function PN(t,e,r){let n;if(e==="viewport")n=mF(t,r);else if(e==="document")n=pF(Oo(t));else if(qs(e))n=vF(e,r);else{const i=bj(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gv(n)}function Nj(t,e){const r=Mc(t);return r===e||!qs(r)||Qf(r)?!1:$s(r).position==="fixed"||Nj(r,e)}function gF(t,e){const r=e.get(t);if(r)return r;let n=v0(t,[],!1).filter(o=>qs(o)&&xh(o)!=="body"),i=null;const a=$s(t).position==="fixed";let s=a?Mc(t):t;for(;qs(s)&&!Qf(s);){const o=$s(s),l=r3(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sp(s)&&!l&&Nj(t,s))?n=n.filter(d=>d!==s):i=o,s=Mc(s)}return e.set(t,n),n}function xF(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Qg(e)?[]:gF(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((u,d)=>{const f=PN(e,d,i);return u.top=Pa(f.top,u.top),u.right=Dc(f.right,u.right),u.bottom=Dc(f.bottom,u.bottom),u.left=Pa(f.left,u.left),u},PN(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yF(t){const{width:e,height:r}=wj(t);return{width:e,height:r}}function wF(t,e,r){const n=ko(e),i=Oo(e),a=r==="fixed",s=Ju(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Ao(0);if(n||!n&&!a)if((xh(e)!=="body"||sp(i))&&(o=Jg(e)),n){const p=Ju(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=a3(i));const u=i&&!n&&!a?_j(i,o):Ao(0),d=s.left+o.scrollLeft-l.x-u.x,f=s.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function Mx(t){return $s(t).position==="static"}function ON(t,e){if(!ko(t)||$s(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Oo(t)===r&&(r=r.ownerDocument.body),r}function Sj(t,e){const r=Ma(t);if(Qg(t))return r;if(!ko(t)){let i=Mc(t);for(;i&&!Qf(i);){if(qs(i)&&!Mx(i))return i;i=Mc(i)}return r}let n=ON(t,e);for(;n&&lF(n)&&Mx(n);)n=ON(n,e);return n&&Qf(n)&&Mx(n)&&!r3(n)?r:n||cF(t)||r}const bF=async function(t){const e=this.getOffsetParent||Sj,r=this.getDimensions,n=await r(t.floating);return{reference:wF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _F(t){return $s(t).direction==="rtl"}const NF={convertOffsetParentRelativeRectToViewportRelativeRect:fF,getDocumentElement:Oo,getClippingRect:xF,getOffsetParent:Sj,getElementRects:bF,getClientRects:hF,getDimensions:yF,getScale:wf,isElement:qs,isRTL:_F};function Aj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SF(t,e){let r=null,n;const i=Oo(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(o||e(),!p||!h)return;const g=hm(f),v=hm(i.clientWidth-(d+p)),b=hm(i.clientHeight-(f+h)),x=hm(d),_={rootMargin:-g+"px "+-v+"px "+-b+"px "+-x+"px",threshold:Pa(0,Dc(1,l))||1};let N=!0;function k(D){const T=D[0].intersectionRatio;if(T!==l){if(!N)return s();T?s(!1,T):n=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!Aj(u,t.getBoundingClientRect())&&s(),N=!1}try{r=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,_)}r.observe(t)}return s(!0),a}function AF(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=i3(t),d=i||a?[...u?v0(u):[],...v0(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&o?SF(u,r):null;let p=-1,h=null;s&&(h=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(e)})),r()}),u&&!l&&h.observe(u),h.observe(e));let g,v=l?Ju(t):null;l&&b();function b(){const x=Ju(t);v&&!Aj(v,x)&&r(),v=x,g=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const CF=iF,EF=aF,jF=tF,kF=oF,IF=rF,RN=eF,TF=sF,PF=(t,e,r)=>{const n=new Map,i={platform:NF,...r},a={...i.platform,_c:n};return JM(t,e,{...i,platform:a})};var Zm=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Xv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Xv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Xv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Cj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DN(t,e){const r=Cj(t);return Math.round(e*r)/r}function Fx(t){const e=C.useRef(t);return Zm(()=>{e.current=t}),e}function OF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,f]=C.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=C.useState(n);Xv(p,n)||h(n);const[g,v]=C.useState(null),[b,x]=C.useState(null),w=C.useCallback(H=>{H!==D.current&&(D.current=H,v(H))},[]),_=C.useCallback(H=>{H!==T.current&&(T.current=H,x(H))},[]),N=a||g,k=s||b,D=C.useRef(null),T=C.useRef(null),R=C.useRef(d),P=l!=null,O=Fx(l),j=Fx(i),E=Fx(u),L=C.useCallback(()=>{if(!D.current||!T.current)return;const H={placement:e,strategy:r,middleware:p};j.current&&(H.platform=j.current),PF(D.current,T.current,H).then(ne=>{const ge={...ne,isPositioned:E.current!==!1};B.current&&!Xv(R.current,ge)&&(R.current=ge,ud.flushSync(()=>{f(ge)}))})},[p,e,r,j,E]);Zm(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const B=C.useRef(!1);Zm(()=>(B.current=!0,()=>{B.current=!1}),[]),Zm(()=>{if(N&&(D.current=N),k&&(T.current=k),N&&k){if(O.current)return O.current(N,k,L);L()}},[N,k,L,O,P]);const te=C.useMemo(()=>({reference:D,floating:T,setReference:w,setFloating:_}),[w,_]),re=C.useMemo(()=>({reference:N,floating:k}),[N,k]),se=C.useMemo(()=>{const H={position:r,left:0,top:0};if(!re.floating)return H;const ne=DN(re.floating,d.x),ge=DN(re.floating,d.y);return o?{...H,transform:"translate("+ne+"px, "+ge+"px)",...Cj(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:ge}},[r,o,re.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:L,refs:te,elements:re,floatingStyles:se}),[d,L,te,re,se])}const RF=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?RN({element:n.current,padding:i}).fn(r):{}:n?RN({element:n,padding:i}).fn(r):{}}}},DF=(t,e)=>({...CF(t),options:[t,e]}),LF=(t,e)=>({...EF(t),options:[t,e]}),MF=(t,e)=>({...TF(t),options:[t,e]}),FF=(t,e)=>({...jF(t),options:[t,e]}),BF=(t,e)=>({...kF(t),options:[t,e]}),UF=(t,e)=>({...IF(t),options:[t,e]}),zF=(t,e)=>({...RF(t),options:[t,e]});var VF="Arrow",Ej=C.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(Ot.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ej.displayName=VF;var qF=Ej;function jj(t){const[e,r]=C.useState(void 0);return Ni(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,o=u.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var s3="Popper",[kj,e2]=Gs(s3),[$F,Ij]=kj(s3),Tj=t=>{const{__scopePopper:e,children:r}=t,[n,i]=C.useState(null);return c.jsx($F,{scope:e,anchor:n,onAnchorChange:i,children:r})};Tj.displayName=s3;var Pj="PopperAnchor",Oj=C.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=Ij(Pj,r),s=C.useRef(null),o=ar(e,s);return C.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(Ot.div,{...i,ref:o})});Oj.displayName=Pj;var o3="PopperContent",[HF,WF]=kj(o3),Rj=C.forwardRef((t,e)=>{var ae,xe,ve,Ce,je,Le;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...v}=t,b=Ij(o3,r),[x,w]=C.useState(null),_=ar(e,Ee=>w(Ee)),[N,k]=C.useState(null),D=jj(N),T=(D==null?void 0:D.width)??0,R=(D==null?void 0:D.height)??0,P=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],E=j.length>0,L={padding:O,boundary:j.filter(XF),altBoundary:E},{refs:B,floatingStyles:te,placement:re,isPositioned:se,middlewareData:H}=OF({strategy:"fixed",placement:P,whileElementsMounted:(...Ee)=>AF(...Ee,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[DF({mainAxis:i+R,alignmentAxis:s}),l&&LF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MF():void 0,...L}),l&&FF({...L}),BF({...L,apply:({elements:Ee,rects:me,availableWidth:Q,availableHeight:at})=>{const{width:wt,height:gt}=me.reference,Ue=Ee.floating.style;Ue.setProperty("--radix-popper-available-width",`${Q}px`),Ue.setProperty("--radix-popper-available-height",`${at}px`),Ue.setProperty("--radix-popper-anchor-width",`${wt}px`),Ue.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),N&&zF({element:N,padding:o}),YF({arrowWidth:T,arrowHeight:R}),p&&UF({strategy:"referenceHidden",...L})]}),[ne,ge]=Mj(re),_e=jn(g);Ni(()=>{se&&(_e==null||_e())},[se,_e]);const U=(ae=H.arrow)==null?void 0:ae.x,W=(xe=H.arrow)==null?void 0:xe.y,Y=((ve=H.arrow)==null?void 0:ve.centerOffset)!==0,[ie,ue]=C.useState();return Ni(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:se?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Ce=H.transformOrigin)==null?void 0:Ce.x,(je=H.transformOrigin)==null?void 0:je.y].join(" "),...((Le=H.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(HF,{scope:r,placedSide:ne,onArrowChange:k,arrowX:U,arrowY:W,shouldHideArrow:Y,children:c.jsx(Ot.div,{"data-side":ne,"data-align":ge,...v,ref:_,style:{...v.style,animation:se?void 0:"none"}})})})});Rj.displayName=o3;var Dj="PopperArrow",GF={top:"bottom",right:"left",bottom:"top",left:"right"},Lj=C.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=WF(Dj,n),s=GF[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(qF,{...i,ref:r,style:{...i.style,display:"block"}})})});Lj.displayName=Dj;function XF(t){return t!==null}var YF=t=>({name:"transformOrigin",options:t,fn(e){var b,x,w;const{placement:r,rects:n,middlewareData:i}=e,s=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[u,d]=Mj(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let g="",v="";return u==="bottom"?(g=s?f:`${p}px`,v=`${-l}px`):u==="top"?(g=s?f:`${p}px`,v=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,v=s?f:`${h}px`):u==="left"&&(g=`${n.floating.width+l}px`,v=s?f:`${h}px`),{data:{x:g,y:v}}}});function Mj(t){const[e,r="center"]=t.split("-");return[e,r]}var ZF=Tj,Fj=Oj,Bj=Rj,Uj=Lj,[t2,OJ]=Gs("Tooltip",[e2]),l3=e2(),zj="TooltipProvider",KF=700,LN="tooltip.open",[QF,Vj]=t2(zj),qj=t=>{const{__scopeTooltip:e,delayDuration:r=KF,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(QF,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};qj.displayName=zj;var $j="Tooltip",[RJ,r2]=t2($j),Zw="TooltipTrigger",JF=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=r2(Zw,r),a=Vj(Zw,r),s=l3(r),o=C.useRef(null),l=ar(e,o,i.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Fj,{asChild:!0,...s,children:c.jsx(Ot.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:vt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:vt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:vt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:vt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:vt(t.onBlur,i.onClose),onClick:vt(t.onClick,i.onClose)})})});JF.displayName=Zw;var eB="TooltipPortal",[DJ,tB]=t2(eB,{forceMount:void 0}),Jf="TooltipContent",Hj=C.forwardRef((t,e)=>{const r=tB(Jf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=r2(Jf,t.__scopeTooltip);return c.jsx(Xs,{present:n||s.open,children:s.disableHoverableContent?c.jsx(Wj,{side:i,...a,ref:e}):c.jsx(rB,{side:i,...a,ref:e})})}),rB=C.forwardRef((t,e)=>{const r=r2(Jf,t.__scopeTooltip),n=Vj(Jf,t.__scopeTooltip),i=C.useRef(null),a=ar(e,i),[s,o]=C.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,p=C.useCallback(()=>{o(null),f(!1)},[f]),h=C.useCallback((g,v)=>{const b=g.currentTarget,x={x:g.clientX,y:g.clientY},w=oB(x,b.getBoundingClientRect()),_=lB(x,w),N=cB(v.getBoundingClientRect()),k=dB([..._,...N]);o(k),f(!0)},[f]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&d){const g=b=>h(b,d),v=b=>h(b,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[l,d,h,p]),C.useEffect(()=>{if(s){const g=v=>{const b=v.target,x={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),_=!uB(x,s);w?p():_&&(p(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,s,u,p]),c.jsx(Wj,{...t,ref:a})}),[nB,iB]=t2($j,{isInside:!1}),aB=SE("TooltipContent"),Wj=C.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=r2(Jf,r),u=l3(r),{onClose:d}=l;return C.useEffect(()=>(document.addEventListener(LN,d),()=>document.removeEventListener(LN,d)),[d]),C.useEffect(()=>{if(l.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(np,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Bj,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(aB,{children:n}),c.jsx(nB,{scope:r,isInside:!0,children:c.jsx(bL,{id:l.contentId,role:"tooltip",children:i||n})})]})})});Hj.displayName=Jf;var Gj="TooltipArrow",sB=C.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=l3(r);return iB(Gj,r).isInside?null:c.jsx(Uj,{...i,...n,ref:e})});sB.displayName=Gj;function oB(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function lB(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function cB(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function uB(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,u=e[s].x,d=e[s].y;l>n!=d>n&&r<(u-o)*(n-l)/(d-l)+o&&(i=!i)}return i}function dB(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),fB(e)}function fB(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var hB=qj,Xj=Hj;const pB=hB,mB=C.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(Xj,{ref:n,sideOffset:e,className:bt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));mB.displayName=Xj.displayName;const vB={theme:"light",setTheme:()=>null,toggleTheme:()=>null},Yj=C.createContext(vB);function gB({children:t,defaultTheme:e="light",storageKey:r="garage-guru-theme",...n}){const[i,a]=C.useState(()=>localStorage.getItem(r)||e);C.useEffect(()=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(i)},[i]);const o={theme:i,setTheme:l=>{localStorage.setItem(r,l),a(l)},toggleTheme:()=>{a(i==="light"?"dark":"light")}};return c.jsx(Yj.Provider,{...n,value:o,children:t})}const hd=()=>{const t=C.useContext(Yj);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},xB=["gorla.ananthkalyan@gmail.com","ananthautomotivegarage@gmail.com"],Zj=C.createContext(void 0);function yB({children:t}){const[e,r]=C.useState(null),[n,i]=C.useState(null),[a,s]=C.useState(localStorage.getItem("auth-token")),[o,l]=C.useState(!0),u=(v,b)=>{const{role:x,email:w,firstLogin:_,garageId:N,mustChangePassword:k}=v;return k?"/change-password":x==="super_admin"&&xB.includes(w)?"/super-admin":x==="garage_admin"?_||!b?"/garage-setup":"/admin-dashboard":x==="mechanic_staff"?!N||!b?"/access-request":"/staff-dashboard":(console.error("User role not recognized or not provisioned:",x),"/unauthorized")};C.useEffect(()=>{a?e?(console.log(" [AUTH] User data already exists, stopping loading"),l(!1)):Ke("GET","/api/user/profile").then(v=>v.json()).then(v=>{if(v.user){if(v.user.status==="suspended")throw localStorage.removeItem("auth-token"),s(null),r(null),i(null),new Error("Your account has been suspended. Please contact an administrator.");r(v.user),i(v.garage)}else localStorage.removeItem("auth-token"),s(null)}).catch(v=>{(v.message.includes("Invalid email or password")||v.message.includes("401"))&&(localStorage.removeItem("auth-token"),s(null))}).finally(()=>{l(!1)}):(console.log(" [AUTH] No token, clearing user data"),r(null),i(null),l(!1))},[a]);const d=async(v,b)=>{var x,w,_;try{console.log(" [AUTH] Login function called for:",v);const k=await(await Ke("POST","/api/auth/login",{email:v,password:b})).json();if(console.log(" [AUTH] Login API response received, token exists:",!!k.token,"user status:",(x=k.user)==null?void 0:x.status),((w=k.user)==null?void 0:w.status)==="suspended")throw console.log(" [AUTH] User is suspended, blocking login"),new Error("Your account has been suspended. Please contact an administrator.");if(localStorage.setItem("auth-token",k.token),console.log(" [AUTH] Setting token, user, and garage state"),s(k.token),r(k.user),i(k.garage),l(!1),console.log(" [AUTH] Auth state updated - user role:",(_=k.user)==null?void 0:_.role,"isLoading set to false"),await new Promise(D=>setTimeout(D,0)),k.user){const D=u(k.user,k.garage);return console.log(" [AUTH] Calculated route for user:",D),D}return null}catch(N){throw console.log(" [AUTH] Login error:",N),N}},f=async v=>{try{const x=await(await Ke("POST","/api/auth/register",v)).json();return localStorage.setItem("auth-token",x.token),s(x.token),r(x.user),i(x.garage),x.user?u(x.user,x.garage):null}catch(b){throw b}},p=()=>{r(null),i(null),s(null),localStorage.removeItem("auth-token")},h=v=>{localStorage.setItem("auth-token",v),s(v)},g=async()=>{if(a)try{const b=await(await Ke("GET","/api/user/profile")).json();b.user&&(r(b.user),i(b.garage))}catch(v){console.error("Failed to refresh user:",v)}};return c.jsx(Zj.Provider,{value:{user:e,garage:n,login:d,register:f,logout:p,isLoading:o,token:a,routeUserBasedOnRole:u,updateToken:h,refreshUser:g},children:t})}const Mr=()=>{const t=C.useContext(Zj);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function wB(){const[t,e]=ln(),{user:r,garage:n}=Mr(),{data:i}=Wt({queryKey:["/api/garages",n==null?void 0:n.id,"job-cards","pending"],queryFn:async()=>n!=null&&n.id?(await Ke("GET",`/api/garages/${n.id}/job-cards?status=pending`)).json():[],enabled:!!(n!=null&&n.id)}),a=(i==null?void 0:i.length)||0,s=[{path:"/dashboard",icon:tj,label:"Dashboard"},{path:"/pending-services",icon:Yg,label:"Services",badge:a>0?a:void 0},{path:"/customers",icon:ul,label:"Customers"},...(r==null?void 0:r.role)==="garage_admin"?[{path:"/sales",icon:Zg,label:"Sales"}]:[],{path:"/profile",icon:Rc,label:"Profile"}];return c.jsx("div",{className:"bottom-nav bg-card border-t border-border",children:c.jsx("div",{className:"flex items-center justify-around py-2",children:s.map(o=>{const l=t===o.path,u=o.icon;return c.jsxs("button",{onClick:()=>e(o.path),className:`flex flex-col items-center py-2 px-3 transition-colors ${l?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(u,{className:"w-5 h-5 mb-1"}),o.badge&&c.jsx("div",{className:"notification-badge",children:o.badge>99?"99+":o.badge})]}),c.jsx("span",{className:"text-xs",children:o.label})]},o.path)})})})}const c3=ap("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=C.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?_E:"button";return c.jsx(s,{className:bt(c3({variant:e,size:r,className:t})),ref:a,...i})});Ne.displayName="Button";function Vi({children:t,showFab:e=!0}){const{user:r}=Mr(),[,n]=ln(),[i,a]=C.useState(!1);C.useEffect(()=>{const o=()=>{a(window.innerWidth>=1024)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s=()=>{n("/job-card")};return r?c.jsxs("div",{className:"mobile-container",children:[t,e&&c.jsx(Ne,{onClick:s,className:"fab w-14 h-14 rounded-full shadow-lg",size:"icon","data-testid":"button-fab-new-job",children:c.jsx(dd,{className:"w-6 h-6"})}),c.jsx(wB,{})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mobile-container",children:t}),c.jsx("div",{className:"desktop-container",children:t})]})}const MN=["gorla.ananthkalyan@gmail.com","ananthautomotivegarage@gmail.com"];function ei({children:t,roles:e}){const{user:r,garage:n,isLoading:i,routeUserBasedOnRole:a}=Mr(),[s,o]=ln();return C.useEffect(()=>{if(!i&&!r){s!=="/login"&&o("/login");return}if(r&&i===!1){if(s==="/super-admin"&&(r.role!=="super_admin"||!MN.includes(r.email))){o("/unauthorized");return}if(e&&e.length>0){if(!e.includes(r.role)){o("/unauthorized");return}if(r.role==="garage_admin"&&!n&&s!=="/garage-setup"){o("/garage-setup");return}if(r.role==="mechanic_staff"&&!r.garageId&&s!=="/access-request"){o("/access-request");return}}if(s==="/dashboard"||s==="/"){const l=a(r,n);if(l&&l!==s&&l!=="/dashboard"){o(l);return}}}},[r,n,i,e,o,s,a]),i?c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})}):!r||s==="/super-admin"&&(r.role!=="super_admin"||!MN.includes(r.email))||e&&e.length>0&&(!e.includes(r.role)||r.role==="garage_admin"&&!n&&s!=="/garage-setup"||r.role==="mechanic_staff"&&!r.garageId&&s!=="/access-request")?null:c.jsx(c.Fragment,{children:t})}const ft=C.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:bt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ft.displayName="Input";var bB="Label",Kj=C.forwardRef((t,e)=>c.jsx(Ot.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Kj.displayName=bB;var Qj=Kj;const _B=ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Et=C.forwardRef(({className:t,...e},r)=>c.jsx(Qj,{ref:r,className:bt(_B(),t),...e}));Et.displayName=Qj.displayName;var Bx="focusScope.autoFocusOnMount",Ux="focusScope.autoFocusOnUnmount",FN={bubbles:!1,cancelable:!0},NB="FocusScope",u3=C.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=C.useState(null),u=jn(i),d=jn(a),f=C.useRef(null),p=ar(e,v=>l(v)),h=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let v=function(_){if(h.paused||!o)return;const N=_.target;o.contains(N)?f.current=N:Gl(f.current,{select:!0})},b=function(_){if(h.paused||!o)return;const N=_.relatedTarget;N!==null&&(o.contains(N)||Gl(f.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const k of _)k.removedNodes.length>0&&Gl(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const w=new MutationObserver(x);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),w.disconnect()}}},[n,o,h.paused]),C.useEffect(()=>{if(o){UN.add(h);const v=document.activeElement;if(!o.contains(v)){const x=new CustomEvent(Bx,FN);o.addEventListener(Bx,u),o.dispatchEvent(x),x.defaultPrevented||(SB(kB(Jj(o)),{select:!0}),document.activeElement===v&&Gl(o))}return()=>{o.removeEventListener(Bx,u),setTimeout(()=>{const x=new CustomEvent(Ux,FN);o.addEventListener(Ux,d),o.dispatchEvent(x),x.defaultPrevented||Gl(v??document.body,{select:!0}),o.removeEventListener(Ux,d),UN.remove(h)},0)}}},[o,u,d,h]);const g=C.useCallback(v=>{if(!r&&!n||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const w=v.currentTarget,[_,N]=AB(w);_&&N?!v.shiftKey&&x===N?(v.preventDefault(),r&&Gl(_,{select:!0})):v.shiftKey&&x===_&&(v.preventDefault(),r&&Gl(N,{select:!0})):x===w&&v.preventDefault()}},[r,n,h.paused]);return c.jsx(Ot.div,{tabIndex:-1,...s,ref:p,onKeyDown:g})});u3.displayName=NB;function SB(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Gl(n,{select:e}),document.activeElement!==r)return}function AB(t){const e=Jj(t),r=BN(e,t),n=BN(e.reverse(),t);return[r,n]}function Jj(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function BN(t,e){for(const r of t)if(!CB(r,{upTo:e}))return r}function CB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EB(t){return t instanceof HTMLInputElement&&"select"in t}function Gl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&EB(t)&&e&&t.select()}}var UN=jB();function jB(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=zN(t,e),t.unshift(e)},remove(e){var r;t=zN(t,e),(r=t[0])==null||r.resume()}}}function zN(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function kB(t){return t.filter(e=>e.tagName!=="A")}var zx=0;function e7(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VN()),document.body.insertAdjacentElement("beforeend",t[1]??VN()),zx++,()=>{zx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zx--}},[])}function VN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xo=function(){return xo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xo.apply(this,arguments)};function t7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function IB(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Km="right-scroll-bar-position",Qm="width-before-scroll-bar",TB="with-scroll-bars-hidden",PB="--removed-body-scroll-bar-size";function Vx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function OB(t,e){var r=C.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var RB=typeof window<"u"?C.useLayoutEffect:C.useEffect,qN=new WeakMap;function DB(t,e){var r=OB(null,function(n){return t.forEach(function(i){return Vx(i,n)})});return RB(function(){var n=qN.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||Vx(o,null)}),a.forEach(function(o){i.has(o)||Vx(o,s)})}qN.set(r,t)},[t]),r}function LB(t){return t}function MB(t,e){e===void 0&&(e=LB);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function FB(t){t===void 0&&(t={});var e=MB(null);return e.options=xo({async:!0,ssr:!1},t),e}var r7=function(t){var e=t.sideCar,r=t7(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,xo({},r))};r7.isSideCarExport=!0;function BB(t,e){return t.useMedium(e),r7}var n7=FB(),qx=function(){},n2=C.forwardRef(function(t,e){var r=C.useRef(null),n=C.useState({onScrollCapture:qx,onWheelCapture:qx,onTouchMoveCapture:qx}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,h=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,w=t.gapMode,_=t7(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=DB([r,e]),D=xo(xo({},_),i);return C.createElement(C.Fragment,null,d&&C.createElement(N,{sideCar:n7,removeScrollBar:u,shards:f,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?C.cloneElement(C.Children.only(o),xo(xo({},D),{ref:k})):C.createElement(x,xo({},D,{className:l,ref:k}),o))});n2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};n2.classNames={fullWidth:Qm,zeroRight:Km};var UB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UB();return e&&t.setAttribute("nonce",e),t}function VB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $B=function(){var t=0,e=null;return{add:function(r){t==0&&(e=zB())&&(VB(e,r),qB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HB=function(){var t=$B();return function(e,r){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},i7=function(){var t=HB(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},WB={left:0,top:0,right:0,gap:0},$x=function(t){return parseInt(t||"",10)||0},GB=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$x(r),$x(n),$x(i)]},XB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return WB;var e=GB(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},YB=i7(),bf="data-scroll-locked",ZB=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(TB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(bf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Km,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Qm,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qm," .").concat(Qm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bf,`] {
    `).concat(PB,": ").concat(o,`px;
  }
`)},$N=function(){var t=parseInt(document.body.getAttribute(bf)||"0",10);return isFinite(t)?t:0},KB=function(){C.useEffect(function(){return document.body.setAttribute(bf,($N()+1).toString()),function(){var t=$N()-1;t<=0?document.body.removeAttribute(bf):document.body.setAttribute(bf,t.toString())}},[])},QB=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;KB();var a=C.useMemo(function(){return XB(i)},[i]);return C.createElement(YB,{styles:ZB(a,!e,i,r?"":"!important")})},Kw=!1;if(typeof window<"u")try{var pm=Object.defineProperty({},"passive",{get:function(){return Kw=!0,!0}});window.addEventListener("test",pm,pm),window.removeEventListener("test",pm,pm)}catch{Kw=!1}var Rd=Kw?{passive:!1}:!1,JB=function(t){return t.tagName==="TEXTAREA"},a7=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!JB(t)&&r[e]==="visible")},eU=function(t){return a7(t,"overflowY")},tU=function(t){return a7(t,"overflowX")},HN=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=s7(t,n);if(i){var a=o7(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},nU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},s7=function(t,e){return t==="v"?eU(e):tU(e)},o7=function(t,e){return t==="v"?rU(e):nU(e)},iU=function(t,e){return t==="h"&&e==="rtl"?-1:1},aU=function(t,e,r,n,i){var a=iU(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),u=!1,d=s>0,f=0,p=0;do{var h=o7(t,o),g=h[0],v=h[1],b=h[2],x=v-b-a*g;(g||x)&&s7(t,o)&&(f+=x,p+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(u=!0),u},mm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WN=function(t){return[t.deltaX,t.deltaY]},GN=function(t){return t&&"current"in t?t.current:t},sU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lU=0,Dd=[];function cU(t){var e=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),i=C.useState(lU++)[0],a=C.useState(i7)[0],s=C.useRef(t);C.useEffect(function(){s.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=IB([t.lockRef.current],(t.shards||[]).map(GN),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var x=mm(v),w=r.current,_="deltaX"in v?v.deltaX:w[0]-x[0],N="deltaY"in v?v.deltaY:w[1]-x[1],k,D=v.target,T=Math.abs(_)>Math.abs(N)?"h":"v";if("touches"in v&&T==="h"&&D.type==="range")return!1;var R=HN(T,D);if(!R)return!0;if(R?k=T:(k=T==="v"?"h":"v",R=HN(T,D)),!R)return!1;if(!n.current&&"changedTouches"in v&&(_||N)&&(n.current=k),!k)return!0;var P=n.current||k;return aU(P,b,v,P==="h"?_:N,!0)},[]),l=C.useCallback(function(v){var b=v;if(!(!Dd.length||Dd[Dd.length-1]!==a)){var x="deltaY"in b?WN(b):mm(b),w=e.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&sU(k.delta,x)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var _=(s.current.shards||[]).map(GN).filter(Boolean).filter(function(k){return k.contains(b.target)}),N=_.length>0?o(b,_[0]):!s.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),u=C.useCallback(function(v,b,x,w){var _={name:v,delta:b,target:x,should:w,shadowParent:uU(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(N){return N!==_})},1)},[]),d=C.useCallback(function(v){r.current=mm(v),n.current=void 0},[]),f=C.useCallback(function(v){u(v.type,WN(v),v.target,o(v,t.lockRef.current))},[]),p=C.useCallback(function(v){u(v.type,mm(v),v.target,o(v,t.lockRef.current))},[]);C.useEffect(function(){return Dd.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Rd),document.addEventListener("touchmove",l,Rd),document.addEventListener("touchstart",d,Rd),function(){Dd=Dd.filter(function(v){return v!==a}),document.removeEventListener("wheel",l,Rd),document.removeEventListener("touchmove",l,Rd),document.removeEventListener("touchstart",d,Rd)}},[]);var h=t.removeScrollBar,g=t.inert;return C.createElement(C.Fragment,null,g?C.createElement(a,{styles:oU(i)}):null,h?C.createElement(QB,{gapMode:t.gapMode}):null)}function uU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dU=BB(n7,cU);var d3=C.forwardRef(function(t,e){return C.createElement(n2,xo({},t,{ref:e,sideCar:dU}))});d3.classNames=n2.classNames;var fU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ld=new WeakMap,vm=new WeakMap,gm={},Hx=0,l7=function(t){return t&&(t.host||l7(t.parentNode))},hU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=l7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pU=function(t,e,r,n){var i=hU(e,Array.isArray(t)?t:[t]);gm[r]||(gm[r]=new WeakMap);var a=gm[r],s=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(o.has(p))d(p);else try{var h=p.getAttribute(n),g=h!==null&&h!=="false",v=(Ld.get(p)||0)+1,b=(a.get(p)||0)+1;Ld.set(p,v),a.set(p,b),s.push(p),v===1&&g&&vm.set(p,!0),b===1&&p.setAttribute(r,"true"),g||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),o.clear(),Hx++,function(){s.forEach(function(f){var p=Ld.get(f)-1,h=a.get(f)-1;Ld.set(f,p),a.set(f,h),p||(vm.has(f)||f.removeAttribute(n),vm.delete(f)),h||f.removeAttribute(r)}),Hx--,Hx||(Ld=new WeakMap,Ld=new WeakMap,vm=new WeakMap,gm={})}},c7=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=fU(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),pU(n,i,r,"aria-hidden")):function(){return null}},f3="Dialog",[u7,d7]=Gs(f3),[mU,Ys]=u7(f3),f7=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=C.useRef(null),l=C.useRef(null),[u=!1,d]=Ku({prop:n,defaultProp:i,onChange:a});return c.jsx(mU,{scope:e,triggerRef:o,contentRef:l,contentId:_c(),titleId:_c(),descriptionId:_c(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};f7.displayName=f3;var h7="DialogTrigger",p7=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ys(h7,r),a=ar(e,i.triggerRef);return c.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":m3(i.open),...n,ref:a,onClick:vt(t.onClick,i.onOpenToggle)})});p7.displayName=h7;var h3="DialogPortal",[vU,m7]=u7(h3,{forceMount:void 0}),v7=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Ys(h3,e);return c.jsx(vU,{scope:e,forceMount:r,children:C.Children.map(n,s=>c.jsx(Xs,{present:r||a.open,children:c.jsx(Wg,{asChild:!0,container:i,children:s})}))})};v7.displayName=h3;var Yv="DialogOverlay",g7=C.forwardRef((t,e)=>{const r=m7(Yv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ys(Yv,t.__scopeDialog);return a.modal?c.jsx(Xs,{present:n||a.open,children:c.jsx(xU,{...i,ref:e})}):null});g7.displayName=Yv;var gU=Kf("DialogOverlay.RemoveScroll"),xU=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ys(Yv,r);return c.jsx(d3,{as:gU,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ot.div,{"data-state":m3(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ed="DialogContent",x7=C.forwardRef((t,e)=>{const r=m7(ed,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Ys(ed,t.__scopeDialog);return c.jsx(Xs,{present:n||a.open,children:a.modal?c.jsx(yU,{...i,ref:e}):c.jsx(wU,{...i,ref:e})})});x7.displayName=ed;var yU=C.forwardRef((t,e)=>{const r=Ys(ed,t.__scopeDialog),n=C.useRef(null),i=ar(e,r.contentRef,n);return C.useEffect(()=>{const a=n.current;if(a)return c7(a)},[]),c.jsx(y7,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:vt(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:vt(t.onFocusOutside,a=>a.preventDefault())})}),wU=C.forwardRef((t,e)=>{const r=Ys(ed,t.__scopeDialog),n=C.useRef(!1),i=C.useRef(!1);return c.jsx(y7,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),y7=C.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=Ys(ed,r),l=C.useRef(null),u=ar(e,l);return e7(),c.jsxs(c.Fragment,{children:[c.jsx(u3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(np,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":m3(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(_U,{titleId:o.titleId}),c.jsx(SU,{contentRef:l,descriptionId:o.descriptionId})]})]})}),p3="DialogTitle",w7=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ys(p3,r);return c.jsx(Ot.h2,{id:i.titleId,...n,ref:e})});w7.displayName=p3;var b7="DialogDescription",_7=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ys(b7,r);return c.jsx(Ot.p,{id:i.descriptionId,...n,ref:e})});_7.displayName=b7;var N7="DialogClose",S7=C.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ys(N7,r);return c.jsx(Ot.button,{type:"button",...n,ref:e,onClick:vt(t.onClick,()=>i.onOpenChange(!1))})});S7.displayName=N7;function m3(t){return t?"open":"closed"}var A7="DialogTitleWarning",[bU,C7]=JD(A7,{contentName:ed,titleName:p3,docsSlug:"dialog"}),_U=({titleId:t})=>{const e=C7(A7),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},NU="DialogDescriptionWarning",SU=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C7(NU).contentName}}.`;return C.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},E7=f7,j7=p7,k7=v7,v3=g7,g3=x7,x3=w7,y3=_7,w3=S7;const cs=E7,Zv=j7,AU=k7,I7=C.forwardRef(({className:t,...e},r)=>c.jsx(v3,{ref:r,className:bt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));I7.displayName=v3.displayName;const us=C.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(AU,{children:[c.jsx(I7,{}),c.jsxs(g3,{ref:n,className:bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(w3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(mh,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));us.displayName=g3.displayName;const ds=({className:t,...e})=>c.jsx("div",{className:bt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ds.displayName="DialogHeader";const fs=C.forwardRef(({className:t,...e},r)=>c.jsx(x3,{ref:r,className:bt("text-lg font-semibold leading-none tracking-tight",t),...e}));fs.displayName=x3.displayName;const g0=C.forwardRef(({className:t,...e},r)=>c.jsx(y3,{ref:r,className:bt("text-sm text-muted-foreground",t),...e}));g0.displayName=y3.displayName;var CU="Separator",XN="horizontal",EU=["horizontal","vertical"],T7=C.forwardRef((t,e)=>{const{decorative:r,orientation:n=XN,...i}=t,a=jU(n)?n:XN,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(Ot.div,{"data-orientation":a,...o,...i,ref:e})});T7.displayName=CU;function jU(t){return EU.includes(t)}var P7=T7;const b3=C.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>c.jsx(P7,{ref:i,decorative:r,orientation:e,className:bt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));b3.displayName=P7.displayName;function kU(){const[,t]=ln(),{login:e}=Mr(),{theme:r,toggleTheme:n}=hd(),{toast:i}=ci(),[a,s]=C.useState(""),[o,l]=C.useState(""),[u,d]=C.useState(!1),[f,p]=C.useState(!1),[h,g]=C.useState(!1);C.useEffect(()=>{localStorage.getItem("auth-token")&&(console.log(" Clearing potentially stale auth token on login page load"),localStorage.removeItem("auth-token"))},[]);const v=["gorla.ananthkalyan@gmail.com","ananthautomotivegarage@gmail.com"],[b,x]=C.useState(!1),[w,_]=C.useState(""),[N,k]=C.useState(""),[D,T]=C.useState(""),[R,P]=C.useState(""),[O,j]=C.useState(""),[E,L]=C.useState("request"),[B,te]=C.useState("request"),[re,se]=C.useState(""),[H,ne]=C.useState(""),[ge,_e]=C.useState(""),[U,W]=C.useState(""),[Y,ie]=C.useState(!1),ue=async Ee=>{if(Ee.preventDefault(),console.log(" [LOGIN] Form submitted, isLoading:",u),u){console.log(" [LOGIN] Already loading, preventing double submission");return}if(!a||!o){console.log(" [LOGIN] Missing email or password"),i({title:"Login Failed",description:"Please enter both email and password",variant:"destructive"});return}console.log(" [LOGIN] Starting login process for:",a),d(!0);try{console.log(" [LOGIN] Calling auth login function");const me=await e(a,o);console.log(" [LOGIN] Login successful, redirectPath:",me),s(""),l(""),me&&(console.log(" [LOGIN] Navigating to:",me),setTimeout(()=>{t(me)},10))}catch(me){console.log(" [LOGIN] Login failed with error:",me),i({title:"Login Failed",description:me instanceof Error?me.message:"Invalid credentials",variant:"destructive"})}finally{console.log(" [LOGIN] Setting isLoading to false"),d(!1)}},ae=async()=>{if(!w){i({title:"Error",description:"Please enter your email address",variant:"destructive"});return}if(v.includes(w)){i({title:"Super Admin Detected",description:"Please use the Super Admin Password Reset (MFA) option for secure password reset."}),g(!1),x(!0);return}ie(!0);try{const Ee=localStorage.getItem("auth-token"),me={"Content-Type":"application/json"};Ee&&(me.Authorization=`Bearer ${Ee}`);const Q=await fetch("/api/forgot-password/request",{method:"POST",headers:me,body:JSON.stringify({email:w}),credentials:"include"});if(Q.ok){const at=await Q.json();i({title:"Reset Code Sent",description:at.message||"Check your email for the password reset code"}),te("verify")}else try{const at=await Q.json();if(at.isSuspended){i({title:"Account Suspended",description:at.message,variant:"destructive"});return}if(at.isInactive){i({title:"Account Inactive",description:at.message,variant:"destructive"});return}i({title:"Error",description:at.message||"Failed to send reset code",variant:"destructive"})}catch{i({title:"Error",description:"Failed to send reset code",variant:"destructive"})}}catch(Ee){i({title:"Error",description:Ee.message||"Network error. Please try again.",variant:"destructive"})}finally{ie(!1)}},xe=async()=>{const Ee=w||"gorla.ananthkalyan@gmail.com";if(!v.includes(Ee)){i({title:"Access Denied",description:"This feature is only available for super admin accounts.",variant:"destructive"});return}try{if((await Ke("POST","/api/mfa/request",{email:Ee,purpose:"password_change"})).ok)i({title:"OTP Sent",description:"Check your email for the verification code"}),L("verify");else throw new Error("Failed to send OTP")}catch{i({title:"Error",description:"Failed to send OTP",variant:"destructive"})}},ve=async()=>{if(!N||N.length!==6){i({title:"Error",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}try{const me=await Ke("POST","/api/mfa/verify",{email:w||"gorla.ananthkalyan@gmail.com",code:N,purpose:"password_change"});if(me.ok){const Q=await me.json();j(Q.token),L("change"),i({title:"OTP Verified",description:"Now enter your new password"})}else throw new Error("Invalid OTP")}catch(Ee){i({title:"Error",description:Ee instanceof Error?Ee.message:"Invalid or expired OTP",variant:"destructive"})}},Ce=async()=>{var Ee,me;if(!re||re.length!==6){i({title:"Error",description:"Please enter a valid 6-digit code",variant:"destructive"});return}ie(!0);try{const Q=await Ke("POST","/api/forgot-password/verify",{email:w,code:re});if(Q.ok){const at=await Q.json();ne(at.resetToken),te("reset"),i({title:"Code Verified",description:"Now enter your new password"})}else throw new Error("Invalid code")}catch(Q){const at=await((me=(Ee=Q.response)==null?void 0:Ee.json)==null?void 0:me.call(Ee))||{};i({title:"Error",description:at.message||"Invalid or expired code",variant:"destructive"})}finally{ie(!1)}},je=async()=>{var Ee,me;if(!ge||ge.length<8){i({title:"Error",description:"Password must be at least 8 characters",variant:"destructive"});return}if(!/[A-Z]/.test(ge)){i({title:"Error",description:"Password must contain at least one uppercase letter",variant:"destructive"});return}if(!/[a-z]/.test(ge)){i({title:"Error",description:"Password must contain at least one lowercase letter",variant:"destructive"});return}if(!/[0-9]/.test(ge)){i({title:"Error",description:"Password must contain at least one number",variant:"destructive"});return}if(ge!==U){i({title:"Error",description:"Passwords do not match",variant:"destructive"});return}ie(!0);try{const Q=await Ke("POST","/api/forgot-password/reset",{resetToken:H,newPassword:ge});if(Q.ok){const at=await Q.json();i({title:"Success",description:at.message||"Password reset successfully"}),g(!1),te("request"),_(""),se(""),ne(""),_e(""),W("")}else throw new Error("Failed to reset password")}catch(Q){const at=await((me=(Ee=Q.response)==null?void 0:Ee.json)==null?void 0:me.call(Ee))||{};i({title:"Error",description:at.message||"Failed to reset password",variant:"destructive"})}finally{ie(!1)}},Le=async()=>{if(!D||D.length<8){i({title:"Error",description:"Password must be at least 8 characters",variant:"destructive"});return}if(D!==R){i({title:"Error",description:"Passwords do not match",variant:"destructive"});return}try{if((await Ke("POST","/api/mfa/change-password",{email:w||"gorla.ananthkalyan@gmail.com",newPassword:D,purpose:"password_change"})).ok)i({title:"Success",description:"Password changed successfully"}),x(!1),L("request"),k(""),T(""),P(""),j("");else throw new Error("Failed to change password")}catch(Ee){i({title:"Error",description:Ee instanceof Error?Ee.message:"Failed to change password",variant:"destructive"})}};return c.jsxs("div",{className:"gradient-header text-primary-foreground min-h-screen",children:[c.jsxs("div",{className:"flex flex-col h-full justify-center px-6",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(Ne,{variant:"ghost",size:"icon",onClick:n,className:"text-primary-foreground hover:bg-white/10",children:r==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-white rounded-full flex items-center justify-center",children:c.jsx(Xc,{className:"text-primary text-3xl w-12 h-12"})}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"GarageGuru"}),c.jsx("p",{className:"text-blue-100",children:"Professional Garage Management"})]}),c.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email"}),c.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",value:a,onChange:Ee=>s(Ee.target.value),className:"bg-white/10 border-white/20 placeholder-white/70 text-white focus:border-white/50",required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"password",type:f?"text":"password",placeholder:"Enter your password",value:o,onChange:Ee=>l(Ee.target.value),className:"bg-white/10 border-white/20 placeholder-white/70 text-white focus:border-white/50 pr-10",required:!0,"data-testid":"input-password"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 text-white/70 hover:text-white hover:bg-transparent",onClick:()=>p(!f),"data-testid":"button-toggle-password",children:f?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})]}),c.jsx(Ne,{type:"submit",disabled:u||!a||!o,className:"w-full bg-white text-primary hover:bg-gray-100",children:u?c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Signing In..."})]}):"Sign In"}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(Ne,{type:"button",variant:"link",onClick:()=>g(!0),className:"text-blue-100 underline text-sm","data-testid":"button-forgot-password",children:"Forgot Password?"}),c.jsx(Ne,{type:"button",variant:"link",onClick:()=>x(!0),className:"text-blue-100 underline text-sm","data-testid":"button-super-admin-mfa",children:"Super Admin Password Reset (MFA)"})]}),c.jsx(b3,{className:"bg-white/20"}),c.jsx(Ne,{type:"button",variant:"link",onClick:()=>t("/register"),className:"text-blue-100 underline","data-testid":"button-request-access",children:"Request Access"})]})]})]}),c.jsx(cs,{open:h,onOpenChange:Ee=>{g(Ee),Ee||(te("request"),_(""),se(""),ne(""),_e(""),W(""))},children:c.jsxs(us,{className:"sm:max-w-md",children:[c.jsxs(ds,{children:[c.jsxs(fs,{className:"flex items-center gap-2",children:[c.jsx(Gb,{className:"w-5 h-5"}),B==="request"&&"Forgot Password",B==="verify"&&"Enter Verification Code",B==="reset"&&"Set New Password"]}),c.jsxs(g0,{children:[B==="request"&&"Enter your email address to receive a password reset code.",B==="verify"&&"Enter the 6-digit code sent to your email address.",B==="reset"&&"Enter your new password below."]})]}),B==="request"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"forgot-email",children:"Email Address"}),c.jsx(ft,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:w,onChange:Ee=>_(Ee.target.value),"data-testid":"input-forgot-email"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>g(!1),className:"flex-1","data-testid":"button-cancel-forgot",children:"Cancel"}),c.jsx(Ne,{onClick:ae,disabled:Y,className:"flex-1","data-testid":"button-send-reset",children:Y?"Sending...":"Send Reset Code"})]})]}),B==="verify"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"forgot-otp",children:"Verification Code"}),c.jsx(ft,{id:"forgot-otp",type:"text",value:re,onChange:Ee=>se(Ee.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-lg tracking-widest","data-testid":"input-forgot-otp"}),c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Code sent to ",w]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>te("request"),className:"flex-1","data-testid":"button-back-to-email",children:"Back"}),c.jsx(Ne,{onClick:Ce,disabled:Y||re.length!==6,className:"flex-1","data-testid":"button-verify-code",children:Y?"Verifying...":"Verify Code"})]})]}),B==="reset"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"reset-password",children:"New Password"}),c.jsx(ft,{id:"reset-password",type:"password",value:ge,onChange:Ee=>_e(Ee.target.value),placeholder:"Enter new password","data-testid":"input-reset-password"}),c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Password must contain:",c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsx("li",{children:"At least 8 characters"}),c.jsx("li",{children:"One uppercase letter"}),c.jsx("li",{children:"One lowercase letter"}),c.jsx("li",{children:"One number"})]})]})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"reset-confirm-password",children:"Confirm New Password"}),c.jsx(ft,{id:"reset-confirm-password",type:"password",value:U,onChange:Ee=>W(Ee.target.value),placeholder:"Confirm new password","data-testid":"input-reset-confirm-password"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>te("verify"),className:"flex-1","data-testid":"button-back-to-verify",children:"Back"}),c.jsx(Ne,{onClick:je,disabled:Y||!ge||!U,className:"flex-1","data-testid":"button-reset-password",children:Y?"Resetting...":"Reset Password"})]})]})]})}),c.jsx(cs,{open:b,onOpenChange:x,children:c.jsxs(us,{className:"sm:max-w-md",children:[c.jsxs(ds,{children:[c.jsxs(fs,{className:"flex items-center gap-2",children:[c.jsx(h0,{className:"w-5 h-5"}),"Super Admin Password Reset"]}),c.jsxs(g0,{children:[E==="request"&&"Request an OTP to reset your super admin password",E==="verify"&&"Enter the 6-digit OTP sent to your email",E==="change"&&"Enter your new password"]})]}),c.jsxs("div",{className:"space-y-4",children:[E==="request"&&c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"An OTP will be sent to super admin for verification."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>x(!1),className:"flex-1","data-testid":"button-cancel-mfa",children:"Cancel"}),c.jsx(Ne,{onClick:xe,className:"flex-1","data-testid":"button-request-otp",children:"Send OTP"})]})]}),E==="verify"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"mfa-otp",children:"6-Digit OTP"}),c.jsx(ft,{id:"mfa-otp",type:"text",placeholder:"000000",value:N,onChange:Ee=>k(Ee.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"text-center text-lg tracking-wider","data-testid":"input-mfa-otp"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>{L("request"),k("")},className:"flex-1","data-testid":"button-back-to-request",children:"Back"}),c.jsx(Ne,{onClick:ve,className:"flex-1",disabled:N.length!==6,"data-testid":"button-verify-otp",children:"Verify OTP"})]})]}),E==="change"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"new-password",children:"New Password"}),c.jsx(ft,{id:"new-password",type:"password",placeholder:"Enter new password",value:D,onChange:Ee=>T(Ee.target.value),"data-testid":"input-new-password"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(ft,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:R,onChange:Ee=>P(Ee.target.value),"data-testid":"input-confirm-password"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>{L("verify"),T(""),P("")},className:"flex-1","data-testid":"button-back-to-verify",children:"Back"}),c.jsx(Ne,{onClick:Le,className:"flex-1",disabled:!D||!R||D!==R,"data-testid":"button-change-password",children:"Change Password"})]})]})]})]})})]})}function Qw(t,[e,r]){return Math.min(r,Math.max(e,t))}var IU=C.createContext(void 0);function i2(t){const e=C.useContext(IU);return t||e||"ltr"}function O7(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TU=[" ","Enter","ArrowUp","ArrowDown"],PU=[" ","Enter"],op="Select",[a2,s2,OU]=Ub(op),[yh,LJ]=Gs(op,[OU,e2]),o2=e2(),[RU,Yc]=yh(op),[DU,LU]=yh(op),R7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:g}=t,v=o2(e),[b,x]=C.useState(null),[w,_]=C.useState(null),[N,k]=C.useState(!1),D=i2(u),[T=!1,R]=Ku({prop:n,defaultProp:i,onChange:a}),[P,O]=Ku({prop:s,defaultProp:o,onChange:l}),j=C.useRef(null),E=b?g||!!b.closest("form"):!0,[L,B]=C.useState(new Set),te=Array.from(L).map(re=>re.props.value).join(";");return c.jsx(ZF,{...v,children:c.jsxs(RU,{required:h,scope:e,trigger:b,onTriggerChange:x,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:N,onValueNodeHasChildrenChange:k,contentId:_c(),value:P,onValueChange:O,open:T,onOpenChange:R,dir:D,triggerPointerDownPosRef:j,disabled:p,children:[c.jsx(a2.Provider,{scope:e,children:c.jsx(DU,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(re=>{B(se=>new Set(se).add(re))},[]),onNativeOptionRemove:C.useCallback(re=>{B(se=>{const H=new Set(se);return H.delete(re),H})},[]),children:r})}),E?c.jsxs(ak,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:re=>O(re.target.value),disabled:p,form:g,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(L)]},te):null]})})};R7.displayName=op;var D7="SelectTrigger",L7=C.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=o2(r),s=Yc(D7,r),o=s.disabled||n,l=ar(e,s.onTriggerChange),u=s2(r),d=C.useRef("touch"),[f,p,h]=sk(v=>{const b=u().filter(_=>!_.disabled),x=b.find(_=>_.value===s.value),w=ok(b,v,x);w!==void 0&&s.onValueChange(w.value)}),g=v=>{o||(s.onOpenChange(!0),h()),v&&(s.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(Fj,{asChild:!0,...a,children:c.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ik(s.value)?"":void 0,...i,ref:l,onClick:vt(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:vt(i.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:vt(i.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&TU.includes(v.key)&&(g(),v.preventDefault())})})})});L7.displayName=D7;var M7="SelectValue",F7=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,l=Yc(M7,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,f=ar(e,l.onValueNodeChange);return Ni(()=>{u(d)},[u,d]),c.jsx(Ot.span,{...o,ref:f,style:{pointerEvents:"none"},children:ik(l.value)?c.jsx(c.Fragment,{children:s}):a})});F7.displayName=M7;var MU="SelectIcon",B7=C.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Ot.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});B7.displayName=MU;var FU="SelectPortal",U7=t=>c.jsx(Wg,{asChild:!0,...t});U7.displayName=FU;var td="SelectContent",z7=C.forwardRef((t,e)=>{const r=Yc(td,t.__scopeSelect),[n,i]=C.useState();if(Ni(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ud.createPortal(c.jsx(V7,{scope:t.__scopeSelect,children:c.jsx(a2.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(q7,{...t,ref:e})});z7.displayName=td;var Cs=10,[V7,Zc]=yh(td),BU="SelectContentImpl",UU=Kf("SelectContent.RemoveScroll"),q7=C.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:b,...x}=t,w=Yc(td,r),[_,N]=C.useState(null),[k,D]=C.useState(null),T=ar(e,ae=>N(ae)),[R,P]=C.useState(null),[O,j]=C.useState(null),E=s2(r),[L,B]=C.useState(!1),te=C.useRef(!1);C.useEffect(()=>{if(_)return c7(_)},[_]),e7();const re=C.useCallback(ae=>{const[xe,...ve]=E().map(Le=>Le.ref.current),[Ce]=ve.slice(-1),je=document.activeElement;for(const Le of ae)if(Le===je||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===xe&&k&&(k.scrollTop=0),Le===Ce&&k&&(k.scrollTop=k.scrollHeight),Le==null||Le.focus(),document.activeElement!==je))return},[E,k]),se=C.useCallback(()=>re([R,_]),[re,R,_]);C.useEffect(()=>{L&&se()},[L,se]);const{onOpenChange:H,triggerPointerDownPosRef:ne}=w;C.useEffect(()=>{if(_){let ae={x:0,y:0};const xe=Ce=>{var je,Le;ae={x:Math.abs(Math.round(Ce.pageX)-(((je=ne.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Le=ne.current)==null?void 0:Le.y)??0))}},ve=Ce=>{ae.x<=10&&ae.y<=10?Ce.preventDefault():_.contains(Ce.target)||H(!1),document.removeEventListener("pointermove",xe),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ve,{capture:!0})}}},[_,H,ne]),C.useEffect(()=>{const ae=()=>H(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[H]);const[ge,_e]=sk(ae=>{const xe=E().filter(je=>!je.disabled),ve=xe.find(je=>je.ref.current===document.activeElement),Ce=ok(xe,ae,ve);Ce&&setTimeout(()=>Ce.ref.current.focus())}),U=C.useCallback((ae,xe,ve)=>{const Ce=!te.current&&!ve;(w.value!==void 0&&w.value===xe||Ce)&&(P(ae),Ce&&(te.current=!0))},[w.value]),W=C.useCallback(()=>_==null?void 0:_.focus(),[_]),Y=C.useCallback((ae,xe,ve)=>{const Ce=!te.current&&!ve;(w.value!==void 0&&w.value===xe||Ce)&&j(ae)},[w.value]),ie=n==="popper"?Jw:$7,ue=ie===Jw?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return c.jsx(V7,{scope:r,content:_,viewport:k,onViewportChange:D,itemRefCallback:U,selectedItem:R,onItemLeave:W,itemTextRefCallback:Y,focusSelectedItem:se,selectedItemText:O,position:n,isPositioned:L,searchRef:ge,children:c.jsx(d3,{as:UU,allowPinchZoom:!0,children:c.jsx(u3,{asChild:!0,trapped:w.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:vt(i,ae=>{var xe;(xe=w.trigger)==null||xe.focus({preventScroll:!0}),ae.preventDefault()}),children:c.jsx(np,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ie,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ae=>ae.preventDefault(),...x,...ue,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:vt(x.onKeyDown,ae=>{const xe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!xe&&ae.key.length===1&&_e(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ce=E().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const je=ae.target,Le=Ce.indexOf(je);Ce=Ce.slice(Le+1)}setTimeout(()=>re(Ce)),ae.preventDefault()}})})})})})})});q7.displayName=BU;var zU="SelectItemAlignedPosition",$7=C.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Yc(td,r),s=Zc(td,r),[o,l]=C.useState(null),[u,d]=C.useState(null),f=ar(e,T=>d(T)),p=s2(r),h=C.useRef(!1),g=C.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:w}=s,_=C.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&v&&b&&x){const T=a.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(a.dir!=="rtl"){const je=O.left-R.left,Le=P.left-je,Ee=T.left-Le,me=T.width+Ee,Q=Math.max(me,R.width),at=window.innerWidth-Cs,wt=Qw(Le,[Cs,Math.max(Cs,at-Q)]);o.style.minWidth=me+"px",o.style.left=wt+"px"}else{const je=R.right-O.right,Le=window.innerWidth-P.right-je,Ee=window.innerWidth-T.right-Le,me=T.width+Ee,Q=Math.max(me,R.width),at=window.innerWidth-Cs,wt=Qw(Le,[Cs,Math.max(Cs,at-Q)]);o.style.minWidth=me+"px",o.style.right=wt+"px"}const j=p(),E=window.innerHeight-Cs*2,L=v.scrollHeight,B=window.getComputedStyle(u),te=parseInt(B.borderTopWidth,10),re=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),H=parseInt(B.paddingBottom,10),ne=te+re+L+H+se,ge=Math.min(b.offsetHeight*5,ne),_e=window.getComputedStyle(v),U=parseInt(_e.paddingTop,10),W=parseInt(_e.paddingBottom,10),Y=T.top+T.height/2-Cs,ie=E-Y,ue=b.offsetHeight/2,ae=b.offsetTop+ue,xe=te+re+ae,ve=ne-xe;if(xe<=Y){const je=j.length>0&&b===j[j.length-1].ref.current;o.style.bottom="0px";const Le=u.clientHeight-v.offsetTop-v.offsetHeight,Ee=Math.max(ie,ue+(je?W:0)+Le+se),me=xe+Ee;o.style.height=me+"px"}else{const je=j.length>0&&b===j[0].ref.current;o.style.top="0px";const Ee=Math.max(Y,te+v.offsetTop+(je?U:0)+ue)+ve;o.style.height=Ee+"px",v.scrollTop=xe-Y+v.offsetTop}o.style.margin=`${Cs}px 0`,o.style.minHeight=ge+"px",o.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,o,u,v,b,x,a.dir,n]);Ni(()=>_(),[_]);const[N,k]=C.useState();Ni(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const D=C.useCallback(T=>{T&&g.current===!0&&(_(),w==null||w(),g.current=!1)},[_,w]);return c.jsx(qU,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:D,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:c.jsx(Ot.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$7.displayName=zU;var VU="SelectPopperPosition",Jw=C.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Cs,...a}=t,s=o2(r);return c.jsx(Bj,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jw.displayName=VU;var[qU,_3]=yh(td,{}),e5="SelectViewport",H7=C.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Zc(e5,r),s=_3(e5,r),o=ar(e,a.onViewportChange),l=C.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(a2.Slot,{scope:r,children:c.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:vt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const g=window.innerHeight-Cs*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(v,b);if(x<g){const w=x+h,_=Math.min(g,w),N=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});H7.displayName=e5;var W7="SelectGroup",[$U,HU]=yh(W7),WU=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=_c();return c.jsx($U,{scope:r,id:i,children:c.jsx(Ot.div,{role:"group","aria-labelledby":i,...n,ref:e})})});WU.displayName=W7;var G7="SelectLabel",X7=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=HU(G7,r);return c.jsx(Ot.div,{id:i.id,...n,ref:e})});X7.displayName=G7;var Kv="SelectItem",[GU,Y7]=yh(Kv),Z7=C.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=Yc(Kv,r),l=Zc(Kv,r),u=o.value===n,[d,f]=C.useState(a??""),[p,h]=C.useState(!1),g=ar(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,n,i)}),v=_c(),b=C.useRef("touch"),x=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(GU,{scope:r,value:n,disabled:i,textId:v,isSelected:u,onItemTextChange:C.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(a2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Ot.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:g,onFocus:vt(s.onFocus,()=>h(!0)),onBlur:vt(s.onBlur,()=>h(!1)),onClick:vt(s.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:vt(s.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:vt(s.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:vt(s.onPointerMove,w=>{var _;b.current=w.pointerType,i?(_=l.onItemLeave)==null||_.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(s.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:vt(s.onKeyDown,w=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(PU.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Z7.displayName=Kv;var S1="SelectItemText",K7=C.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=Yc(S1,r),o=Zc(S1,r),l=Y7(S1,r),u=LU(S1,r),[d,f]=C.useState(null),p=ar(e,x=>f(x),l.onItemTextChange,x=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,x,l.value,l.disabled)}),h=d==null?void 0:d.textContent,g=C.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Ni(()=>(v(g),()=>b(g)),[v,b,g]),c.jsxs(c.Fragment,{children:[c.jsx(Ot.span,{id:l.textId,...a,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ud.createPortal(a.children,s.valueNode):null]})});K7.displayName=S1;var Q7="SelectItemIndicator",J7=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Y7(Q7,r).isSelected?c.jsx(Ot.span,{"aria-hidden":!0,...n,ref:e}):null});J7.displayName=Q7;var t5="SelectScrollUpButton",ek=C.forwardRef((t,e)=>{const r=Zc(t5,t.__scopeSelect),n=_3(t5,t.__scopeSelect),[i,a]=C.useState(!1),s=ar(e,n.onScrollButtonChange);return Ni(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(rk,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});ek.displayName=t5;var r5="SelectScrollDownButton",tk=C.forwardRef((t,e)=>{const r=Zc(r5,t.__scopeSelect),n=_3(r5,t.__scopeSelect),[i,a]=C.useState(!1),s=ar(e,n.onScrollButtonChange);return Ni(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(rk,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});tk.displayName=r5;var rk=C.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Zc("SelectScrollButton",r),s=C.useRef(null),o=s2(r),l=C.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Ni(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Ot.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:vt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:vt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:vt(i.onPointerLeave,()=>{l()})})}),XU="SelectSeparator",nk=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Ot.div,{"aria-hidden":!0,...n,ref:e})});nk.displayName=XU;var n5="SelectArrow",YU=C.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=o2(r),a=Yc(n5,r),s=Zc(n5,r);return a.open&&s.position==="popper"?c.jsx(Uj,{...i,...n,ref:e}):null});YU.displayName=n5;function ik(t){return t===""||t===void 0}var ak=C.forwardRef((t,e)=>{const{value:r,...n}=t,i=C.useRef(null),a=ar(e,i),s=O7(r);return C.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==r&&d){const f=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(f)}},[s,r]),c.jsx(ip,{asChild:!0,children:c.jsx("select",{...n,ref:a,defaultValue:r})})});ak.displayName="BubbleSelect";function sk(t){const e=jn(t),r=C.useRef(""),n=C.useRef(0),i=C.useCallback(s=>{const o=r.current+s;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function ok(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=ZU(t,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function ZU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var KU=R7,lk=L7,QU=F7,JU=B7,ez=U7,ck=z7,tz=H7,uk=X7,dk=Z7,rz=K7,nz=J7,fk=ek,hk=tk,pk=nk;const x0=KU,y0=QU,eh=C.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(lk,{ref:n,className:bt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(JU,{asChild:!0,children:c.jsx(QE,{className:"h-4 w-4 opacity-50"})})]}));eh.displayName=lk.displayName;const mk=C.forwardRef(({className:t,...e},r)=>c.jsx(fk,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(YL,{className:"h-4 w-4"})}));mk.displayName=fk.displayName;const vk=C.forwardRef(({className:t,...e},r)=>c.jsx(hk,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(QE,{className:"h-4 w-4"})}));vk.displayName=hk.displayName;const th=C.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(ez,{children:c.jsxs(ck,{ref:i,className:bt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(mk,{}),c.jsx(tz,{className:bt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(vk,{})]})}));th.displayName=ck.displayName;const iz=C.forwardRef(({className:t,...e},r)=>c.jsx(uk,{ref:r,className:bt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iz.displayName=uk.displayName;const es=C.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(dk,{ref:n,className:bt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(nz,{children:c.jsx(XL,{className:"h-4 w-4"})})}),c.jsx(rz,{children:e})]}));es.displayName=dk.displayName;const az=C.forwardRef(({className:t,...e},r)=>c.jsx(pk,{ref:r,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));az.displayName=pk.displayName;const Fc=C.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:bt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Fc.displayName="Textarea";const He=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));He.displayName="Card";const Qt=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("flex flex-col space-y-1.5 p-6",t),...e}));Qt.displayName="CardHeader";const Jt=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Jt.displayName="CardTitle";const Nc=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("text-sm text-muted-foreground",t),...e}));Nc.displayName="CardDescription";const We=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("p-6 pt-0",t),...e}));We.displayName="CardContent";const sz=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("flex items-center p-6 pt-0",t),...e}));sz.displayName="CardFooter";function oz(){const[,t]=ln(),{theme:e,toggleTheme:r}=hd(),{toast:n}=ci(),[i,a]=C.useState(!1),[s,o]=C.useState({email:"",name:"",requestType:"staff",message:"",garageId:""}),[l,u]=C.useState([]),[d,f]=C.useState(!1);C.useEffect(()=>{const h=async()=>{try{const v=await(await Ke("GET","/api/garages?purpose=staff_access")).json();u(v)}catch(g){console.error("Failed to fetch garages:",g)}};s.requestType==="staff"&&h()},[s.requestType]);const p=async h=>{h.preventDefault(),a(!0);try{const g=await Ke("POST","/api/auth/request-access",s),v=await g.json();g.ok?(f(!0),n({title:"Request Sent Successfully",description:"Your access request has been sent to the super admin. You'll receive an email notification once your request is reviewed."}),o({email:"",name:"",requestType:"staff",message:"",garageId:""})):v.message&&v.message.includes("Garage selection is required")?n({title:"Garage Selection Required",description:"Please select a garage from the dropdown above to continue with your access request.",variant:"destructive"}):n({title:"Request Failed",description:v.message||"Failed to send access request. Please try again.",variant:"destructive"})}catch{n({title:"Request Failed",description:"Failed to send access request. Please try again.",variant:"destructive"})}finally{a(!1)}};return d?c.jsx("div",{className:"gradient-header text-primary-foreground min-h-screen",children:c.jsxs("div",{className:"flex flex-col h-full justify-center px-6",children:[c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>{f(!1),t("/login")},className:"text-primary-foreground hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})})}),c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(Ne,{variant:"ghost",size:"icon",onClick:r,className:"text-primary-foreground hover:bg-white/10",children:e==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-green-500 rounded-full flex items-center justify-center",children:c.jsx(as,{className:"text-white text-3xl w-12 h-12"})}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Request Sent!"}),c.jsx("p",{className:"text-blue-100 mb-4",children:"Your access request has been submitted successfully."}),c.jsx(He,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:c.jsx(We,{className:"p-6",children:c.jsxs("div",{className:"space-y-4 text-left",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Gb,{className:"w-5 h-5 text-yellow-300"}),c.jsx("span",{children:"You'll receive an email notification once reviewed"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Tc,{className:"w-5 h-5 text-yellow-300"}),c.jsx("span",{children:"Processing typically takes 24-48 hours"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(as,{className:"w-5 h-5 text-green-300"}),c.jsx("span",{children:"You'll get login credentials if approved"})]})]})})}),c.jsx("div",{className:"mt-6",children:c.jsx(Ne,{onClick:()=>t("/login"),className:"bg-white text-primary hover:bg-white/90","data-testid":"button-back-to-login",children:"Back to Login"})})]})]})}):c.jsx("div",{className:"gradient-header text-primary-foreground min-h-screen",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/login"),className:"text-primary-foreground hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:r,className:"text-primary-foreground hover:bg-white/10",children:e==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-white rounded-full flex items-center justify-center",children:c.jsx(Xc,{className:"text-primary text-3xl w-12 h-12"})}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Request Access"}),c.jsx("p",{className:"text-blue-100",children:"Get started with GarageGuru"})]}),c.jsxs(He,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:[c.jsxs(Qt,{children:[c.jsxs(Jt,{className:"text-white flex items-center gap-2",children:[c.jsx($v,{className:"w-5 h-5"}),"Request Access to GarageGuru"]}),c.jsx(Nc,{className:"text-blue-100",children:"Submit your request to get access to the garage management system. A super admin will review and approve your request."})]}),c.jsx(We,{children:c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"requestEmail",className:"block text-sm font-medium mb-2",children:"Email Address"}),c.jsx(ft,{id:"requestEmail",type:"email",placeholder:"Enter your email",value:s.email,onChange:h=>o(g=>({...g,email:h.target.value})),className:"bg-white/10 border-white/20 placeholder-white/70 text-white focus:border-white/50",required:!0,"data-testid":"input-email"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"requestName",className:"block text-sm font-medium mb-2",children:"Your Name"}),c.jsx(ft,{id:"requestName",type:"text",placeholder:"Enter your full name",value:s.name,onChange:h=>o(g=>({...g,name:h.target.value})),className:"bg-white/10 border-white/20 placeholder-white/70 text-white focus:border-white/50",required:!0,"data-testid":"input-name"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"requestType",className:"block text-sm font-medium mb-2",children:"Access Type Requested"}),c.jsxs(x0,{value:s.requestType,onValueChange:h=>o(g=>({...g,requestType:h,garageId:""})),children:[c.jsx(eh,{className:"bg-white/10 border-white/20 text-white focus:border-white/50","data-testid":"select-access-type",children:c.jsx(y0,{placeholder:"Select access type"})}),c.jsxs(th,{children:[c.jsx(es,{value:"staff",children:"Staff Access"}),c.jsx(es,{value:"admin",children:"Admin Access"})]})]})]}),s.requestType==="staff"&&c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"garageSelection",className:"block text-sm font-medium mb-2",children:"Select Garage to Join"}),c.jsxs(x0,{value:s.garageId,onValueChange:h=>o(g=>({...g,garageId:h})),children:[c.jsx(eh,{className:"bg-white/10 border-white/20 text-white focus:border-white/50","data-testid":"select-garage",children:c.jsx(y0,{placeholder:"Choose garage to work with"})}),c.jsx(th,{children:l.map(h=>c.jsxs(es,{value:h.id,children:[h.name," - ",h.owner_name]},h.id))})]}),l.length===0&&c.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"No garages available. Contact admin to create a garage first."}),!s.garageId&&l.length>0&&c.jsx("p",{className:"text-yellow-200 text-xs mt-1",children:"Please select a garage to enable the submit button"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"requestMessage",className:"block text-sm font-medium mb-2",children:"Message (Optional)"}),c.jsx(Fc,{id:"requestMessage",placeholder:"Explain why you need access to the garage management system",value:s.message,onChange:h=>o(g=>({...g,message:h.target.value})),className:"bg-white/10 border-white/20 placeholder-white/70 text-white focus:border-white/50 resize-none",rows:3,"data-testid":"textarea-message"})]}),c.jsx(Ne,{type:"submit",className:"w-full bg-white text-primary hover:bg-white/90 font-medium",disabled:i||!s.email||!s.name||s.requestType==="staff"&&!s.garageId,"data-testid":"button-submit-request",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Sending Request..."]}):c.jsxs(c.Fragment,{children:[c.jsx($v,{className:"w-4 h-4 mr-2"}),"Send Access Request"]})})]})})]}),c.jsx(He,{className:"bg-white/5 border-white/10 backdrop-blur-sm mt-6",children:c.jsxs(We,{className:"p-4",children:[c.jsx("h3",{className:"text-white font-medium mb-2",children:"What happens next?"}),c.jsxs("div",{className:"space-y-2 text-sm text-blue-100",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full"}),c.jsx("span",{children:"Super admin receives email notification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full"}),c.jsx("span",{children:"Request reviewed within 24-48 hours"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full"}),c.jsx("span",{children:"You'll receive approval/denial email"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-300 rounded-full"}),c.jsx("span",{children:"If approved, you'll get login credentials"})]})]})]})})]})})}function lz(){const[,t]=ln(),{user:e,garage:r}=Mr(),{toast:n}=ci();if(ra(),C.useEffect(()=>{if(r){t("/admin-dashboard");return}if(e&&e.role!=="garage_admin"){t("/admin-dashboard");return}},[r,e==null?void 0:e.role]),r||(e==null?void 0:e.role)!=="garage_admin")return null;const[i,a]=C.useState({name:"",ownerName:(e==null?void 0:e.name)||"",phone:"",email:(e==null?void 0:e.email)||""}),s=Dn({mutationFn:async u=>(await Ke("POST","/api/garages",u)).json(),onSuccess:async u=>{n({title:"Success",description:"Garage created successfully! Welcome to GarageGuru.",variant:"default"});try{const d=localStorage.getItem("auth-token");(await(await Ke("GET","/api/user/profile")).json()).garage&&(window.location.href="/dashboard")}catch(d){console.error("Profile refresh error:",d),setTimeout(()=>window.location.reload(),500)}},onError:u=>{n({title:"Error",description:u.message||"Failed to create garage",variant:"destructive"})}}),o=u=>{if(u.preventDefault(),!i.name||!i.ownerName||!i.phone){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}s.mutate(i)},l=(u,d)=>{a(f=>({...f,[u]:d}))};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-600 to-blue-800 flex items-center justify-center p-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(He,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",children:[c.jsxs(Qt,{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(KE,{className:"w-8 h-8 text-blue-600"})}),c.jsxs("div",{children:[c.jsx(Jt,{className:"text-2xl font-bold text-gray-900",children:"Setup Your Garage"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome! Let's set up your garage details to get started."})]})]}),c.jsxs(We,{children:[c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Garage Name *"}),c.jsx(ft,{id:"name",type:"text",placeholder:"Enter your garage name",value:i.name,onChange:u=>l("name",u.target.value),className:"w-full",required:!0,"data-testid":"input-garage-name"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"ownerName",className:"block text-sm font-medium mb-2",children:"Owner Name *"}),c.jsx(ft,{id:"ownerName",type:"text",placeholder:"Enter owner's full name",value:i.ownerName,onChange:u=>l("ownerName",u.target.value),className:"w-full",required:!0,"data-testid":"input-owner-name"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"phone",className:"block text-sm font-medium mb-2",children:"Phone Number *"}),c.jsx(ft,{id:"phone",type:"tel",placeholder:"Enter phone number",value:i.phone,onChange:u=>l("phone",u.target.value),className:"w-full",required:!0,"data-testid":"input-phone"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address"}),c.jsx(ft,{id:"email",type:"email",placeholder:"Enter email address",value:i.email,onChange:u=>l("email",u.target.value),className:"w-full","data-testid":"input-email"})]}),c.jsx("div",{className:"pt-4",children:c.jsx(Ne,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:s.isPending,"data-testid":"button-create-garage",children:s.isPending?"Creating Garage...":c.jsxs(c.Fragment,{children:["Create Garage & Continue",c.jsx(qL,{className:"w-4 h-4 ml-2"})]})})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"* Required fields. This information will be used for your garage profile."})})]})]})})})}function cz(t,e){return C.useReducer((r,n)=>e[r][n]??r,t)}var N3="ScrollArea",[gk,MJ]=Gs(N3),[uz,ps]=gk(N3),xk=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...s}=t,[o,l]=C.useState(null),[u,d]=C.useState(null),[f,p]=C.useState(null),[h,g]=C.useState(null),[v,b]=C.useState(null),[x,w]=C.useState(0),[_,N]=C.useState(0),[k,D]=C.useState(!1),[T,R]=C.useState(!1),P=ar(e,j=>l(j)),O=i2(i);return c.jsx(uz,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:k,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:N,children:c.jsx(Ot.div,{dir:O,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});xk.displayName=N3;var yk="ScrollAreaViewport",wk=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,s=ps(yk,r),o=C.useRef(null),l=ar(e,o,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Ot.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wk.displayName=yk;var Ro="ScrollAreaScrollbar",S3=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ps(Ro,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=t.orientation==="horizontal";return C.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?c.jsx(dz,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(fz,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(bk,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(A3,{...n,ref:e}):null});S3.displayName=Ro;var dz=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ps(Ro,t.__scopeScrollArea),[a,s]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),s(!0)},d=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Xs,{present:r||a,children:c.jsx(bk,{"data-state":a?"visible":"hidden",...n,ref:e})})}),fz=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=ps(Ro,t.__scopeScrollArea),a=t.orientation==="horizontal",s=c2(()=>l("SCROLL_END"),100),[o,l]=cz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),C.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(l("SCROLL"),s()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,a,l,s]),c.jsx(Xs,{present:r||o!=="hidden",children:c.jsx(A3,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:vt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:vt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),bk=C.forwardRef((t,e)=>{const r=ps(Ro,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,s]=C.useState(!1),o=t.orientation==="horizontal",l=c2(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?u:d)}},10);return rh(r.viewport,l),rh(r.content,l),c.jsx(Xs,{present:n||a,children:c.jsx(A3,{"data-state":a?"visible":"hidden",...i,ref:e})})}),A3=C.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=ps(Ro,t.__scopeScrollArea),a=C.useRef(null),s=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Ck(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function f(p,h){return xz(p,s.current,o,h)}return r==="horizontal"?c.jsx(hz,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,h=YN(p,o,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):r==="vertical"?c.jsx(pz,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,h=YN(p,o);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),hz=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ps(Ro,t.__scopeScrollArea),[s,o]=C.useState(),l=C.useRef(null),u=ar(e,l,a.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(Nk,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":l2(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),jk(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jv(s.paddingLeft),paddingEnd:Jv(s.paddingRight)}})}})}),pz=C.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=ps(Ro,t.__scopeScrollArea),[s,o]=C.useState(),l=C.useRef(null),u=ar(e,l,a.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(Nk,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":l2(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),jk(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&s&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jv(s.paddingTop),paddingEnd:Jv(s.paddingBottom)}})}})}),[mz,_k]=gk(Ro),Nk=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=t,h=ps(Ro,r),[g,v]=C.useState(null),b=ar(e,P=>v(P)),x=C.useRef(null),w=C.useRef(""),_=h.viewport,N=n.content-n.viewport,k=jn(d),D=jn(l),T=c2(f,10);function R(P){if(x.current){const O=P.clientX-x.current.left,j=P.clientY-x.current.top;u({x:O,y:j})}}return C.useEffect(()=>{const P=O=>{const j=O.target;(g==null?void 0:g.contains(j))&&k(O,N)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,g,N,k]),C.useEffect(D,[n,D]),rh(g,T),rh(h.content,T),c.jsx(mz,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:jn(a),onThumbPointerUp:jn(s),onThumbPositionChange:D,onThumbPointerDown:jn(o),children:c.jsx(Ot.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:vt(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(P))}),onPointerMove:vt(t.onPointerMove,R),onPointerUp:vt(t.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),Qv="ScrollAreaThumb",Sk=C.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=_k(Qv,t.__scopeScrollArea);return c.jsx(Xs,{present:r||i.hasThumb,children:c.jsx(vz,{ref:e,...n})})}),vz=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=ps(Qv,r),s=_k(Qv,r),{onThumbPositionChange:o}=s,l=ar(e,f=>s.onThumbChange(f)),u=C.useRef(void 0),d=c2(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(d(),!u.current){const h=yz(f,o);u.current=h,o()}};return o(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,d,o]),c.jsx(Ot.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:vt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,v=f.clientY-h.top;s.onThumbPointerDown({x:g,y:v})}),onPointerUp:vt(t.onPointerUp,s.onThumbPointerUp)})});Sk.displayName=Qv;var C3="ScrollAreaCorner",Ak=C.forwardRef((t,e)=>{const r=ps(C3,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(gz,{...t,ref:e}):null});Ak.displayName=C3;var gz=C.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=ps(C3,r),[a,s]=C.useState(0),[o,l]=C.useState(0),u=!!(a&&o);return rh(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),rh(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?c.jsx(Ot.div,{...n,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Jv(t){return t?parseInt(t,10):0}function Ck(t,e){const r=t/e;return isNaN(r)?0:r}function l2(t){const e=Ck(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function xz(t,e,r,n="ltr"){const i=l2(r),a=i/2,s=e||a,o=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Ek([l,u],f)(t)}function YN(t,e,r="ltr"){const n=l2(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,s=e.content-e.viewport,o=a-n,l=r==="ltr"?[0,s]:[s*-1,0],u=Qw(t,l);return Ek([0,s],[0,o])(u)}function Ek(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function jk(t,e){return t>0&&t<e}var yz=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},s=r.left!==a.left,o=r.top!==a.top;(s||o)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function c2(t,e){const r=jn(t),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function rh(t,e){const r=jn(e);Ni(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var kk=xk,wz=wk,bz=Ak;const Ik=C.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(kk,{ref:n,className:bt("relative overflow-hidden",t),...r,children:[c.jsx(wz,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(Tk,{}),c.jsx(bz,{})]}));Ik.displayName=kk.displayName;const Tk=C.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(S3,{ref:n,orientation:e,className:bt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(Sk,{className:"relative flex-1 rounded-full bg-border"})}));Tk.displayName=S3.displayName;const _z=ap("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function si({className:t,variant:e,...r}){return c.jsx("div",{className:bt(_z({variant:e}),t),...r})}function Lr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bc(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Pk=6048e5,Nz=864e5,xm=43200,ZN=1440;let Sz={};function lp(){return Sz}function w0(t,e){var o,l,u,d;const r=lp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Lr(t),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function eg(t){return w0(t,{weekStartsOn:1})}function Ok(t){const e=Lr(t),r=e.getFullYear(),n=Bc(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=eg(n),a=Bc(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=eg(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function KN(t){const e=Lr(t);return e.setHours(0,0,0,0),e}function tg(t){const e=Lr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Az(t,e){const r=KN(t),n=KN(e),i=+r-tg(r),a=+n-tg(n);return Math.round((i-a)/Nz)}function Cz(t){const e=Ok(t),r=Bc(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),eg(r)}function Jm(t,e){const r=Lr(t),n=Lr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Ez(t){return Bc(t,Date.now())}function jz(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kz(t){if(!jz(t)&&typeof t!="number")return!1;const e=Lr(t);return!isNaN(Number(e))}function Iz(t,e){const r=Lr(t),n=Lr(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Tz(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Pz(t,e){return+Lr(t)-+Lr(e)}function Oz(t){const e=Lr(t);return e.setHours(23,59,59,999),e}function Rz(t){const e=Lr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Dz(t){const e=Lr(t);return+Oz(e)==+Rz(e)}function Lz(t,e){const r=Lr(t),n=Lr(e),i=Jm(r,n),a=Math.abs(Iz(r,n));let s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let o=Jm(r,n)===-i;Dz(Lr(t))&&a===1&&Jm(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function Mz(t,e,r){const n=Pz(t,e)/1e3;return Tz(r==null?void 0:r.roundingMethod)(n)}function Fz(t){const e=Lr(t),r=Bc(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Bz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Uz=(t,e,r)=>{let n;const i=Bz[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wx(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$z={date:Wx({formats:zz,defaultWidth:"full"}),time:Wx({formats:Vz,defaultWidth:"full"}),dateTime:Wx({formats:qz,defaultWidth:"full"})},Hz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wz=(t,e,r,n)=>Hz[t];function c1(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Gz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jz=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eV={ordinalNumber:Jz,era:c1({values:Gz,defaultWidth:"wide"}),quarter:c1({values:Xz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:c1({values:Yz,defaultWidth:"wide"}),day:c1({values:Zz,defaultWidth:"wide"}),dayPeriod:c1({values:Kz,defaultWidth:"wide",formattingValues:Qz,defaultFormattingWidth:"wide"})};function u1(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?rV(o,f=>f.test(s)):tV(o,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function tV(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function rV(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function nV(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const iV=/^(\d+)(th|st|nd|rd)?/i,aV=/\d+/i,sV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oV={any:[/^b/i,/^(a|c)/i]},lV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cV={any:[/1/i,/2/i,/3/i,/4/i]},uV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vV={ordinalNumber:nV({matchPattern:iV,parsePattern:aV,valueCallback:t=>parseInt(t,10)}),era:u1({matchPatterns:sV,defaultMatchWidth:"wide",parsePatterns:oV,defaultParseWidth:"any"}),quarter:u1({matchPatterns:lV,defaultMatchWidth:"wide",parsePatterns:cV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:u1({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:dV,defaultParseWidth:"any"}),day:u1({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),dayPeriod:u1({matchPatterns:pV,defaultMatchWidth:"any",parsePatterns:mV,defaultParseWidth:"any"})},Rk={code:"en-US",formatDistance:Uz,formatLong:$z,formatRelative:Wz,localize:eV,match:vV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gV(t){const e=Lr(t);return Az(e,Fz(e))+1}function xV(t){const e=Lr(t),r=+eg(e)-+Cz(e);return Math.round(r/Pk)+1}function Dk(t,e){var d,f,p,h;const r=Lr(t),n=r.getFullYear(),i=lp(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,s=Bc(t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=w0(s,e),l=Bc(t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const u=w0(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function yV(t,e){var o,l,u,d;const r=lp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Dk(t,e),a=Bc(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),w0(a,e)}function wV(t,e){const r=Lr(t),n=+w0(r,e)-+yV(r,e);return Math.round(n/Pk)+1}function Er(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const zl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Er(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Er(r+1,2)},d(t,e){return Er(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Er(t.getHours()%12||12,e.length)},H(t,e){return Er(t.getHours(),e.length)},m(t,e){return Er(t.getMinutes(),e.length)},s(t,e){return Er(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Er(i,e.length)}},Md={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QN={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return zl.y(t,e)},Y:function(t,e,r,n){const i=Dk(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Er(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Er(a,e.length)},R:function(t,e){const r=Ok(t);return Er(r,e.length)},u:function(t,e){const r=t.getFullYear();return Er(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Er(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Er(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return zl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Er(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=wV(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Er(i,e.length)},I:function(t,e,r){const n=xV(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Er(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):zl.d(t,e)},D:function(t,e,r){const n=gV(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Er(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Er(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Er(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Er(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Md.noon:n===0?i=Md.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Md.evening:n>=12?i=Md.afternoon:n>=4?i=Md.morning:i=Md.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):zl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Er(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Er(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):zl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):zl.s(t,e)},S:function(t,e){return zl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return eS(n);case"XXXX":case"XX":return xu(n);case"XXXXX":case"XXX":default:return xu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return eS(n);case"xxxx":case"xx":return xu(n);case"xxxxx":case"xxx":default:return xu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JN(n,":");case"OOOO":default:return"GMT"+xu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JN(n,":");case"zzzz":default:return"GMT"+xu(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Er(n,e.length)},T:function(t,e,r){const n=t.getTime();return Er(n,e.length)}};function JN(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Er(a,2)}function eS(t,e){return t%60===0?(t>0?"-":"+")+Er(Math.abs(t)/60,2):xu(t,e)}function xu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Er(Math.trunc(n/60),2),a=Er(n%60,2);return r+i+e+a}const tS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Lk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bV=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return tS(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",tS(n,e)).replace("{{time}}",Lk(i,e))},_V={p:Lk,P:bV},NV=/^D+$/,SV=/^Y+$/,AV=["D","DD","YY","YYYY"];function CV(t){return NV.test(t)}function EV(t){return SV.test(t)}function jV(t,e,r){const n=kV(t,e,r);if(console.warn(n),AV.includes(t))throw new RangeError(n)}function kV(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PV=/^'([^]*?)'?$/,OV=/''/g,RV=/[a-zA-Z]/;function Mk(t,e,r){var d,f,p,h;const n=lp(),i=n.locale??Rk,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??0,o=Lr(t);if(!kz(o))throw new RangeError("Invalid time value");let l=e.match(TV).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=_V[v];return b(g,i.formatLong)}return g}).join("").match(IV).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:DV(g)};if(QN[v])return{isToken:!0,value:g};if(v.match(RV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const v=g.value;(EV(v)||CV(v))&&jV(v,e,String(t));const b=QN[v[0]];return b(o,v,i.localize,u)}).join("")}function DV(t){const e=t.match(PV);return e?e[1].replace(OV,"'"):t}function LV(t,e,r){const n=lp(),i=(r==null?void 0:r.locale)??n.locale??Rk,a=2520,s=Jm(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let l,u;s>0?(l=Lr(e),u=Lr(t)):(l=Lr(t),u=Lr(e));const d=Mz(u,l),f=(tg(u)-tg(l))/1e3,p=Math.round((d-f)/60);let h;if(p<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):p===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",p,o);if(p<45)return i.formatDistance("xMinutes",p,o);if(p<90)return i.formatDistance("aboutXHours",1,o);if(p<ZN){const g=Math.round(p/60);return i.formatDistance("aboutXHours",g,o)}else{if(p<a)return i.formatDistance("xDays",1,o);if(p<xm){const g=Math.round(p/ZN);return i.formatDistance("xDays",g,o)}else if(p<xm*2)return h=Math.round(p/xm),i.formatDistance("aboutXMonths",h,o)}if(h=Lz(u,l),h<12){const g=Math.round(p/xm);return i.formatDistance("xMonths",g,o)}else{const g=h%12,v=Math.trunc(h/12);return g<3?i.formatDistance("aboutXYears",v,o):g<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function MV(t,e){return LV(t,Ez(t),e)}function E3({isOpen:t,onClose:e}){const{garage:r}=Mr(),n=ra(),{data:i=[],isLoading:a}=Wt({queryKey:["/api/garages",r==null?void 0:r.id,"notifications"],queryFn:async()=>r!=null&&r.id?(await Ke("GET",`/api/garages/${r.id}/notifications`)).json():[],enabled:!!(r!=null&&r.id)&&t}),s=Dn({mutationFn:async d=>(await Ke("PUT",`/api/garages/${r==null?void 0:r.id}/notifications/${d}/read`)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"notifications"]}),n.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"notifications","unread-count"]})}}),o=Dn({mutationFn:async()=>(await Ke("PUT",`/api/garages/${r==null?void 0:r.id}/notifications/mark-all-read`)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"notifications"]}),n.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"notifications","unread-count"]})}}),l=d=>{switch(d){case"milestone":return c.jsx(as,{className:"w-4 h-4 text-green-500"});case"alert":return c.jsx(xl,{className:"w-4 h-4 text-red-500"});case"low_stock":return c.jsx(xl,{className:"w-4 h-4 text-orange-500"});case"reminder":return c.jsx(Tc,{className:"w-4 h-4 text-blue-500"});default:return c.jsx(f0,{className:"w-4 h-4 text-gray-500"})}},u=d=>{switch(d){case"milestone":return"default";case"alert":return"destructive";case"low_stock":return"destructive";case"reminder":return"secondary";default:return"outline"}};return t?c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-start justify-center z-50 p-4 pt-20",children:c.jsxs(He,{className:"w-full max-w-md max-h-[70vh] overflow-hidden",children:[c.jsxs(Qt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[c.jsx(Jt,{className:"text-lg font-semibold",children:"Notifications"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[i.some(d=>!d.is_read)&&c.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>o.mutate(),disabled:o.isPending,className:"text-xs",children:"Mark all read"}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:e,children:c.jsx(mh,{className:"w-4 h-4"})})]})]}),c.jsx(We,{className:"p-0",children:c.jsx(Ik,{className:"h-[400px]",children:a?c.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading notifications..."}):i.length===0?c.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[c.jsx(f0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No notifications yet"})]}):c.jsx("div",{className:"divide-y",children:i.map(d=>c.jsx("div",{className:`p-4 hover:bg-muted/50 transition-colors cursor-pointer ${d.is_read?"":"bg-blue-50 dark:bg-blue-950/20"}`,onClick:()=>{d.is_read||s.mutate(d.id)},children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:l(d.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("h4",{className:"text-sm font-medium truncate",children:d.title}),c.jsx(si,{variant:u(d.type),className:"text-xs ml-2",children:d.type})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:d.message}),d.customer&&c.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:[c.jsx("span",{className:"font-medium",children:d.customer.name}),"  ",c.jsx("span",{children:d.customer.bikeNumber})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:MV(new Date(d.created_at),{addSuffix:!0})}),!d.is_read&&c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})},d.id))})})})]})}):null}var Fk="AlertDialog",[FV,FJ]=Gs(Fk,[d7]),Nl=d7(),Bk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Nl(e);return c.jsx(E7,{...n,...r,modal:!0})};Bk.displayName=Fk;var BV="AlertDialogTrigger",UV=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Nl(r);return c.jsx(j7,{...i,...n,ref:e})});UV.displayName=BV;var zV="AlertDialogPortal",Uk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Nl(e);return c.jsx(k7,{...n,...r})};Uk.displayName=zV;var VV="AlertDialogOverlay",zk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Nl(r);return c.jsx(v3,{...i,...n,ref:e})});zk.displayName=VV;var _f="AlertDialogContent",[qV,$V]=FV(_f),HV=SE("AlertDialogContent"),Vk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Nl(r),s=C.useRef(null),o=ar(e,s),l=C.useRef(null);return c.jsx(bU,{contentName:_f,titleName:qk,docsSlug:"alert-dialog",children:c.jsx(qV,{scope:r,cancelRef:l,children:c.jsxs(g3,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:vt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(HV,{children:n}),c.jsx(GV,{contentRef:s})]})})})});Vk.displayName=_f;var qk="AlertDialogTitle",$k=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Nl(r);return c.jsx(x3,{...i,...n,ref:e})});$k.displayName=qk;var Hk="AlertDialogDescription",Wk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Nl(r);return c.jsx(y3,{...i,...n,ref:e})});Wk.displayName=Hk;var WV="AlertDialogAction",Gk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Nl(r);return c.jsx(w3,{...i,...n,ref:e})});Gk.displayName=WV;var Xk="AlertDialogCancel",Yk=C.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=$V(Xk,r),a=Nl(r),s=ar(e,i);return c.jsx(w3,{...a,...n,ref:s})});Yk.displayName=Xk;var GV=({contentRef:t})=>{const e=`\`${_f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_f}\` by passing a \`${Hk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},XV=Bk,YV=Uk,Zk=zk,Kk=Vk,Qk=Gk,Jk=Yk,eI=$k,tI=Wk;const rg=XV,ZV=YV,rI=C.forwardRef(({className:t,...e},r)=>c.jsx(Zk,{className:bt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));rI.displayName=Zk.displayName;const b0=C.forwardRef(({className:t,...e},r)=>c.jsxs(ZV,{children:[c.jsx(rI,{}),c.jsx(Kk,{ref:r,className:bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));b0.displayName=Kk.displayName;const _0=({className:t,...e})=>c.jsx("div",{className:bt("flex flex-col space-y-2 text-center sm:text-left",t),...e});_0.displayName="AlertDialogHeader";const N0=({className:t,...e})=>c.jsx("div",{className:bt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});N0.displayName="AlertDialogFooter";const S0=C.forwardRef(({className:t,...e},r)=>c.jsx(eI,{ref:r,className:bt("text-lg font-semibold",t),...e}));S0.displayName=eI.displayName;const A0=C.forwardRef(({className:t,...e},r)=>c.jsx(tI,{ref:r,className:bt("text-sm text-muted-foreground",t),...e}));A0.displayName=tI.displayName;const nh=C.forwardRef(({className:t,...e},r)=>c.jsx(Qk,{ref:r,className:bt(c3(),t),...e}));nh.displayName=Qk.displayName;const ng=C.forwardRef(({className:t,...e},r)=>c.jsx(Jk,{ref:r,className:bt(c3({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ng.displayName=Jk.displayName;function rS(){var x;const{user:t,garage:e}=Mr(),{theme:r,toggleTheme:n}=hd(),[,i]=ln(),[a,s]=C.useState(!1),[o,l]=C.useState(!1),{data:u}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/job-cards?status=pending`)).json():[],enabled:!!(e!=null&&e.id)}),{data:d}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","stats"],queryFn:async()=>!(e!=null&&e.id)||(t==null?void 0:t.role)!=="garage_admin"?null:(await Ke("GET",`/api/garages/${e.id}/sales/stats`)).json(),enabled:!!(e!=null&&e.id)&&(t==null?void 0:t.role)==="garage_admin"}),{data:f}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","today"],queryFn:async()=>!(e!=null&&e.id)||(t==null?void 0:t.role)!=="garage_admin"?null:(await Ke("GET",`/api/garages/${e.id}/sales/today`)).json(),enabled:!!(e!=null&&e.id)&&(t==null?void 0:t.role)==="garage_admin"}),{data:p}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts","low-stock"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts/low-stock`)).json():[],enabled:!!(e!=null&&e.id)}),{data:h=0}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"notifications","unread-count"],queryFn:async()=>e!=null&&e.id?(await(await Ke("GET",`/api/garages/${e.id}/notifications/unread-count`)).json()).count:0,enabled:!!(e!=null&&e.id),refetchInterval:3e4}),g=(u==null?void 0:u.length)||0,v=(p==null?void 0:p.length)||0;f!=null&&f.todayProfit,C.useEffect(()=>{if(v>0&&(e!=null&&e.id)){const w=`lowStockAlert_${e.id}_${new Date().toDateString()}`;localStorage.getItem(w)||(l(!0),localStorage.setItem(w,"true"))}},[v,e==null?void 0:e.id]);const b=[{title:"New Job Card",icon:Yg,path:"/job-card",bgColor:"bg-primary/10",iconColor:"text-primary"},{title:"Pending Services",icon:Tc,path:"/pending-services",bgColor:"warning-bg",iconColor:"warning-text"},{title:"Invoices",icon:Vs,path:"/invoices",bgColor:"success-bg",iconColor:"success-text"},{title:"Customers",icon:ul,path:"/customers",bgColor:"bg-orange-100 dark:bg-orange-900/20",iconColor:"text-orange-600"},{title:"Spare Parts",icon:JE,path:"/spare-parts",bgColor:"bg-purple-100 dark:bg-purple-900/20",iconColor:"text-purple-600"}];return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.logo?c.jsx("img",{src:e.logo,alt:"Garage Logo",className:"w-full h-full object-cover"}):c.jsx(Xc,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-semibold",children:(e==null?void 0:e.name)||"GarageGuru"}),c.jsx("p",{className:"text-sm text-blue-100",children:(x=t==null?void 0:t.role)==null?void 0:x.replace("_"," ")})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Ne,{variant:"ghost",size:"icon",onClick:()=>s(!0),className:"text-white hover:bg-white/10 relative",children:[c.jsx(f0,{className:"w-5 h-5"}),h>0&&c.jsx("div",{className:"notification-badge",children:h})]}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/10",children:r==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"screen-content",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Pending Jobs"}),c.jsx("p",{className:"text-2xl font-bold",children:g})]}),c.jsx("div",{className:"icon-container warning-bg",children:c.jsx(Tc,{className:"warning-text text-xl w-6 h-6"})})]})})}),c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Today's Revenue"}),c.jsxs("p",{className:"text-2xl font-bold",children:["",Number((f==null?void 0:f.todayProfit)||0).toLocaleString()]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Current day only"})]}),c.jsx("div",{className:"icon-container success-bg",children:c.jsx(Wb,{className:"success-text text-xl w-6 h-6"})})]})})})]}),(t==null?void 0:t.role)==="garage_admin"&&c.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Revenue"}),c.jsxs("p",{className:"text-2xl font-bold",children:["",Number((d==null?void 0:d.totalProfit)||0).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["All time revenue from ",(d==null?void 0:d.totalInvoices)||0," invoices"]})]}),c.jsx("div",{className:"icon-container bg-blue-100 dark:bg-blue-900",children:c.jsx(Zg,{className:"text-blue-600 dark:text-blue-400 text-xl w-6 h-6"})})]})})})}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:b.map(w=>{const _=w.icon;return c.jsx(He,{className:"action-card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(w.path),children:c.jsxs(We,{className:"p-6 flex flex-col items-center space-y-3",children:[c.jsx("div",{className:`icon-container ${w.bgColor}`,children:c.jsx(_,{className:`${w.iconColor} text-2xl w-8 h-8`})}),c.jsx("span",{className:"font-semibold text-center",children:w.title})]})},w.title)})}),c.jsx(E3,{isOpen:a,onClose:()=>s(!1)}),c.jsx(rg,{open:o,onOpenChange:l,children:c.jsxs(b0,{children:[c.jsxs(_0,{children:[c.jsxs(S0,{className:"flex items-center space-x-2",children:[c.jsx(xl,{className:"w-5 h-5 text-destructive"}),c.jsx("span",{children:"Low Stock Alert"})]}),c.jsxs(A0,{children:["You have ",v," spare part",v!==1?"s":""," running low on stock. Please check your inventory and reorder as needed to avoid service disruptions."]})]}),c.jsxs(N0,{children:[c.jsx(nh,{onClick:()=>{l(!1),i("/spare-parts")},className:"bg-destructive hover:bg-destructive/90",children:"View Spare Parts"}),c.jsx(nh,{onClick:()=>l(!1),children:"Dismiss"})]})]})})]})]})}function KV(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function QV(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var JV=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eq=function(t){JV(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),KV(a,i.prototype),QV(a),a}return e}(Error),tq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ga=function(t){tq(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(eq),rq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_n=function(t){rq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(ga),nq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nt=function(t){nq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(ga),nI=function(){function t(e){if(this.binarizer=e,e===null)throw new Nt("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),iq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rn=function(t){iq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(ga),aq=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Vr=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),sq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j3=function(t){sq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(ga),oq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nS=function(t){oq(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(j3),lq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Nt("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new nS(r);if(n>e)throw new nS(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=lq(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=31*i+o}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Vr.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,o=n(r,e[s]);if(o>0)i=s+1;else if(o<0)a=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),Kt=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),oi=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Vr.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=n[i]}var o=i*32+Kt.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=~n[i]}var o=i*32+Kt.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Nt;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,s=n;s<=i;s++){var o=s>n?0:e&31,l=s<i?31:r&31,u=(2<<l)-(1<<o);a[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Nt;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),s=this.bits,o=i;o<=a;o++){var l=o>i?0:e&31,u=o<a?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Nt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Nt("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+a]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-a]=s}if(this.size!==n*32){for(var o=n*32-this.size,l=e[0]>>>o,a=1;a<n;a++){var u=e[a];l|=u<<32-o,e[a-1]=l,l=u>>>o}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Yn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Yn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),i5;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(i5||(i5={}));const qr=i5;var cq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xe=function(t){cq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(ga),uq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ar;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Ar||(Ar={}));var Xn=function(){function t(e,r,n){for(var i,a,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var p=uq(s),h=p.next();!h.done;h=p.next()){var g=h.value;t.NAME_TO_ECI.set(g,this)}}catch(v){i={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Xe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Xe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Xe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Ar.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Ar.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Ar.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Ar.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Ar.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Ar.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Ar.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Ar.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Ar.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Ar.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Ar.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Ar.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Ar.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Ar.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Ar.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Ar.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Ar.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Ar.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Ar.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Ar.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Ar.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Ar.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Ar.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Ar.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Ar.Big5,28,"Big5"),t.GB18030=new t(Ar.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Ar.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),dq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ev=function(t){dq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(ga),ss=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Xn?e:Xn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,s=e.length;a<s;a++){var o=e[a].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(n.equals(Xn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ev("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Xn.UTF8)||e.equals(Xn.ISO8859_1)||e.equals(Xn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),or=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ss.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(qr.CHARACTER_SET)!==void 0)return r.get(qr.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,s=!0,o=0,l=0,u=0,d=0,f=0,p=0,h=0,g=0,v=0,b=0,x=0,w=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<n&&(i||a||s);_++){var N=e[_]&255;s&&(o>0?N&128?o--:s=!1:N&128&&(N&64?(o++,N&32?(o++,N&16?(o++,N&8?s=!1:d++):u++):l++):s=!1)),i&&(N>127&&N<160?i=!1:N>159&&(N<192||N===215||N===247)&&x++),a&&(f>0?N<64||N===127||N>252?a=!1:f--:N===128||N===160||N>239?a=!1:N>160&&N<224?(p++,g=0,h++,h>v&&(v=h)):N>127?(f++,h=0,g++,g>b&&(b=g)):(h=0,g=0))}return s&&o>0&&(s=!1),a&&f>0&&(a=!1),s&&(w||l+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||v>=3||b>=3)?t.SHIFT_JIS:i&&a?v===2&&p===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(o,l,u,d,f,p){if(o==="%%")return"%";if(r[++i]!==void 0){o=d?parseInt(d.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,g;switch(p){case"s":g=r[i];break;case"c":g=r[i][0];break;case"f":g=parseFloat(r[i]).toFixed(o);break;case"p":g=parseFloat(r[i]).toPrecision(o);break;case"e":g=parseFloat(r[i]).toExponential(o);break;case"x":g=parseInt(r[i]).toString(h||16);break;case"d":g=parseFloat(parseInt(r[i],h||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(h);for(var v=parseInt(u),b=u&&u[0]+""=="0"?"0":" ";g.length<v;)g=l!==void 0?g+b:b+g;return g}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},t.getBytes=function(e,r){return ss.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Xn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Xn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Xn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Yt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=or.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Io=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Nt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var s=e[a],o=0;o<n;o++)s[o]&&i.set(o,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Nt("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,o=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new Nt("row lengths do not match");s=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new Nt("illegal character encountered: "+e.substring(u));if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new Nt("row lengths do not match");l++}for(var d=new t(o,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Nt("input matrix dimensions do not match");for(var r=new oi(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var o=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[o+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Nt("Left and top must be nonnegative");if(i<1||n<1)throw new Nt("Height and width must be at least 1");var a=e+n,s=r+i;if(s>this.height||a>this.width)throw new Nt("The region must fit inside the matrix");for(var o=this.rowSize,l=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new oi(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,s=0;s<n;s++)r.setBulk(s*32,i[a+s]);return r},t.prototype.setRow=function(e,r){Vr.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new oi(e),i=new oi(e),a=0,s=Math.floor((r+1)/2);a<s;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,s=r,o=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<s&&(s=u),u>l&&(l=u),d*32<a){for(var p=0;!(f<<31-p&4294967295);)p++;d*32+p<a&&(a=d*32+p)}if(d*32+31>o){for(var p=31;!(f>>>p);)p--;d*32+p>o&&(o=d*32+p)}}}return o<a||l<s?null:Int32Array.from([a,s,o-a+1,l-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return a+=o,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return a+=o,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Yn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Yn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Yt,a=0,s=this.height;a<s;a++){for(var o=0,l=this.width;o<l;o++)i.append(this.get(o,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),fq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(t){fq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(ga),hq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pq=function(t){hq(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new oi(a):n.clear(),this.initArrays(a);for(var s=i.getRow(r,this.luminances),o=this.buckets,l=0;l<a;l++)o[(s[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(a<3)for(var l=0;l<a;l++)(s[l]&255)<u&&n.set(l);else for(var d=s[0]&255,f=s[1]&255,l=1;l<a-1;l++){var p=s[l+1]&255;(f*4-d-p)/2<u&&n.set(l),d=f,f=p}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new Io(n,i);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var l=Math.floor(i*o/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var p=u[f]&255;s[p>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(s),g=r.getMatrix(),o=0;o<i;o++)for(var v=o*n,f=0;f<n;f++){var p=g[v+f]&255;p<h&&a.set(f,o)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,s=0,o=0;o<n;o++)r[o]>s&&(a=o,s=r[o]),r[o]>i&&(i=r[o]);for(var l=0,u=0,o=0;o<n;o++){var d=o-a,f=r[o]*d*d;f>u&&(l=o,u=f)}if(a>l){var p=a;a=l,l=p}if(l-a<=n/16)throw new Ie;for(var h=l-1,g=-1,o=l-1;o>a;o--){var v=o-a,f=v*v*(l-o)*(i-r[o]);f>g&&(h=o,g=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(aq),mq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iI=function(t){mq(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var l=e.calculateBlackPoints(a,s,o,n,i),u=new Io(n,i);e.calculateThresholdForBlock(a,s,o,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,s,o,l){for(var u=s-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var p=f<<e.BLOCK_SIZE_POWER;p>u&&(p=u);for(var h=e.cap(f,2,i-3),g=0;g<n;g++){var v=g<<e.BLOCK_SIZE_POWER;v>d&&(v=d);for(var b=e.cap(g,2,n-3),x=0,w=-2;w<=2;w++){var _=o[h+w];x+=_[b-2]+_[b-1]+_[b]+_[b+1]+_[b+2]}var N=x/25;e.thresholdBlock(r,v,p,N,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,s,o){for(var l=0,u=i*s+n;l<e.BLOCK_SIZE;l++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&o.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,s){for(var o=s-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var p=0;p<n;p++){var h=p<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var g=0,v=255,b=0,x=0,w=f*a+h;x<e.BLOCK_SIZE;x++,w+=a){for(var _=0;_<e.BLOCK_SIZE;_++){var N=r[w+_]&255;g+=N,N<v&&(v=N),N>b&&(b=N)}if(b-v>e.MIN_DYNAMIC_RANGE)for(x++,w+=a;x<e.BLOCK_SIZE;x++,w+=a)for(var _=0;_<e.BLOCK_SIZE;_++)g+=r[w+_]&255}var k=g>>e.BLOCK_SIZE_POWER*2;if(b-v<=e.MIN_DYNAMIC_RANGE&&(k=v/2,d>0&&p>0)){var D=(u[d-1][p]+2*u[d][p-1]+u[d-1][p-1])/4;v<D&&(k=D)}u[d][p]=k}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(pq),cp=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new ev("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new ev("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new ev("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Yt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var s=i[a]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),vq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u2=function(t){vq(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(cp),gq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xq=function(t){gq(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var o=0,l=0,u=r.length;o<u;o+=4,l++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var p=r[o],h=r[o+1],g=r[o+2];d=306*p+601*h+117*g+512>>10}s[l]=d}else for(var o=0,l=0,v=r.length;o<v;o+=4,l++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var p=r[o],h=r[o+1],g=r[o+2];d=306*p+601*h+117*g+512>>10}s[l]=255-d}return s},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Nt("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*o),u=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*o);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new u2(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(cp),yq=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),qi=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})},$i=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wh=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return qi(this,void 0,void 0,function(){var e,r,n,i,a,s,o,l,u,d,f,p;return $i(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=wq(e),i=n.next();!i.done;i=n.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(o=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:o,label:l,kind:s,groupId:u},r.push(d))}catch(g){f={error:g}}finally{try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return qi(this,void 0,void 0,function(){var e;return $i(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new yq(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return qi(this,void 0,void 0,function(){var r;return $i(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return qi(this,void 0,void 0,function(){return $i(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return qi(this,void 0,void 0,function(){var n,i;return $i(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return qi(this,void 0,void 0,function(){var n;return $i(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return qi(this,void 0,void 0,function(){var n,i;return $i(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return qi(this,void 0,void 0,function(){return $i(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return qi(this,void 0,void 0,function(){var i,a;return $i(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return qi(this,void 0,void 0,function(){var i;return $i(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return qi(this,void 0,void 0,function(){var i;return $i(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return qi(this,void 0,void 0,function(){var n;return $i(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return qi(this,void 0,void 0,function(){return $i(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new _n("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new _n("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new _n("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new _n("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new _n("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new _n("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new _n("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new _n("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new _n("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new _n("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return qi(this,void 0,void 0,function(){return $i(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return qi(this,void 0,void 0,function(){return $i(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(s,o){if(i._stopAsyncDecode){o(new Ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);s(l)}catch(p){var u=r&&p instanceof Ie,d=p instanceof Rn||p instanceof Xe,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,s,o);o(p)}};return new Promise(function(s,o){return a(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var s=l instanceof Rn||l instanceof Xe,o=l instanceof Ie;(s||o)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new xq(n,r),a=new iI(i);return new nI(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Mi=function(){function t(e,r,n,i,a,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Vr.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Vr.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Vr.arraycopy(r,0,n,0,r.length),Vr.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),a5;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(a5||(a5={}));const _t=a5;var s5;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(s5||(s5={}));const wi=s5;var d2=function(){function t(e,r,n,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),A1=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Nt;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Sc=function(){function t(e,r){if(r.length===0)throw new Nt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Vr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var s=r[i];n=A1.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,l=this.field,i=1;i<o;i++)n=A1.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Vr.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=A1.addOrSubtract(r[o-s],n[o]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<a;d++)s[l+d]=A1.addOrSubtract(s[l+d],o.multiply(u,i[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(a[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Nt;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),s=this.field,o=0;o<i;o++)a[o]=s.multiply(n[o],r);return new t(s,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Nt("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),s),u=e.multiplyByMonomial(o,l),d=r.buildMonomial(o,l);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),bq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aI=function(t){bq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(ga),_q=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),da=function(t){_q(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var s=new Int32Array(n),o=1,l=0;l<n;l++)s[l]=o,o*=2,o>=n&&(o^=r,o&=n-1);a.expTable=s;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[s[l]]=l;return a.logTable=u,a.zero=new Sc(a,Int32Array.from([0])),a.one=new Sc(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Nt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Sc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new aI;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Kt.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(A1),Nq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ym=function(t){Nq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(ga),Sq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),up=function(t){Sq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(ga),f2=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Sc(n,e),a=new Int32Array(r),s=!0,o=0;o<r;o++){var l=i.evaluateAt(n.exp(o+n.getGeneratorBase()));a[a.length-1-o]=l,l!==0&&(s=!1)}if(!s)for(var u=new Sc(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],p=d[1],h=this.findErrorLocations(f),g=this.findErrorMagnitudes(p,h),o=0;o<h.length;o++){var v=e.length-1-n.log(h[o]);if(v<0)throw new ym("Bad error location");e[v]=da.addOrSubtract(e[v],g[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,s=e,o=r,l=a.getZero(),u=a.getOne();o.getDegree()>=(n/2|0);){var d=s,f=l;if(s=o,l=u,s.isZero())throw new ym("r_{i-1} was zero");o=d;for(var p=a.getZero(),h=s.getCoefficient(s.getDegree()),g=a.inverse(h);o.getDegree()>=s.getDegree()&&!o.isZero();){var v=o.getDegree()-s.getDegree(),b=a.multiply(o.getCoefficient(o.getDegree()),g);p=p.addOrSubtract(a.buildMonomial(v,b)),o=o.addOrSubtract(s.multiplyByMonomial(v,b))}if(u=p.multiply(l).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new up("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new ym("sigmaTilde(0) was zero");var w=a.inverse(x),_=u.multiplyScalar(w),N=o.multiplyScalar(w);return[_,N]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,s=1;s<a.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=a.inverse(s),i++);if(i!==r)throw new ym("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,s=0;s<n;s++){for(var o=a.inverse(r[s]),l=1,u=0;u<n;u++)if(s!==u){var d=a.multiply(r[u],o),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[s]=a.multiply(e.evaluateAt(o),a.inverse(l)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],o))}return i},t}(),mi;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(mi||(mi={}));var iS=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),o=new d2(a,s,null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=mi.UPPER,i=mi.UPPER,a="",s=0;s<r;)if(i===mi.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<o;l++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);a+=or.castAsNonUtf8Char(u),s+=8}i=n}else{var d=i===mi.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return mi.LOWER;case"P":return mi.PUNCT;case"M":return mi.MIXED;case"D":return mi.DIGIT;case"B":return mi.BINARY;case"U":default:return mi.UPPER}},t.getCharacter=function(e,r){switch(e){case mi.UPPER:return t.UPPER_TABLE[r];case mi.LOWER:return t.LOWER_TABLE[r];case mi.MIXED:return t.MIXED_TABLE[r];case mi.PUNCT:return t.PUNCT_TABLE[r];case mi.DIGIT:return t.DIGIT_TABLE[r];default:throw new up("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=da.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=da.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=da.AZTEC_DATA_10):(n=12,r=da.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Xe;for(var s=e.length%n,o=new Int32Array(a),l=0;l<a;l++,s+=n)o[l]=t.readCode(e,s,n);try{var u=new f2(r);u.decode(o,a-i)}catch(b){throw new Xe(b)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var p=o[l];if(p===0||p===d)throw new Xe;(p===1||p===d-1)&&f++}for(var h=new Array(i*n-f),g=0,l=0;l<i;l++){var p=o[l];if(p===1||p===d-1)h.fill(p>1,g,g+n-1),g+=n-1;else for(var v=n-1;v>=0;--v)h[g++]=(p&1<<v)!==0}return h},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<a.length;o++)a[o]=o;else for(var l=i+1+2*Kt.truncDivision(Kt.truncDivision(i,2)-1,15),u=i/2,d=Kt.truncDivision(l,2),o=0;o<u;o++){var f=o+Kt.truncDivision(o,15);a[u-o-1]=d-f-1,a[u+o]=d+f+1}for(var o=0,p=0;o<n;o++){for(var h=(n-o)*4+(r?9:12),g=o*2,v=i-1-g,b=0;b<h;b++)for(var x=b*2,w=0;w<2;w++)s[p+x+w]=e.get(a[g+w],a[g+b]),s[p+2*h+x+w]=e.get(a[g+b],a[v-w]),s[p+4*h+x+w]=e.get(a[v-w],a[v-b]),s[p+6*h+x+w]=e.get(a[v-b],a[g+w]);p+=h*8}return s},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),hr=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,s=r-i;return Math.sqrt(a*a+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),o5=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ct=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*o5.floatToIntBits(this.x)+o5.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,o;if(n>=r&&n>=i?(s=e[0],a=e[1],o=e[2]):i>=n&&i>=r?(s=e[1],a=e[0],o=e[2]):(s=e[2],a=e[0],o=e[1]),this.crossProductZ(a,s,o)<0){var l=a;a=o,o=l}e[0]=a,e[1]=s,e[2]=o},t.distance=function(e,r){return hr.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),k3=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Aq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cq=function(t){Aq(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n)||this;return o.compact=i,o.nbDatablocks=a,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(k3),l5=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ie}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,s=!0,o=!1,l=!1,u=!1,d=!1,f=!1,p=this.width,h=this.height;s;){s=!1;for(var g=!0;(g||!l)&&r<p;)g=this.containsBlackPoint(n,i,r,!1),g?(r++,s=!0,l=!0):l||r++;if(r>=p){a=!0;break}for(var v=!0;(v||!u)&&i<h;)v=this.containsBlackPoint(e,r,i,!0),v?(i++,s=!0,u=!0):u||i++;if(i>=h){a=!0;break}for(var b=!0;(b||!d)&&e>=0;)b=this.containsBlackPoint(n,i,e,!1),b?(e--,s=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,s=!0,f=!0):f||n--;if(n<0){a=!0;break}s&&(o=!0)}if(!a&&o){for(var w=r-e,_=null,N=1;_===null&&N<w;N++)_=this.getBlackPointOnSegment(e,i-N,e+N,i);if(_==null)throw new Ie;for(var k=null,N=1;k===null&&N<w;N++)k=this.getBlackPointOnSegment(e,n+N,e+N,n);if(k==null)throw new Ie;for(var D=null,N=1;D===null&&N<w;N++)D=this.getBlackPointOnSegment(r,n+N,r-N,n);if(D==null)throw new Ie;for(var T=null,N=1;T===null&&N<w;N++)T=this.getBlackPointOnSegment(r,i-N,r-N,i);if(T==null)throw new Ie;return this.centerEdges(T,_,D,k)}else throw new Ie},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=hr.round(hr.distance(e,r,n,i)),s=(n-e)/a,o=(i-r)/a,l=this.image,u=0;u<a;u++){var d=hr.round(e+u*s),f=hr.round(r+u*o);if(l.get(d,f))return new ct(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),s=e.getY(),o=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),p=i.getY(),h=t.CORR;return a<this.width/2?[new ct(f-h,p+h),new ct(o+h,l+h),new ct(u-h,d-h),new ct(a+h,s-h)]:[new ct(f+h,p+h),new ct(o+h,l-h),new ct(u-h,d+h),new ct(a-h,s-h)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var s=e;s<=r;s++)if(a.get(s,n))return!0}else for(var o=e;o<=r;o++)if(a.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),aS=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<r.length&&a;s+=2){var o=Math.floor(r[s]),l=Math.floor(r[s+1]);if(o<-1||o>n||l<-1||l>i)throw new Ie;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),l===-1?(r[s+1]=0,a=!0):l===i&&(r[s+1]=i-1,a=!0)}a=!0;for(var s=r.length-2;s>=0&&a;s-=2){var o=Math.floor(r[s]),l=Math.floor(r[s+1]);if(o<-1||o>n||l<-1||l>i)throw new Ie;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),l===-1?(r[s+1]=0,a=!0):l===i&&(r[s+1]=i-1,a=!0)}},t}(),sI=function(){function t(e,r,n,i,a,s,o,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=s,this.a13=o,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,s,o,l,u,d,f,p,h,g,v,b){var x=t.quadrilateralToSquare(e,r,n,i,a,s,o,l),w=t.squareToQuadrilateral(u,d,f,p,h,g,v,b);return w.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,p=0;p<r;p+=2){var h=e[p],g=e[p+1],v=a*h+l*g+f;e[p]=(n*h+s*g+u)/v,e[p+1]=(i*h+o*g+d)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,p=e.length,h=0;h<p;h++){var g=e[h],v=r[h],b=a*g+l*v+f;e[h]=(n*g+s*v+u)/b,r[h]=(i*g+o*v+d)/b}},t.squareToQuadrilateral=function(e,r,n,i,a,s,o,l){var u=e-n+a-o,d=r-i+s-l;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,s-i,r,0,0,1);var f=n-a,p=o-a,h=i-s,g=l-s,v=f*g-p*h,b=(u*g-p*d)/v,x=(f*d-u*h)/v;return new t(n-e+b*n,o-e+x*o,e,i-r+b*i,l-r+x*l,r,b,x,1)},t.quadrilateralToSquare=function(e,r,n,i,a,s,o,l){return t.squareToQuadrilateral(e,r,n,i,a,s,o,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Eq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jq=function(t){Eq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,s,o,l,u,d,f,p,h,g,v,b,x,w,_,N){var k=sI.quadrilateralToQuadrilateral(a,s,o,l,u,d,f,p,h,g,v,b,x,w,_,N);return this.sampleGridWithTransform(r,n,i,k)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new Ie;for(var s=new Io(n,i),o=new Float32Array(2*n),l=0;l<i;l++){for(var u=o.length,d=l+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;a.transformPoints(o),aS.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,l)}catch{throw new Ie}}return s},e}(aS),I3=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new jq,t}(),oa=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new ct(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),kq=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new Cq(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ie;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var s=n[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,s,o){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Kt.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ie},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var l=new f2(da.AZTEC_PARAM);l.decode(s,a)}catch{throw new Ie}for(var u=0,o=0;o<i;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),l=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(i,s,-1,1),d=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,l,u,d))break}r=o,n=l,i=u,a=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ie;this.compact=this.nbCenterLayers===5;var p=new ct(r.getX()+.5,r.getY()-.5),h=new ct(n.getX()+.5,n.getY()+.5),g=new ct(i.getX()-.5,i.getY()+.5),v=new ct(a.getX()-.5,a.getY()-.5);return this.expandSquare([p,h,g,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new l5(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new oa(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new oa(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new oa(s-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oa(s-7,o-7),!1,-1,-1).toResultPoint()}var l=hr.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=hr.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new l5(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new oa(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new oa(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new oa(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new oa(l-7,u-7),!1,-1,-1).toResultPoint()}return l=hr.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=hr.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new oa(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var s=I3.getInstance(),o=this.getDimension(),l=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),s=a/n,o=e.getX(),l=e.getY(),u=s*(r.getX()-e.getX())/a,d=s*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(hr.round(o+f*u),hr.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new oa(e.getX()-a,e.getY()+a),r=new oa(r.getX()-a,r.getY()-a),n=new oa(n.getX()+a,n.getY()-a),i=new oa(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,i),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,s=0,o=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=i,l+=a,this.image.get(hr.round(o),hr.round(l))!==u&&s++;var p=s/n;return p>.1&&p<.9?0:p<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n,s+=i;for(a-=n,s-=i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n;for(a-=n;this.isValid(a,s)&&this.image.get(a,s)===r;)s+=i;return s-=i,new oa(a,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new ct(o+i*a,l+i*s),d=new ct(o-i*a,l-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new ct(o+i*a,l+i*s),p=new ct(o-i*a,l-i*s),h=[u,f,d,p];return h},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=hr.round(e.getX()),n=hr.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return hr.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return hr.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Kt.truncDivision(this.nbLayers-4,8)+1)+15},t}(),ig=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new kq(e.getBlackMatrix()),a=null,s=null;try{var o=i.detectMirror(!1);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new iS().decode(o)}catch(f){n=f}if(s==null)try{var o=i.detectMirror(!0);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new iS().decode(o)}catch(f){throw n??f}var l=new Mi(s.getText(),s.getRawBytes(),s.getNumBits(),a,_t.AZTEC,Vr.currentTimeMillis()),u=s.getByteSegments();u!=null&&l.putMetadata(wi.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&l.putMetadata(wi.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(qr.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),Iq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Iq(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ig,r)||this}return e})(wh);var Kn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(qr.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),s=a.getResultMetadata(),o=270;s!==null&&s.get(wi.ORIENTATION)===!0&&(o=o+s.get(wi.ORIENTATION)%360),a.putMetadata(wi.ORIENTATION,o);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),d=0;d<l.length;d++)l[d]=new ct(u-l[d].getY()-1,l[d].getX());return a}else throw new Ie}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new oi(n),s=r&&r.get(qr.TRY_HARDER)===!0,o=Math.max(1,i>>(s?8:5)),l;s?l=i:l=15;for(var u=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),p=(d&1)===0,h=u+o*(p?f:-f);if(h<0||h>=i)break;try{a=e.getBlackRow(h,a)}catch{continue}for(var g=function(w){if(w===1&&(a.reverse(),r&&r.get(qr.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;r.forEach(function(D,T){return _.set(T,D)}),_.delete(qr.NEED_RESULT_POINT_CALLBACK),r=_}try{var N=v.decodeRow(h,a,r);if(w===1){N.putMetadata(wi.ORIENTATION,180);var k=N.getResultPoints();k!==null&&(k[0]=new ct(n-k[0].getX()-1,k[0].getY()),k[1]=new ct(n-k[1].getX()-1,k[1].getY()))}return{value:N}}catch{}},v=this,b=0;b<2;b++){var x=g(b);if(typeof x=="object")return x.value}}throw new Ie},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var s=e.getSize();if(r>=s)throw new Ie;for(var o=!e.get(r),l=0,u=r;u<s;){if(e.get(u)!==o)n[l]++;else{if(++l===i)break;n[l]=1,o=!o}u++}if(!(l===i||l===i-1&&u===s))throw new Ie},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new Ie;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return Number.POSITIVE_INFINITY;var l=a/s;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],p=r[d]*l,h=f>p?f-p:p-f;if(h>n)return Number.POSITIVE_INFINITY;u+=h}return u/a},t}(),Tq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sS=function(t){Tq(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),o=i,l=!1,u=6,d=i;d<n;d++)if(r.get(d)!==l)s[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,p=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var g=Kn.patternMatchVariance(s,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);g<f&&(f=g,p=h)}if(p>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,p]);o+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,l=!l}throw new Ie},e.decodeCode=function(r,n,i){Kn.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var l=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,s=o)}if(s>=0)return s;throw new Ie},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(qr.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],l=0,u=new Uint8Array(20);u[l++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Xe}for(var f=!1,p=!1,h="",g=s[0],v=s[1],b=Int32Array.from([0,0,0,0,0,0]),x=0,w=0,_=o,N=0,k=!0,D=!1,T=!1;!f;){var R=p;switch(p=!1,x=w,w=e.decodeCode(n,b,v),u[l++]=w,w!==e.CODE_STOP&&(k=!0),w!==e.CODE_STOP&&(N++,_+=N*w),g=v,v+=b.reduce(function(se,H){return se+H},0),w){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Xe}switch(d){case e.CODE_CODE_A:if(w<64)T===D?h+=String.fromCharCode(32+w):h+=String.fromCharCode(32+w+128),T=!1;else if(w<96)T===D?h+=String.fromCharCode(w-64):h+=String.fromCharCode(w+64),T=!1;else switch(w!==e.CODE_STOP&&(k=!1),w){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!D&&T?(D=!0,T=!1):D&&T?(D=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(w<96)T===D?h+=String.fromCharCode(32+w):h+=String.fromCharCode(32+w+128),T=!1;else switch(w!==e.CODE_STOP&&(k=!1),w){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!D&&T?(D=!0,T=!1):D&&T?(D=!1,T=!1):T=!0;break;case e.CODE_SHIFT:p=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(w<100)w<10&&(h+="0"),h+=w;else switch(w!==e.CODE_STOP&&(k=!1),w){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}R&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=v-g;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-g)/2),!1))throw new Ie;if(_-=N*x,_%103!==x)throw new Rn;var O=h.length;if(O===0)throw new Ie;O>0&&k&&(d===e.CODE_CODE_C?h=h.substring(0,O-2):h=h.substring(0,O-1));for(var j=(s[1]+s[0])/2,E=g+P/2,L=u.length,B=new Uint8Array(L),te=0;te<L;te++)B[te]=u[te];var re=[new ct(j,r),new ct(E,r)];return new Mi(h,B,0,re,_t.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Kn),Pq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oS=function(t){Pq(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),p=n.getSize(),h,g;do{e.recordPattern(n,f,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new Ie;h=e.patternToChar(v),this.decodeRowResult+=h,g=f;try{for(var b=(a=void 0,Gx(u)),x=b.next();!x.done;x=b.next()){var w=x.value;f+=w}}catch(L){a={error:L}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var N=Gx(u),k=N.next();!k.done;k=N.next()){var w=k.value;_+=w}}catch(L){o={error:L}}finally{try{k&&!k.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}var D=f-g-_;if(f!==p&&D*2<_)throw new Ie;if(this.usingCheckDigit){for(var T=this.decodeRowResult.length-1,R=0,P=0;P<T;P++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(T)!==e.ALPHABET_STRING.charAt(R%43))throw new Rn;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new Ie;var O;this.extendedMode?O=e.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;var j=(d[1]+d[0])/2,E=g+_/2;return new Mi(O,null,0,[new ct(j,r),new ct(E,r)],_t.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),s=0,o=a,l=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,l=!l}throw new Ie},e.toNarrowWidePattern=function(r){var n,i,a=r.length,s=0,o;do{var l=2147483647;try{for(var u=(n=void 0,Gx(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>s&&(l=f)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}s=l,o=0;for(var p=0,h=0,g=0;g<a;g++){var f=r[g];f>s&&(h|=1<<a-1-g,o++,p+=f)}if(o===3){for(var g=0;g<a&&o>0;g++){var f=r[g];if(f>s&&(o--,f*2>=p))return-1}return h}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new Ie},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(a+1),l="\0";switch(s){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new Xe;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new Xe;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new Xe;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new Xe;break}i+=l,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Kn),Oq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lS=function(t){Oq(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),p=this.counters;p.fill(0),this.decodeRowResult="";var h,g;do{e.recordPattern(n,d,p);var v=this.toPattern(p);if(v<0)throw new Ie;h=this.patternToChar(v),this.decodeRowResult+=h,g=d;try{for(var b=(a=void 0,Xx(p)),x=b.next();!x.done;x=b.next()){var w=x.value;d+=w}}catch(P){a={error:P}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var N=Xx(p),k=N.next();!k.done;k=N.next()){var w=k.value;_+=w}}catch(P){o={error:P}}finally{try{k&&!k.done&&(l=N.return)&&l.call(N)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new Ie;if(this.decodeRowResult.length<2)throw new Ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),T=(u[1]+u[0])/2,R=g+_/2;return new Mi(D,null,0,[new ct(T,r),new ct(R,r)],_t.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,o=!1,l=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==o)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,o=!o}throw new Ie},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var s=Xx(r),o=s.next();!o.done;o=s.next()){var l=o.value;a+=l}}catch(g){n={error:g}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var p=Math.round(r[f]*9/a);if(p<1||p>4)return-1;if(f&1)u<<=p;else for(var h=0;h<p;h++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new Ie},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s>="a"&&s<="d"){if(a>=n-1)throw new Xe;var o=r.charAt(a+1),l="\0";switch(s){case"d":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new Xe;break;case"a":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new Xe;break;case"b":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o>="X"&&o<="Z")l="";else throw new Xe;break;case"c":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new Xe;break}i+=l,a++}else i+=s}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,s=0,o=n-1;o>=0;o--)s+=a*e.ALPHABET_STRING.indexOf(r.charAt(o)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new Rn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Kn),Rq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cS=function(t){Rq(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,s,o=this.decodeStart(n),l=this.decodeEnd(n),u=new Yt;e.decodeMiddle(n,o[1],l[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get(qr.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var p=d.length,h=!1,g=0;try{for(var v=Dq(f),b=v.next();!b.done;b=v.next()){var x=b.value;if(p===x){h=!0;break}x>g&&(g=x)}}catch(N){a={error:N}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(!h&&p>g&&(h=!0),!h)throw new Xe;var w=[new ct(o[1],r),new ct(l[0],r)],_=new Mi(d,null,0,w,_t.ITF,new Date().getTime());return _},e.decodeMiddle=function(r,n,i,a){var s=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(s.fill(0),o.fill(0),l.fill(0);n<i;){Kn.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],l[u]=s[d+1]}var f=e.decodeDigit(o);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),s.forEach(function(p){n+=p})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new Ie},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new Ie;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof Ie&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,s=new Int32Array(a),o=r.getSize(),l=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==l)s[u]++;else{if(u===a-1){if(Kn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],Vr.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new Ie},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var o=e.PATTERNS[s],l=Kn.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=s):l===n&&(i=-1)}if(i>=0)return i%10;throw new Ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Kn),Lq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ih=function(t){Lq(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,s);var o=i[0];a=i[1];var l=o-(a-o);l>=0&&(n=r.isRange(l,o,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new Xe;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new Xe;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,s){var o=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=a.length,f=i,p=n;p<o;p++)if(r.get(p)!==f)s[l]++;else{if(l===d-1){if(Kn.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,p]);u+=s[0]+s[1];for(var h=s.slice(2,s.length),g=0;g<l-1;g++)s[g]=h[g];s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,f=!f}throw new Ie},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,l=a.length,u=0;u<l;u++){var d=a[u],f=Kn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new Ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Kn),Mq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fq=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),l=[new ct((n[0]+n[1])/2,e),new ct(a,e)],u=new Mi(s,null,0,l,_t.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),l=r[1],u=0,d=0;d<5&&l<o;d++){var f=ih.decodeDigit(e,s,l,ih.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var p=(i=void 0,Mq(s)),h=p.next();!h.done;h=p.next()){var g=h.value;l+=g}}catch(b){i={error:b}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new Ie;var v=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==v)throw new Ie;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Ie},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[wi.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,s=a<10?"0"+a:a.toString();return r+i+"."+s},t}(),Bq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uq=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),l=[new ct((n[0]+n[1])/2,e),new ct(a,e)],u=new Mi(s,null,0,l,_t.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),l=r[1],u=0,d=0;d<2&&l<o;d++){var f=ih.decodeDigit(e,s,l,ih.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var p=(i=void 0,Bq(s)),h=p.next();!h.done;h=p.next()){var g=h.value;l+=g}}catch(v){i={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new Ie;if(parseInt(n.toString())%4!==u)throw new Ie;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[wi.ISSUE_NUMBER,parseInt(e)]])},t}(),zq=function(){function t(){}return t.decodeRow=function(e,r,n){var i=ih.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new Fq;return a.decodeRow(e,r,i)}catch{var s=new Uq;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Vq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wn=function(t){Vq(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),s=i==null?null:i.get(qr.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new ct((a[0]+a[1])/2,r);s.foundPossibleResultPoint(o)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(s!=null){var f=new ct(u,r);s.foundPossibleResultPoint(f)}var p=e.decodeEnd(n,u);if(s!=null){var h=new ct((p[0]+p[1])/2,r);s.foundPossibleResultPoint(h)}var g=p[1],v=g+(g-p[0]);if(v>=n.getSize()||!n.isRange(g,v,!1))throw new Ie;var b=d.toString();if(b.length<8)throw new Xe;if(!e.checkChecksum(b))throw new Rn;var x=(a[1]+a[0])/2,w=(p[1]+p[0])/2,_=this.getBarcodeFormat(),N=[new ct(x,r),new ct(w,r)],k=new Mi(b,null,0,N,_,new Date().getTime()),D=0;try{var T=zq.decodeRow(r,n,p[1]);k.putMetadata(wi.UPC_EAN_EXTENSION,T.getText()),k.putAllMetadata(T.getResultMetadata()),k.addResultPoints(T.getResultPoints()),D=T.getText().length}catch{}var R=i==null?null:i.get(qr.ALLOWED_EAN_EXTENSIONS);if(R!=null){var P=!1;for(var O in R)if(D.toString()===O){P=!0;break}if(!P)throw new Ie}return _===_t.EAN_13||_t.UPC_A,k},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new Xe;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new Xe;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ih),qq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c5=function(t){qq(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],p=0,h=0;h<6&&f<d;h++){var g=Wn.decodeDigit(r,u,f,Wn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var v=(a=void 0,uS(u)),b=v.next();!b.done;b=v.next()){var x=b.value;f+=x}}catch(k){a={error:k}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}g>=10&&(p|=1<<5-h)}i=e.determineFirstDigit(i,p);var w=Wn.findGuardPattern(r,f,!0,Wn.MIDDLE_PATTERN,new Int32Array(Wn.MIDDLE_PATTERN.length).fill(0));f=w[1];for(var h=0;h<6&&f<d;h++){var g=Wn.decodeDigit(r,u,f,Wn.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var _=(o=void 0,uS(u)),N=_.next();!N.done;N=_.next()){var x=N.value;f+=x}}catch(T){o={error:T}}finally{try{N&&!N.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return _t.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new Ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Wn),$q=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fS=function(t){$q(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],p=0;p<4&&f<d;p++){var h=Wn.decodeDigit(r,u,f,Wn.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var g=(a=void 0,dS(u)),v=g.next();!v.done;v=g.next()){var b=v.value;f+=b}}catch(N){a={error:N}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}var x=Wn.findGuardPattern(r,f,!0,Wn.MIDDLE_PATTERN,new Int32Array(Wn.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<4&&f<d;p++){var h=Wn.decodeDigit(r,u,f,Wn.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var w=(o=void 0,dS(u)),_=w.next();!_.done;_=w.next()){var b=_.value;f+=b}}catch(D){o={error:D}}finally{try{_&&!_.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return _t.EAN_8},e}(Wn),Hq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hS=function(t){Hq(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new c5,r}return e.prototype.getBarcodeFormat=function(){return _t.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Mi(n.substring(1),null,null,r.getResultPoints(),_t.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new Ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Wn),Wq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pS=function(t){Wq(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o=this.decodeMiddleCounters.map(function(b){return b});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var p=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var h=(a=void 0,Gq(o)),g=h.next();!g.done;g=h.next()){var v=g.value;u+=v}}catch(b){a={error:b}}finally{try{g&&!g.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}p>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Yt(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Wn.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw Ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return _t.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Yt;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Wn),Xq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yx=function(t){Xq(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(qr.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(_t.EAN_13)>-1&&a.push(new c5),i.indexOf(_t.UPC_A)>-1&&a.push(new hS),i.indexOf(_t.EAN_8)>-1&&a.push(new fS),i.indexOf(_t.UPC_E)>-1&&a.push(new pS)),a.length===0&&(a.push(new c5),a.push(new hS),a.push(new fS),a.push(new pS)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,s;try{for(var o=mS(this.readers),l=o.next();!l.done;l=o.next()){var u=l.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===_t.EAN_13&&d.getText().charAt(0)==="0",p=i==null?null:i.get(qr.POSSIBLE_FORMATS),h=p==null||p.includes(_t.UPC_A);if(f&&h){var g=d.getRawBytes(),v=new Mi(d.getText().substring(1),g,g?g.length:null,d.getResultPoints(),_t.UPC_A);return v.putAllMetadata(d.getResultMetadata()),v}return d}catch{}}}catch(b){a={error:b}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}throw new Ie},e.prototype.reset=function(){var r,n;try{for(var i=mS(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Kn),Yq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zq=function(t){Yq(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new Ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new Ie;return new Mi(s,null,0,[new ct(a.left,r),new ct(a.right,r)],_t.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var s=[],o=n[0],l=1,u=1;u<n.length;u++)n[u]===o?l++:(o=n[u],s.push(l),l=1);return s.push(l),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),s=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Kn),Kq=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yu=function(t){Kq(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Kn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ie},e.count=function(r){return hr.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]>a&&(a=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]<a&&(a=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],s=a+r[2]+r[3],o=a/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=Qq(r),f=d.next();!f.done;f=d.next()){var p=f.value;p>u&&(u=p),p<l&&(l=p)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Kn),ag=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),oI=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ct(n,a)),this.resultPoints.push(new ct(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Jq=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sf=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,s=0;try{for(var o=Jq(e),l=o.next();!l.done;l=o.next()){var u=l.value;s+=u}}catch(w){i={error:w}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}for(var d=0,f=0,p=e.length,h=0;h<p-1;h++){var g=void 0;for(g=1,f|=1<<h;g<e[h];g++,f&=~(1<<h)){var v=t.combins(s-g-1,p-h-2);if(n&&f===0&&s-g-(p-h-1)>=p-h-1&&(v-=t.combins(s-g-(p-h),p-h-2)),p-h-1>1){for(var b=0,x=s-g-(p-h-2);x>r;x--)b+=t.combins(s-g-x-1,p-h-3);v-=b*(p-1-h)}else s-g>r&&v--;d+=v}s-=g}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,s=1,o=e;o>n;o--)a*=o,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},t}(),e$=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new oi(n),a=0,s=e[0],o=s.getRightChar().getValue(),l=11;l>=0;--l)o&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var p=u.getRightChar().getValue(),f=11;f>=0;--f)p&1<<f&&i.set(a),a++}return i},t}(),pu=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),T3=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),t$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ss=function(t){t$(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(T3),r$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mu=function(t){r$(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(T3),n$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fd=function(t){n$(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Xe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(T3),wm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i$=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,s,o,l,u;if(!e)return null;if(e.length<2)throw new Ie;var d=e.substring(0,2);try{for(var f=wm(t.TWO_DIGIT_DATA_LENGTH),p=f.next();!p.done;p=f.next()){var h=p.value;if(h[0]===d)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(D){r={error:D}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new Ie;var g=e.substring(0,3);try{for(var v=wm(t.THREE_DIGIT_DATA_LENGTH),b=v.next();!b.done;b=v.next()){var h=b.value;if(h[0]===g)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(D){i={error:D}}finally{try{b&&!b.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}try{for(var x=wm(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),w=x.next();!w.done;w=x.next()){var h=w.value;if(h[0]===g)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(D){s={error:D}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(e.length<4)throw new Ie;var _=e.substring(0,4);try{for(var N=wm(t.FOUR_DIGIT_DATA_LENGTH),k=N.next();!k.done;k=N.next()){var h=k.value;if(h[0]===_)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(D){l={error:D}}finally{try{k&&!k.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}throw new Ie},t.processFixedAI=function(e,r,n){if(n.length<e)throw new Ie;var i=n.substring(0,e);if(n.length<e+r)throw new Ie;var a=n.substring(e,e+r),s=n.substring(e+r),o="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(s);return l==null?o:o+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var s=n.substring(e,a),o=n.substring(a),l="("+i+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),tv=function(){function t(e){this.buffer=new Yt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),s=i$.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Fd(this.information.getSize(),Fd.FNC1,Fd.FNC1):new Fd(this.information.getSize(),r-1,Fd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Fd(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new mu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new mu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new mu(this.current.getPosition(),this.buffer.toString()):r=new mu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new pu(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new mu(this.current.getPosition(),this.buffer.toString());return new pu(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new mu(this.current.getPosition(),this.buffer.toString());return new pu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new mu(this.current.getPosition(),this.buffer.toString());return new pu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ss(e+5,Ss.FNC1);if(r>=5&&r<15)return new Ss(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ss(e+7,""+(n+1));if(n>=90&&n<116)return new Ss(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Xe}return new Ss(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ss(e+5,Ss.FNC1);if(r>=5&&r<15)return new Ss(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ss(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new up("Decoding invalid alphanumeric value: "+n)}return new Ss(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),lI=function(){function t(e){this.information=e,this.generalDecoder=new tv(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),a$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Os=function(t){a$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var s=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?s:3*s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(lI),s$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o$=function(t){s$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Yt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Os),l$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),c$=function(t){l$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Yt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(lI),u$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rv=function(t){u$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var s=this.checkWeight(a),o=1e5,l=0;l<5;++l)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Os),d$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cI=function(t){d$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+rv.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ie;var r=new Yt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+rv.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(rv),f$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h$=function(t){f$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(cI),p$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m$=function(t){p$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(cI),v$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g$=function(t){v$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Os.GTIN_SIZE)throw new Ie;var r=new Yt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Os.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Os.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Os),x$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y$=function(t){x$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Os.GTIN_SIZE)throw new Ie;var r=new Yt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Os.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Os.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Os.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Os),w$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vl=function(t){w$(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ie;var r=new Yt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var o=i;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(rv);function b$(t){try{if(t.get(1))return new o$(t);if(!t.get(2))return new c$(t);var e=tv.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new h$(t);case 5:return new m$(t)}var r=tv.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new g$(t);case 13:return new y$(t)}var n=tv.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Vl(t,"310","11");case 57:return new Vl(t,"320","11");case 58:return new Vl(t,"310","13");case 59:return new Vl(t,"320","13");case 60:return new Vl(t,"310","15");case 61:return new Vl(t,"320","15");case 62:return new Vl(t,"310","17");case 63:return new Vl(t,"320","17")}}catch(i){throw console.log(i),new up("unknown decoder: "+t)}}var vS=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),_$=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),N$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ql=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S$=function(t){N$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof Ie){if(!this.pairs.length)throw new Ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Ie},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var l=(i=void 0,ql(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(p){console.log(p)}}}throw new Ie},e.isValidSequence=function(r){var n,i;try{for(var a=ql(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var o=s.value;if(!(r.length>o.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,s=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}a=o.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new _$(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,s,o,l,u;try{for(var d=ql(n),f=d.next();!f.done;f=d.next()){var p=f.value;if(p.getPairs().length!==r.length){var h=!0;try{for(var g=(s=void 0,ql(p.getPairs())),v=g.next();!v.done;v=g.next()){var b=v.value,x=!1;try{for(var w=(l=void 0,ql(r)),_=w.next();!_.done;_=w.next()){var N=_.value;if(vS.equals(b,N)){x=!0;break}}}catch(k){l={error:k}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}x||(h=!1)}}catch(k){s={error:k}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}}}}catch(k){i={error:k}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,s,o,l,u;try{for(var d=ql(n),f=d.next();!f.done;f=d.next()){var p=f.value,h=!0;try{for(var g=(s=void 0,ql(r)),v=g.next();!v.done;v=g.next()){var b=v.value,x=!1;try{for(var w=(l=void 0,ql(p.getPairs())),_=w.next();!_.done;_=w.next()){var N=_.value;if(b.equals(N)){x=!0;break}}}catch(k){l={error:k}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}if(!x){h=!1;break}}}catch(k){s={error:k}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}if(h)return!0}}catch(k){i={error:k}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=e$.buildBitArray(r),i=b$(n),a=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),l=[s[0],s[1],o[0],o[1]];return new Mi(a,null,null,l,_t.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var l=this.pairs.get(o);a+=l.getLeftChar().getChecksumPortion(),s++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),s++)}a%=211;var d=211*(s-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var s,o=!0,l=-1;do this.findNextPair(r,n,l),s=this.parseFoundFinderPattern(r,i,a),s===null?l=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Ie;var d;try{d=this.decodeDataCharacter(r,s,a,!1)}catch(f){d=null,console.log(f)}return new vS(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=r.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(n))o=0;else{var l=n[n.length-1];o=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,p=o,h=o;h<s;h++)if(r.get(h)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=p,this.startEnd[1]=h;return}u&&e.reverseCounters(a),p+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new Ie},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,s,o;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,s=l,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),a=o-this.startEnd[1];var u=this.getDecodeFinderCounters();Vr.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new oI(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var l=0,u=s.length-1;l<u;l++,u--){var d=s[l];s[l]=s[u],s[u]=d}}var f=17,p=hr.sum(new Int32Array(s))/f,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(p-h)/h>.3)throw new Ie;for(var g=this.getOddCounts(),v=this.getEvenCounts(),b=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var w=1*s[l]/p,_=w+.5;if(_<1){if(w<.3)throw new Ie;_=1}else if(_>8){if(w>8.7)throw new Ie;_=8}var N=l/2;l&1?(v[N]=_,x[N]=w-_):(g[N]=_,b[N]=w-_)}this.adjustOddEvenCounts(f);for(var k=4*n.getValue()+(i?0:2)+(a?0:1)-1,D=0,T=0,l=g.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var R=e.WEIGHTS[k][2*l];T+=g[l]*R}D+=g[l]}for(var P=0,l=v.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var R=e.WEIGHTS[k][2*l+1];P+=v[l]*R}var O=T+P;if(D&1||D>13||D<4)throw new Ie;var j=(13-D)/2,E=e.SYMBOL_WIDEST[j],L=9-E,B=sf.getRSSvalue(g,E,!0),te=sf.getRSSvalue(v,L,!1),re=e.EVEN_TOTAL_SUBSET[j],se=e.GSUM[j],H=B*re+te+se;return new ag(H,O)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=hr.sum(new Int32Array(this.getOddCounts())),i=hr.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);var o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new Ie;s=!0}else{if(!f)throw new Ie;l=!0}else if(u===-1)if(d){if(f)throw new Ie;a=!0}else{if(!f)throw new Ie;o=!0}else if(u===0){if(d){if(!f)throw new Ie;n<i?(a=!0,l=!0):(s=!0,o=!0)}else if(f)throw new Ie}else throw new Ie;if(a){if(s)throw new Ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new Ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(yu),A$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),C$=function(t){A$(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(ag),E$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gS=function(t){E$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=Zx(this.possibleLeftPairs),p=f.next();!p.done;p=f.next()){var h=p.value;if(h.getCount()>1)try{for(var g=(o=void 0,Zx(this.possibleRightPairs)),v=g.next();!v.done;v=g.next()){var b=v.value;if(b.getCount()>1&&e.checkChecksum(h,b))return e.constructResult(h,b)}}catch(x){o={error:x}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}}}catch(x){a={error:x}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}throw new Ie},e.addOrTally=function(r,n){var i,a;if(n!=null){var s=!1;try{for(var o=Zx(r),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),s=new Yt,o=13-a.length;o>0;o--)s.append("0");s.append(a);for(var l=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-48;l+=o&1?u:3*u}l=10-l%10,l===10&&(l=0),s.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Mi(s.toString(),null,0,[d[0],d[1],f[0],f[1]],_t.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,i,n,s),l=a==null?null:a.get(qr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new ct(u,i))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new C$(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)Kn.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Kn.recordPattern(r,n.getStartEnd()[1]+1,a);for(var o=0,l=a.length-1;o<l;o++,l--){var u=a[o];a[o]=a[l],a[l]=u}}for(var d=i?16:15,f=hr.sum(new Int32Array(a))/d,p=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),o=0;o<a.length;o++){var b=a[o]/f,x=Math.floor(b+.5);x<1?x=1:x>8&&(x=8);var w=Math.floor(o/2);o&1?(h[w]=x,v[w]=b-x):(p[w]=x,g[w]=b-x)}this.adjustOddEvenCounts(i,d);for(var _=0,N=0,o=p.length-1;o>=0;o--)N*=9,N+=p[o],_+=p[o];for(var k=0,D=0,o=h.length-1;o>=0;o--)k*=9,k+=h[o],D+=h[o];var T=N+3*k;if(i){if(_&1||_>12||_<4)throw new Ie;var R=(12-_)/2,P=e.OUTSIDE_ODD_WIDEST[R],O=9-P,j=sf.getRSSvalue(p,P,!1),E=sf.getRSSvalue(h,O,!0),L=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],B=e.OUTSIDE_GSUM[R];return new ag(j*L+E+B,T)}else{if(D&1||D>10||D<4)throw new Ie;var R=(10-D)/2,P=e.INSIDE_ODD_WIDEST[R],O=9-P,j=sf.getRSSvalue(p,P,!0),E=sf.getRSSvalue(h,O,!1),te=e.INSIDE_ODD_TOTAL_SUBSET[R],B=e.INSIDE_GSUM[R];return new ag(E*te+j+B,T)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),s=!1,o=0;o<a&&(s=!r.get(o),n!==s);)o++;for(var l=0,u=o,d=o;d<a;d++)if(r.get(d)!==s)i[l]++;else{if(l===3){if(yu.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,s=!s}throw new Ie},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var s=r.get(a[0]),o=a[0]-1;o>=0&&s!==r.get(o);)o--;o++;var l=a[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Vr.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),p=o,h=a[1];return i&&(p=r.getSize()-1-p,h=r.getSize()-1-h),new oI(f,[o,a[1]],p,h,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=hr.sum(new Int32Array(this.getOddCounts())),a=hr.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,l=!1,u=!1;r?(i>12?o=!0:i<4&&(s=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?o=!0:i<5&&(s=!0),a>10?u=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),p=(a&1)===1;if(d===1)if(f){if(p)throw new Ie;o=!0}else{if(!p)throw new Ie;u=!0}else if(d===-1)if(f){if(p)throw new Ie;s=!0}else{if(!p)throw new Ie;l=!0}else if(d===0){if(f){if(!p)throw new Ie;i<a?(s=!0,u=!0):(o=!0,l=!0)}else if(p)throw new Ie}else throw new Ie;if(s){if(o)throw new Ie;yu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&yu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new Ie;yu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&yu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(yu),j$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),of=function(t){j$(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(qr.POSSIBLE_FORMATS):null,a=r&&r.get(qr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=r&&r.get(qr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(_t.EAN_13)||i.includes(_t.UPC_A)||i.includes(_t.EAN_8)||i.includes(_t.UPC_E))&&n.readers.push(new Yx(r)),i.includes(_t.CODE_39)&&n.readers.push(new oS(a,s)),i.includes(_t.CODE_93)&&n.readers.push(new lS),i.includes(_t.CODE_128)&&n.readers.push(new sS),i.includes(_t.ITF)&&n.readers.push(new cS),i.includes(_t.CODABAR)&&n.readers.push(new Zq),i.includes(_t.RSS_14)&&n.readers.push(new gS),i.includes(_t.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new S$))),n.readers.length===0&&(n.readers.push(new Yx(r)),n.readers.push(new oS),n.readers.push(new lS),n.readers.push(new Yx(r)),n.readers.push(new sS),n.readers.push(new cS),n.readers.push(new gS)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new Ie},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Kn),k$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){k$(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new of(n),r,n)||this}return e})(wh);var xS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yr=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),mr=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),I$=function(){function t(e,r,n,i,a,s){var o,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var p=xS(f),h=p.next();!h.done;h=p.next()){var g=h.value;u+=g.getCount()*(g.getDataCodewords()+d)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new Xe;try{for(var a=xS(t.VERSIONS),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Xe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new yr(5,new mr(1,3))),new t(2,12,12,10,10,new yr(7,new mr(1,5))),new t(3,14,14,12,12,new yr(10,new mr(1,8))),new t(4,16,16,14,14,new yr(12,new mr(1,12))),new t(5,18,18,16,16,new yr(14,new mr(1,18))),new t(6,20,20,18,18,new yr(18,new mr(1,22))),new t(7,22,22,20,20,new yr(20,new mr(1,30))),new t(8,24,24,22,22,new yr(24,new mr(1,36))),new t(9,26,26,24,24,new yr(28,new mr(1,44))),new t(10,32,32,14,14,new yr(36,new mr(1,62))),new t(11,36,36,16,16,new yr(42,new mr(1,86))),new t(12,40,40,18,18,new yr(48,new mr(1,114))),new t(13,44,44,20,20,new yr(56,new mr(1,144))),new t(14,48,48,22,22,new yr(68,new mr(1,174))),new t(15,52,52,24,24,new yr(42,new mr(2,102))),new t(16,64,64,14,14,new yr(56,new mr(2,140))),new t(17,72,72,16,16,new yr(36,new mr(4,92))),new t(18,80,80,18,18,new yr(48,new mr(4,114))),new t(19,88,88,20,20,new yr(56,new mr(4,144))),new t(20,96,96,22,22,new yr(68,new mr(4,174))),new t(21,104,104,24,24,new yr(56,new mr(6,136))),new t(22,120,120,18,18,new yr(68,new mr(6,175))),new t(23,132,132,20,20,new yr(62,new mr(8,163))),new t(24,144,144,22,22,new yr(62,new mr(8,156),new mr(2,155))),new t(25,8,18,6,16,new yr(7,new mr(1,5))),new t(26,8,32,6,14,new yr(11,new mr(1,10))),new t(27,12,26,10,24,new yr(14,new mr(1,16))),new t(28,12,36,10,16,new yr(18,new mr(1,22))),new t(29,16,36,14,16,new yr(24,new mr(1,32))),new t(30,16,48,14,22,new yr(28,new mr(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),T$=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new Xe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Io(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return I$.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,l=!1,u=!1,d=!1;do if(n===a&&i===0&&!o)e[r++]=this.readCorner1(a,s)&255,n-=2,i+=2,o=!0;else if(n===a-2&&i===0&&s&3&&!l)e[r++]=this.readCorner2(a,s)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(s&7)&&!u)e[r++]=this.readCorner3(a,s)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(a,s)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<s);if(r!==this.version.getTotalCodewords())throw new Xe;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Nt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=r/i|0,o=n/a|0,l=s*i,u=o*a,d=new Io(u,l),f=0;f<s;++f)for(var p=f*i,h=0;h<o;++h)for(var g=h*a,v=0;v<i;++v)for(var b=f*(i+2)+1+v,x=p+v,w=0;w<a;++w){var _=h*(a+2)+1+w;if(e.get(_,b)){var N=g+w;d.set(N,x)}}return d},t}(),yS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P$=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,s,o=r.getECBlocks(),l=0,u=o.getECBlocks();try{for(var d=yS(u),f=d.next();!f.done;f=d.next()){var p=f.value;l+=p.getCount()}}catch(B){n={error:B}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var h=new Array(l),g=0;try{for(var v=yS(u),b=v.next();!b.done;b=v.next())for(var p=b.value,x=0;x<p.getCount();x++){var w=p.getDataCodewords(),_=o.getECCodewords()+w;h[g++]=new t(w,new Uint8Array(_))}}catch(B){a={error:B}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}for(var N=h[0].codewords.length,k=N-o.getECCodewords(),D=k-1,T=0,x=0;x<D;x++)for(var R=0;R<g;R++)h[R].codewords[x]=e[T++];for(var P=r.getVersionNumber()===24,O=P?8:g,R=0;R<O;R++)h[R].codewords[k-1]=e[T++];for(var j=h[0].codewords.length,x=k;x<j;x++)for(var R=0;R<g;R++){var E=P?(R+8)%g:R,L=P&&E>7?x-1:x;h[E].codewords[L]=e[T++]}if(T!==e.length)throw new Nt;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),uI=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Nt(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,l=s-o,u=255>>8-o<<l;r=(a[i]&u)>>l,e-=o,n+=o,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Vn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vn||(Vn={}));var O$=function(){function t(){}return t.decode=function(e){var r=new uI(e),n=new Yt,i=new Yt,a=new Array,s=Vn.ASCII_ENCODE;do if(s===Vn.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case Vn.C40_ENCODE:this.decodeC40Segment(r,n);break;case Vn.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Vn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Vn.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Xe}s=Vn.ASCII_ENCODE}while(s!==Vn.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new d2(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Xe;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Vn.ASCII_ENCODE;if(a===129)return Vn.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&r.append("0"),r.append(""+s)}else switch(a){case 230:return Vn.C40_ENCODE;case 231:return Vn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Vn.ANSIX12_ENCODE;case 239:return Vn.TEXT_ENCODE;case 240:return Vn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Xe;break}}while(e.available()>0);return Vn.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Xe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Xe}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new Xe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Xe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Xe}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new Xe;break;default:throw new Xe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new Xe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new Xe;for(var o=new Uint8Array(s),l=0;l<s;l++){if(e.available()<8)throw new Xe;o[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(o);try{r.append(ss.decode(o,or.ISO88591))}catch(u){throw new up("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),R$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D$=function(){function t(){this.rsDecoder=new f2(da.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new T$(e),a=i.getVersion(),s=i.readCodewords(),o=P$.getDataBlocks(s,a),l=0;try{for(var u=R$(o),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var p=new Uint8Array(l),h=o.length,g=0;g<h;g++){var v=o[g],b=v.getCodewords(),x=v.getNumDataCodewords();this.correctErrors(b,x);for(var w=0;w<x;w++)p[w*h+g]=b[w]}return O$.decode(p)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),L$=function(){function t(e){this.image=e,this.rectangleDetector=new l5(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Ie;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(a,s)+1;(o&1)===1&&(o+=1),(l&1)===1&&(l+=1),4*o<7*l&&4*l<7*o&&(o=l=Math.max(o,l));var u=t.sampleGrid(this.image,n,i,a,s,o,l);return new k3(u,[n,i,a,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new ct(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new ct(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=s,f=[a,r,n,i];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=t.shiftPoint(n,i,(s+1)*4),l=t.shiftPoint(i,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(l,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(l,a),o=this.transitionsBetween(u,a);var d=new ct(a.getX()+(i.getX()-n.getX())/(s+1),a.getY()+(i.getY()-n.getY())/(s+1)),f=new ct(a.getX()+(r.getX()-n.getX())/(o+1),a.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var p=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),h=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return p>h?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a)+1,o=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,o*4),u=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(l,a)+1,o=this.transitionsBetween(u,a)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var p,h;return l=t.shiftPoint(r,n,o*4),l=t.shiftPoint(l,a,s*4),p=t.shiftPoint(n,r,o*4),p=t.shiftPoint(p,i,s*4),u=t.shiftPoint(i,a,o*4),u=t.shiftPoint(u,n,s*4),h=t.shiftPoint(a,i,o*4),h=t.shiftPoint(h,r,s*4),[l,p,u,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,s,o){var l=I3.getInstance();return l.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-i)>Math.abs(a-n);if(o){var l=n;n=i,i=l,l=a,a=s,s=l}for(var u=Math.abs(a-n),d=Math.abs(s-i),f=-u/2,p=i<s?1:-1,h=n<a?1:-1,g=0,v=this.image.get(o?i:n,o?n:i),b=n,x=i;b!==a;b+=h){var w=this.image.get(o?x:b,o?b:x);if(w!==v&&(g++,v=w),f+=d,f>0){if(x===s)break;x+=p,f-=u}}return g},t}(),sg=function(){function t(){this.decoder=new D$}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(qr.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var s=new L$(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var o=n.getRawBytes(),l=new Mi(n.getText(),o,8*o.length,i,_t.DATA_MATRIX,Vr.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(wi.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(wi.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new Ie;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],l=n[0],u=(l-o+1)/i,d=(s-a+1)/i;if(u<=0||d<=0)throw new Ie;var f=i/2;a+=f,o+=f;for(var p=new Io(u,d),h=0;h<d;h++)for(var g=a+h*i,v=0;v<u;v++)e.get(o+v*i,g)&&p.set(v,h);return p},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new Ie;var s=i-e[0];if(s===0)throw new Ie;return s},t.NO_POINTS=[],t}(),M$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){M$(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new sg,r)||this}return e})(wh);var lf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(lf||(lf={}));var F$=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new _n(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Nt;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(lf.L,"L",1),t.M=new t(lf.M,"M",0),t.Q=new t(lf.Q,"Q",3),t.H=new t(lf.H,"H",2),t}(),B$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dI=function(){function t(e){this.errorCorrectionLevel=F$.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Kt.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=B$(t.FORMAT_INFO_DECODE_LOOKUP),l=o.next();!l.done;l=o.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(s=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(s=u[1],a=f))}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),U$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ye=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=U$(i),s=a.next();!s.done;s=a.next()){var o=s.value;n+=o.getCount()}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),X=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),z$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zu=function(){function t(e,r){for(var n,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var o=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=z$(u),f=d.next();!f.done;f=d.next()){var p=f.value;o+=p.getCount()*(p.getDataCodewords()+l)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Xe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Xe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Nt;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var s=dI.numBitsDiffering(e,a);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Io(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new ye(7,new X(1,19)),new ye(10,new X(1,16)),new ye(13,new X(1,13)),new ye(17,new X(1,9))),new t(2,Int32Array.from([6,18]),new ye(10,new X(1,34)),new ye(16,new X(1,28)),new ye(22,new X(1,22)),new ye(28,new X(1,16))),new t(3,Int32Array.from([6,22]),new ye(15,new X(1,55)),new ye(26,new X(1,44)),new ye(18,new X(2,17)),new ye(22,new X(2,13))),new t(4,Int32Array.from([6,26]),new ye(20,new X(1,80)),new ye(18,new X(2,32)),new ye(26,new X(2,24)),new ye(16,new X(4,9))),new t(5,Int32Array.from([6,30]),new ye(26,new X(1,108)),new ye(24,new X(2,43)),new ye(18,new X(2,15),new X(2,16)),new ye(22,new X(2,11),new X(2,12))),new t(6,Int32Array.from([6,34]),new ye(18,new X(2,68)),new ye(16,new X(4,27)),new ye(24,new X(4,19)),new ye(28,new X(4,15))),new t(7,Int32Array.from([6,22,38]),new ye(20,new X(2,78)),new ye(18,new X(4,31)),new ye(18,new X(2,14),new X(4,15)),new ye(26,new X(4,13),new X(1,14))),new t(8,Int32Array.from([6,24,42]),new ye(24,new X(2,97)),new ye(22,new X(2,38),new X(2,39)),new ye(22,new X(4,18),new X(2,19)),new ye(26,new X(4,14),new X(2,15))),new t(9,Int32Array.from([6,26,46]),new ye(30,new X(2,116)),new ye(22,new X(3,36),new X(2,37)),new ye(20,new X(4,16),new X(4,17)),new ye(24,new X(4,12),new X(4,13))),new t(10,Int32Array.from([6,28,50]),new ye(18,new X(2,68),new X(2,69)),new ye(26,new X(4,43),new X(1,44)),new ye(24,new X(6,19),new X(2,20)),new ye(28,new X(6,15),new X(2,16))),new t(11,Int32Array.from([6,30,54]),new ye(20,new X(4,81)),new ye(30,new X(1,50),new X(4,51)),new ye(28,new X(4,22),new X(4,23)),new ye(24,new X(3,12),new X(8,13))),new t(12,Int32Array.from([6,32,58]),new ye(24,new X(2,92),new X(2,93)),new ye(22,new X(6,36),new X(2,37)),new ye(26,new X(4,20),new X(6,21)),new ye(28,new X(7,14),new X(4,15))),new t(13,Int32Array.from([6,34,62]),new ye(26,new X(4,107)),new ye(22,new X(8,37),new X(1,38)),new ye(24,new X(8,20),new X(4,21)),new ye(22,new X(12,11),new X(4,12))),new t(14,Int32Array.from([6,26,46,66]),new ye(30,new X(3,115),new X(1,116)),new ye(24,new X(4,40),new X(5,41)),new ye(20,new X(11,16),new X(5,17)),new ye(24,new X(11,12),new X(5,13))),new t(15,Int32Array.from([6,26,48,70]),new ye(22,new X(5,87),new X(1,88)),new ye(24,new X(5,41),new X(5,42)),new ye(30,new X(5,24),new X(7,25)),new ye(24,new X(11,12),new X(7,13))),new t(16,Int32Array.from([6,26,50,74]),new ye(24,new X(5,98),new X(1,99)),new ye(28,new X(7,45),new X(3,46)),new ye(24,new X(15,19),new X(2,20)),new ye(30,new X(3,15),new X(13,16))),new t(17,Int32Array.from([6,30,54,78]),new ye(28,new X(1,107),new X(5,108)),new ye(28,new X(10,46),new X(1,47)),new ye(28,new X(1,22),new X(15,23)),new ye(28,new X(2,14),new X(17,15))),new t(18,Int32Array.from([6,30,56,82]),new ye(30,new X(5,120),new X(1,121)),new ye(26,new X(9,43),new X(4,44)),new ye(28,new X(17,22),new X(1,23)),new ye(28,new X(2,14),new X(19,15))),new t(19,Int32Array.from([6,30,58,86]),new ye(28,new X(3,113),new X(4,114)),new ye(26,new X(3,44),new X(11,45)),new ye(26,new X(17,21),new X(4,22)),new ye(26,new X(9,13),new X(16,14))),new t(20,Int32Array.from([6,34,62,90]),new ye(28,new X(3,107),new X(5,108)),new ye(26,new X(3,41),new X(13,42)),new ye(30,new X(15,24),new X(5,25)),new ye(28,new X(15,15),new X(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new ye(28,new X(4,116),new X(4,117)),new ye(26,new X(17,42)),new ye(28,new X(17,22),new X(6,23)),new ye(30,new X(19,16),new X(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new ye(28,new X(2,111),new X(7,112)),new ye(28,new X(17,46)),new ye(30,new X(7,24),new X(16,25)),new ye(24,new X(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new ye(30,new X(4,121),new X(5,122)),new ye(28,new X(4,47),new X(14,48)),new ye(30,new X(11,24),new X(14,25)),new ye(30,new X(16,15),new X(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new ye(30,new X(6,117),new X(4,118)),new ye(28,new X(6,45),new X(14,46)),new ye(30,new X(11,24),new X(16,25)),new ye(30,new X(30,16),new X(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new ye(26,new X(8,106),new X(4,107)),new ye(28,new X(8,47),new X(13,48)),new ye(30,new X(7,24),new X(22,25)),new ye(30,new X(22,15),new X(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new ye(28,new X(10,114),new X(2,115)),new ye(28,new X(19,46),new X(4,47)),new ye(28,new X(28,22),new X(6,23)),new ye(30,new X(33,16),new X(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new ye(30,new X(8,122),new X(4,123)),new ye(28,new X(22,45),new X(3,46)),new ye(30,new X(8,23),new X(26,24)),new ye(30,new X(12,15),new X(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new ye(30,new X(3,117),new X(10,118)),new ye(28,new X(3,45),new X(23,46)),new ye(30,new X(4,24),new X(31,25)),new ye(30,new X(11,15),new X(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new ye(30,new X(7,116),new X(7,117)),new ye(28,new X(21,45),new X(7,46)),new ye(30,new X(1,23),new X(37,24)),new ye(30,new X(19,15),new X(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new ye(30,new X(5,115),new X(10,116)),new ye(28,new X(19,47),new X(10,48)),new ye(30,new X(15,24),new X(25,25)),new ye(30,new X(23,15),new X(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new ye(30,new X(13,115),new X(3,116)),new ye(28,new X(2,46),new X(29,47)),new ye(30,new X(42,24),new X(1,25)),new ye(30,new X(23,15),new X(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new ye(30,new X(17,115)),new ye(28,new X(10,46),new X(23,47)),new ye(30,new X(10,24),new X(35,25)),new ye(30,new X(19,15),new X(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new ye(30,new X(17,115),new X(1,116)),new ye(28,new X(14,46),new X(21,47)),new ye(30,new X(29,24),new X(19,25)),new ye(30,new X(11,15),new X(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new ye(30,new X(13,115),new X(6,116)),new ye(28,new X(14,46),new X(23,47)),new ye(30,new X(44,24),new X(7,25)),new ye(30,new X(59,16),new X(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new ye(30,new X(12,121),new X(7,122)),new ye(28,new X(12,47),new X(26,48)),new ye(30,new X(39,24),new X(14,25)),new ye(30,new X(22,15),new X(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new ye(30,new X(6,121),new X(14,122)),new ye(28,new X(6,47),new X(34,48)),new ye(30,new X(46,24),new X(10,25)),new ye(30,new X(2,15),new X(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new ye(30,new X(17,122),new X(4,123)),new ye(28,new X(29,46),new X(14,47)),new ye(30,new X(49,24),new X(10,25)),new ye(30,new X(24,15),new X(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new ye(30,new X(4,122),new X(18,123)),new ye(28,new X(13,46),new X(32,47)),new ye(30,new X(48,24),new X(14,25)),new ye(30,new X(42,15),new X(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new ye(30,new X(20,117),new X(4,118)),new ye(28,new X(40,47),new X(7,48)),new ye(30,new X(43,24),new X(22,25)),new ye(30,new X(10,15),new X(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new ye(30,new X(19,118),new X(6,119)),new ye(28,new X(18,47),new X(31,48)),new ye(30,new X(34,24),new X(34,25)),new ye(30,new X(20,15),new X(61,16)))],t}(),ti;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(ti||(ti={}));var wS=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[ti.DATA_MASK_000,new t(ti.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[ti.DATA_MASK_001,new t(ti.DATA_MASK_001,function(e,r){return(e&1)===0})],[ti.DATA_MASK_010,new t(ti.DATA_MASK_010,function(e,r){return r%3===0})],[ti.DATA_MASK_011,new t(ti.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[ti.DATA_MASK_100,new t(ti.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[ti.DATA_MASK_101,new t(ti.DATA_MASK_101,function(e,r){return e*r%6===0})],[ti.DATA_MASK_110,new t(ti.DATA_MASK_110,function(e,r){return e*r%6<3})],[ti.DATA_MASK_111,new t(ti.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),V$=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Xe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,n=i-1;n>=s;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=dI.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Xe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return zu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,a,n);var o=zu.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);if(o=zu.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new Xe},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=wS.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var p=0;p<i;p++)for(var h=s?i-1-p:p,g=0;g<2;g++)a.get(f-g,h)||(d++,u<<=1,this.bitMatrix.get(f-g,h)&&(u|=1),d===8&&(o[l++]=u,d=0,u=0));s=!s}if(l!==r.getTotalCodewords())throw new Xe;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=wS.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),bS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q$=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,s,o;if(e.length!==r.getTotalCodewords())throw new Nt;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=bS(d),p=f.next();!p.done;p=f.next()){var h=p.value;u+=h.getCount()}}catch(L){i={error:L}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var g=new Array(u),v=0;try{for(var b=bS(d),x=b.next();!x.done;x=b.next())for(var h=x.value,w=0;w<h.getCount();w++){var _=h.getDataCodewords(),N=l.getECCodewordsPerBlock()+_;g[v++]=new t(_,new Uint8Array(N))}}catch(L){s={error:L}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}for(var k=g[0].codewords.length,D=g.length-1;D>=0;){var T=g[D].codewords.length;if(T===k)break;D--}D++;for(var R=k-l.getECCodewordsPerBlock(),P=0,w=0;w<R;w++)for(var O=0;O<v;O++)g[O].codewords[w]=e[P++];for(var O=D;O<v;O++)g[O].codewords[R]=e[P++];for(var j=g[0].codewords.length,w=R;w<j;w++)for(var O=0;O<v;O++){var E=O<D?w:w+1;g[O].codewords[E]=e[P++]}return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ya;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ya||(Ya={}));var Xr=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Nt;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ya.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ya.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ya.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ya.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ya.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ya.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ya.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ya.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ya.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ya.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),$$=function(){function t(){}return t.decode=function(e,r,n,i){var a=new uI(e),s=new Yt,o=new Array,l=-1,u=-1;try{var d=null,f=!1,p=void 0;do{if(a.available()<4)p=Xr.TERMINATOR;else{var h=a.readBits(4);p=Xr.forBits(h)}switch(p){case Xr.TERMINATOR:break;case Xr.FNC1_FIRST_POSITION:case Xr.FNC1_SECOND_POSITION:f=!0;break;case Xr.STRUCTURED_APPEND:if(a.available()<16)throw new Xe;l=a.readBits(8),u=a.readBits(8);break;case Xr.ECI:var g=t.parseECIValue(a);if(d=Xn.getCharacterSetECIByValue(g),d===null)throw new Xe;break;case Xr.HANZI:var v=a.readBits(4),b=a.readBits(p.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(a,s,b);break;default:var x=a.readBits(p.getCharacterCountBits(r));switch(p){case Xr.NUMERIC:t.decodeNumericSegment(a,s,x);break;case Xr.ALPHANUMERIC:t.decodeAlphanumericSegment(a,s,x,f);break;case Xr.BYTE:t.decodeByteSegment(a,s,x,d,o,i);break;case Xr.KANJI:t.decodeKanjiSegment(a,s,x);break;default:throw new Xe}break}}while(p!==Xr.TERMINATOR)}catch{throw new Xe}return new d2(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Xe;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,i[a]=o>>8&255,i[a+1]=o&255,a+=2,n--}try{r.append(ss.decode(i,or.GB2312))}catch(l){throw new Xe(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Xe;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,i[a]=o>>8,i[a+1]=o,a+=2,n--}try{r.append(ss.decode(i,or.SHIFT_JIS))}catch(l){throw new Xe(l)}},t.decodeByteSegment=function(e,r,n,i,a,s){if(8*n>e.available())throw new Xe;for(var o=new Uint8Array(n),l=0;l<n;l++)o[l]=e.readBits(8);var u;i===null?u=or.guessEncoding(o,s):u=i.getName();try{r.append(ss.decode(o,u))}catch(d){throw new Xe(d)}a.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Xe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Xe;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new Xe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=a;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Xe;var i=e.readBits(10);if(i>=1e3)throw new Xe;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Xe;var a=e.readBits(7);if(a>=100)throw new Xe;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Xe;var s=e.readBits(4);if(s>=10)throw new Xe;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Xe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),fI=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),_S=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H$=function(){function t(){this.rsDecoder=new f2(da.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Io.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new V$(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new fI(!0)),a}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,s,o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=q$.getDataBlocks(u,o,l),f=0;try{for(var p=_S(d),h=p.next();!h.done;h=p.next()){var g=h.value;f+=g.getNumDataCodewords()}}catch(D){n={error:D}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var v=new Uint8Array(f),b=0;try{for(var x=_S(d),w=x.next();!w.done;w=x.next()){var g=w.value,_=g.getCodewords(),N=g.getNumDataCodewords();this.correctErrors(_,N);for(var k=0;k<N;k++)v[b++]=_[k]}}catch(D){a={error:D}}finally{try{w&&!w.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}return $$.decode(v,o,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Rn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),W$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G$=function(t){W$(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+i)/2;return new e(a,s,o)},e}(ct),X$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y$=function(){function t(e,r,n,i,a,s,o){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,s=new Int32Array(3),o=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<i&&!o.get(d,u);)d++;for(var f=0;d<i;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var p=this.handlePossibleCenter(s,u,d);if(p!==null)return p}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var p=this.handlePossibleCenter(s,u,i);if(p!==null)return p}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ie},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,s=a.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;l>=0&&a.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(r,l)&&o[1]<=n;)o[1]++,l++;if(l===s||o[1]>n)return NaN;for(;l<s&&!a.get(r,l)&&o[2]<=n;)o[2]++,l++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=X$(this.possibleCenters),f=d.next();!f.done;f=d.next()){var p=f.value;if(p.aboutEquals(u,l,o))return p.combineEstimate(l,o,u)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var h=new G$(o,l,u);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),Z$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K$=function(t){Z$(e,t);function e(r,n,i,a){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,s=(this.count*this.getX()+n)/a,o=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(s,o,l,a)},e}(ct),Q$=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),d1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J$=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(qr.TRY_HARDER)!==void 0,n=e!=null&&e.get(qr.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),o=Math.floor(3*a/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=o-1;d<a&&!l;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,p=0;p<s;p++)if(i.get(p,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var h=this.handlePossibleCenter(u,d,p,n);if(h===!0)if(o=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>u[2]&&(d+=g-u[2]-o,p=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var h=this.handlePossibleCenter(u,d,s,n);h===!0&&(o=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return ct.orderBestPatterns(v),new Q$(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)a[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&a[1]<=n;)a[1]++,s++;if(e<s||r<s||a[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&a[0]<=n;)a[0]++,s++;if(a[0]>n)return!1;var l=o.getHeight(),u=o.getWidth();for(s=1;e+s<l&&r+s<u&&o.get(r+s,e+s);)a[2]++,s++;if(e+s>=l||r+s>=u)return!1;for(;e+s<l&&r+s<u&&!o.get(r+s,e+s)&&a[3]<n;)a[3]++,s++;if(e+s>=l||r+s>=u||a[3]>=n)return!1;for(;e+s<l&&r+s<u&&o.get(r+s,e+s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,s=a.getHeight(),o=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(r,l);)o[2]++,l++;if(l===s)return NaN;for(;l<s&&!a.get(r,l)&&o[3]<n;)o[3]++,l++;if(l===s||o[3]>=n)return NaN;for(;l<s&&a.get(r,l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,s=a.getWidth(),o=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(l,r);)o[2]++,l++;if(l===s)return NaN;for(;l<s&&!a.get(l,r)&&o[3]<n;)o[3]++,l++;if(l===s||o[3]>=n)return NaN;for(;l<s&&a.get(l,r)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],a);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],a)))){for(var l=a/7,u=!1,d=this.possibleCenters,f=0,p=d.length;f<p;f++){var h=d[f];if(h.aboutEquals(l,o,s)){d[f]=h.combineEstimate(o,s,l),u=!0;break}}if(!u){var g=new K$(s,o,l);d.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=d1(this.possibleCenters),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,s=0,o=this.possibleCenters.length;try{for(var l=d1(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,s+=d.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=s/o,p=0;try{for(var h=d1(this.possibleCenters),g=h.next();!g.done;g=h.next()){var d=g.value;p+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(v){n={error:v}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return p<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new Ie;var s=this.possibleCenters,o;if(a>3){var l=0,u=0;try{for(var d=d1(this.possibleCenters),f=d.next();!f.done;f=d.next()){var p=f.value,h=p.getEstimatedModuleSize();l+=h,u+=h*h}}catch(k){e={error:k}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=l/a;var g=Math.sqrt(u/a-o*o);s.sort(function(k,D){var T=Math.abs(D.getEstimatedModuleSize()-o),R=Math.abs(k.getEstimatedModuleSize()-o);return T<R?-1:T>R?1:0});for(var v=Math.max(.2*o,g),b=0;b<s.length&&s.length>3;b++){var x=s[b];Math.abs(x.getEstimatedModuleSize()-o)>v&&(s.splice(b,1),b--)}}if(s.length>3){var l=0;try{for(var w=d1(s),_=w.next();!_.done;_=w.next()){var N=_.value;l+=N.getEstimatedModuleSize()}}catch(D){n={error:D}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}o=l/s.length,s.sort(function(D,T){if(T.getCount()===D.getCount()){var R=Math.abs(T.getEstimatedModuleSize()-o),P=Math.abs(D.getEstimatedModuleSize()-o);return R<P?1:R>P?-1:0}else return T.getCount()-D.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),eH=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(qr.NEED_RESULT_POINT_CALLBACK);var r=new J$(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Ie("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,a),o=zu.getProvisionalVersionForDimension(s),l=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),p=1-3/l,h=Math.floor(r.getX()+p*(d-r.getX())),g=Math.floor(r.getY()+p*(f-r.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(a,h,g,v);break}catch(_){if(!(_ instanceof Ie))throw _}var b=t.createTransform(r,n,i,u,s),x=t.sampleGrid(this.image,b,s),w;return u===null?w=[i,r,n]:w=[i,r,n,u],new k3(x,w)},t.createTransform=function(e,r,n,i,a){var s=a-3.5,o,l,u,d;return i!==null?(o=i.getX(),l=i.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=s,d=s),sI.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=I3.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=hr.round(ct.distance(e,r)/i),s=hr.round(ct.distance(e,n)/i),o=Math.floor((a+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new Ie("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*s);return s=1,l<0?(s=r/(r-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,r,o,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var s=e;e=r,r=s,s=n,n=i,i=s}for(var o=Math.abs(n-e),l=Math.abs(i-r),u=-o/2,d=e<n?1:-1,f=r<i?1:-1,p=0,h=n+d,g=e,v=r;g!==h;g+=d){var b=a?v:g,x=a?g:v;if(p===1===this.image.get(b,x)){if(p===2)return hr.distance(g,v,e,r);p++}if(u+=l,u>0){if(v===i)break;v+=f,u-=o}}return p===2?hr.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),s=Math.max(0,r-a),o=Math.min(this.image.getWidth()-1,r+a);if(o-s<e*3)throw new Ie("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new Ie("Alignment bottom exceeds estimated module size.");var d=new Y$(this.image,s,l,o-s,u-l,e,this.resultPointCallback);return d.find()},t}(),og=function(){function t(){this.decoder=new H$}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(qr.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var s=new eH(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof fI&&n.getOther().applyMirroredCorrection(i);var o=new Mi(n.getText(),n.getRawBytes(),void 0,i,_t.QR_CODE,void 0),l=n.getByteSegments();l!==null&&o.putMetadata(wi.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&o.putMetadata(wi.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(wi.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(wi.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new Ie;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],l=n[0];if(o>=l||a>=s)throw new Ie;if(s-a!==l-o&&(l=o+(s-a),l>=e.getWidth()))throw new Ie;var u=Math.round((l-o+1)/i),d=Math.round((s-a+1)/i);if(u<=0||d<=0)throw new Ie;if(d!==u)throw new Ie;var f=Math.floor(i/2);a+=f,o+=f;var p=o+Math.floor((u-1)*i)-l;if(p>0){if(p>f)throw new Ie;o-=p}var h=a+Math.floor((d-1)*i)-s;if(h>0){if(h>f)throw new Ie;a-=h}for(var g=new Io(u,d),v=0;v<d;v++)for(var b=a+Math.floor(v*i),x=0;x<u;x++)e.get(o+Math.floor(x*i),b)&&g.set(x,v);return g},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],s=e[1],o=!0,l=0;a<i&&s<n;){if(o!==r.get(a,s)){if(++l===5)break;o=!o}a++,s++}if(a===i||s===n)throw new Ie;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),tH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dr=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return hr.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=tH(e),o=s.next();!o.done;o=s.next()){var l=o.value;i[a++]=l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Yn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),rH=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),nH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iH=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new rH(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,s=0,o=0,l=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;try{for(var d=(n=void 0,nH(a)),f=d.next();!f.done;f=d.next()){var p=f.value;p[1]!=null&&(s=Math.trunc(Math.max(s,p[1].getY()))),p[3]!=null&&(s=Math.max(s,Math.trunc(p[3].getY())))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,s){for(var o=new Array(4),l=!1,u=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,s,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,s,u);if(f!=null)d=f;else{i++;break}}o[0]=new ct(d[0],i),o[1]=new ct(d[1],i),l=!0;break}}var p=i+1;if(l){for(var h=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);p<r;p++){var d=t.findGuardPattern(e,f[0],p,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}p-=h+1,o[2]=new ct(f[0],p),o[3]=new ct(f[1],p)}return p-i<t.BARCODE_MIN_HEIGHT&&Yn.fill(o,null),o},t.findGuardPattern=function(e,r,n,i,a,s,o){Yn.fillWithin(o,0,o.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,p=s.length,h=a;d<i;d++){var g=e.get(d,n);if(g!==h)o[f]++;else{if(f===p-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=o[0]+o[1],Vr.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,h=!h}}return f===p-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return 1/0;var l=a/s;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],p=r[d]*l,h=f>p?f-p:p-f;if(h>n)return 1/0;u+=h}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),aH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cu=function(){function t(e,r){if(r.length===0)throw new Nt;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Vr.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=aH(this.coefficients),s=a.next();!s.done;s=a.next()){var o=s.value;i=this.field.add(i,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Vr.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=this.field.add(r[o-s],n[o]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Nt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=0;o<n;o++)for(var l=r[o],u=0;u<a;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(l,i[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Nt;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Yt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),sH=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Nt;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new aI;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),oH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lH=function(t){oH(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,s=0;s<r;s++)i.expTable[s]=a,a=a*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Cu(i,new Int32Array([0])),i.one=new Cu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Nt;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Cu(this,i)},e.PDF417_GF=new e(dr.NUMBER_OF_CODEWORDS,3),e}(sH),cH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uH=function(){function t(){this.field=lH.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,s=new Cu(this.field,e),o=new Int32Array(r),l=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var p=cH(n),h=p.next();!h.done;h=p.next()){var g=h.value,v=this.field.exp(e.length-1-g),b=new Cu(this.field,new Int32Array([this.field.subtract(0,v),1]));f=f.multiply(b)}}catch(R){i={error:R}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}for(var x=new Cu(this.field,o),w=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),_=w[0],N=w[1],k=this.findErrorLocations(_),D=this.findErrorMagnitudes(N,_,k),u=0;u<k.length;u++){var T=e.length-1-this.field.log(k[u]);if(T<0)throw Rn.getChecksumInstance();e[T]=this.field.subtract(e[T],D[u])}return k.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,s=r,o=this.field.getZero(),l=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=a,d=o;if(a=s,o=l,a.isZero())throw Rn.getChecksumInstance();s=u;for(var f=this.field.getZero(),p=a.getCoefficient(a.getDegree()),h=this.field.inverse(p);s.getDegree()>=a.getDegree()&&!s.isZero();){var g=s.getDegree()-a.getDegree(),v=this.field.multiply(s.getCoefficient(s.getDegree()),h);f=f.add(this.field.buildMonomial(g,v)),s=s.subtract(a.multiplyByMonomial(g,v))}l=f.multiply(o).subtract(d).negative()}var b=l.getCoefficient(0);if(b===0)throw Rn.getChecksumInstance();var x=this.field.inverse(b),w=l.multiply(x),_=s.multiply(x);return[w,_]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Rn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new Cu(this.field,a),l=n.length,u=new Int32Array(l),s=0;s<l;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),p=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,p)}return u},t}(),u5=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var s=r==null||n==null,o=i==null||a==null;if(s&&o)throw new Ie;s?(r=new ct(0,i.getY()),n=new ct(0,a.getY())):o&&(i=new ct(e.getWidth()-1,r.getY()),a=new ct(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new ct(l.getX(),u);n?i=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,p=Math.trunc(f.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);var h=new ct(f.getX(),p);n?a=h:o=h}return new t(this.image,i,a,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),dH=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),P3=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,o,l,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var p=d?parseInt(d.substr(1)):void 0,h;switch(f){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(s);break;case"p":h=parseFloat(r[n]).toPrecision(s);break;case"e":h=parseFloat(r[n]).toExponential(s);break;case"x":h=parseInt(r[n]).toString(p||16);break;case"d":h=parseFloat(parseInt(r[n],p||10).toPrecision(s)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(p);for(var g=parseInt(l),v=l&&l[0]+""=="0"?"0":" ";h.length<g;)h=o!==void 0?h+v:v+h;return h}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),fH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hI=function(){function t(e){this.boundingBox=new u5(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new P3,i=0;try{for(var a=fH(this.codewords),s=a.next();!s.done;s=a.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),hH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pH=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},C1=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,p){var h={getKey:function(){return f},getValue:function(){return p}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var s=hH(this.values.entries()),o=s.next();!o.done;o=s.next()){var l=pH(o.value,2),u=l[0],d=l[1];a(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return dr.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),mH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NS=function(t){mH(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Kx(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,p=o;p<l;p++)if(n[p]!=null){var h=n[p],g=h.getRowNumber()-u;if(g===0)f++;else if(g===1)d=Math.max(d,f),f=1,u=h.getRowNumber();else if(g<0||h.getRowNumber()>=r.getRowCount()||g>p)n[p]=null;else{var v=void 0;d>2?v=(d-2)*g:v=g;for(var b=v>=p,x=1;x<=v&&!b;x++)b=n[p-x]!=null;b?n[p]=null:(u=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Kx(this.getCodewords()),o=s.next();!o.done;o=s.next()){var l=o.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,d=s;d<o;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var p=f.getRowNumber()-u;p===0||(p===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new C1,s=new C1,o=new C1,l=new C1;try{for(var u=Kx(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var p=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:s.setValue(p*3+1);break;case 1:l.setValue(p/3),o.setValue(p%3);break;case 2:a.setValue(p+1);break}}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<dr.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>dr.MAX_ROWS_IN_BARCODE)return null;var g=new dH(a.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var s=a.getValue()%30,o=a.getRowNumber();if(o>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(hI),vH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gH=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=dr.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=l[r+2]);try{for(var d=vH(u),f=d.next();!f.done;f=d.next()){var p=f.value;if(t.adjustRowNumber(s,p))return}}catch(h){i={error:h}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new P3,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),xH=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),yH=function(){function t(){}return t.initialize=function(){for(var e=0;e<dr.SYMBOL_TABLE.length;e++)for(var r=dr.SYMBOL_TABLE[e],n=r&1,i=0;i<dr.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(dr.BARS_IN_MODULE)),t.RATIOS_TABLE[e][dr.BARS_IN_MODULE-i-1]=Math.fround(a/dr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=hr.sum(e),n=new Int32Array(dr.BARS_IN_MODULE),i=0,a=0,s=0;s<dr.MODULES_IN_CODEWORD;s++){var o=r/(2*dr.MODULES_IN_CODEWORD)+s*r/dr.MODULES_IN_CODEWORD;a+e[i]<=o&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return dr.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=hr.sum(e),n=new Array(dr.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=o5.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var l=0,u=t.RATIOS_TABLE[o],d=0;d<dr.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,s=dr.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(dr.SYMBOL_TABLE.length).map(function(e){return new Array(dr.BARS_IN_MODULE)}),t}(),wH=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),SS=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),bH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_H=function(t){bH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(ga),NH=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new _H;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new j3;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),SH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AH=function(t){SH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ga),CH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EH=function(t){CH(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Nt("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new AH;i=Kt.MAX_VALUE}this.buf=Yn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new j3;this.ensureCapacity(this.count+i),Vr.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Yn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(NH),Tr;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tr||(Tr={}));function pI(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var bm;function Zl(t){if(typeof bm>"u"&&(bm=pI()),bm===null)throw new Error("BigInt is not supported!");return bm(t)}function jH(){var t=[];t[0]=Zl(1);var e=Zl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var kH=function(){function t(){}return t.decode=function(e,r){var n=new Yt(""),i=Xn.ISO8859_1;n.enableDecoding(i);for(var a=1,s=e[a++],o=new wH;a<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(s,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Xn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Xe;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)s=e[a++];else throw Xe.getFormatInstance()}if(n.length()===0)throw Xe.getFormatInstance();var l=new d2(null,n.toString(),null,r);return l.setOther(o),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Xe.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Kt.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Yt;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Yt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Yt;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Yt;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Yt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(Kt.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var p=new Yt;r=t.numericCompaction(e,r+1,p),n.setTimestamp(SS.parseLong(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Yt;r=t.numericCompaction(e,r+1,h),n.setChecksum(Kt.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Yt;r=t.numericCompaction(e,r+1,g),n.setFileSize(SS.parseLong(g.toString()));break;default:throw Xe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Xe.getFormatInstance()}if(o!==-1){var v=r-o;n.isLastSegment()&&v--,n.setOptionalData(Yn.copyOfRange(e,o,o+v))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[s]=l,s++;break}}return t.decodeTextCompaction(i,a,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Tr.ALPHA,s=Tr.ALPHA,o=0;o<n;){var l=e[o],u="";switch(a){case Tr.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=Tr.LOWER;break;case t.ML:a=Tr.MIXED;break;case t.PS:s=a,a=Tr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break;case Tr.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:s=a,a=Tr.ALPHA_SHIFT;break;case t.ML:a=Tr.MIXED;break;case t.PS:s=a,a=Tr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break;case Tr.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Tr.PUNCT;break;case 26:u=" ";break;case t.LL:a=Tr.LOWER;break;case t.AL:a=Tr.ALPHA;break;case t.PS:s=a,a=Tr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break;case Tr.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Tr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break;case Tr.ALPHA_SHIFT:if(a=s,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break;case Tr.PUNCT_SHIFT:if(a=s,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Tr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Tr.ALPHA;break}break}u!==""&&i.append(u),o++}},t.byteCompaction=function(e,r,n,i,a){var s=new EH,o=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[o++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(o%5===0&&o>0){for(var p=0;p<6;++p)s.write(Number(Zl(l)>>Zl(8*(5-p))));l=0,o=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var h=0;h<o;h++)s.write(d[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var g=r[i++];if(g<t.TEXT_COMPACTION_MODE_LATCH)o++,l=900*l+g;else switch(g){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(o%5===0&&o>0){for(var p=0;p<6;++p)s.write(Number(Zl(l)>>Zl(8*(5-p))));l=0,o=0}}break}return a.append(ss.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var o=e[r++];if(r===e[0]&&(a=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[i]=o,i++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Zl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Zl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Xe;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=pI()?jH():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),f1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IH=function(){function t(){}return t.decode=function(e,r,n,i,a,s,o){for(var l=new u5(e,r,n,i,a),u=null,d=null,f,p=!0;;p=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,s,o)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,s,o)),f=t.merge(u,d),f==null)throw Ie.getNotFoundInstance();var h=f.getBoundingBox();if(p&&h!=null&&(h.getMinY()<l.getMinY()||h.getMaxY()>l.getMaxY()))l=h;else break}f.setBoundingBox(l);var g=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(g,d);for(var v=u!=null,b=1;b<=g;b++){var x=v?b:g-b;if(f.getDetectionResultColumn(x)===void 0){var w=void 0;x===0||x===g?w=new NS(l,x===0):w=new hI(l),f.setDetectionResultColumn(x,w);for(var _=-1,N=_,k=l.getMinY();k<=l.getMaxY();k++){if(_=t.getStartColumn(f,x,k,v),_<0||_>l.getMaxX()){if(N===-1)continue;_=N}var D=t.detectCodeword(e,l.getMinX(),l.getMaxX(),v,_,k,s,o);D!=null&&(w.setCodeword(k,D),N=_,s=Math.min(s,D.getWidth()),o=Math.max(o,D.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=u5.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new gH(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),s=0;try{for(var o=f1(i),l=o.next();!l.done;l=o.next()){var u=l.value;if(s+=a-u,u>0)break}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var p=0,f=i.length-1;f>=0&&(p+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;p>0&&d[f]==null;f--)p--;return e.getBoundingBox().addMissingRows(s,p,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=f1(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=Math.max(i,o)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,s){for(var o=new NS(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var p=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,s);p!=null&&(o.setCodeword(f,p),i?d=p.getStartX():d=p.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>dr.MAX_CODEWORDS_IN_BARCODE)throw Ie.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[o][l+1].getValue(),d=o*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(s.push(d),a.push(u))}for(var f=new Array(a.length),p=0;p<f.length;p++)f[p]=a[p];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,dr.toIntArray(n),dr.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var s=new Int32Array(i.length),o=100;o-- >0;){for(var l=0;l<s.length;l++)r[i[l]]=a[l][s[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof Rn;if(!u)throw d}if(s.length===0)throw Rn.getChecksumInstance();for(var l=0;l<s.length;l++)if(s[l]<a[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw Rn.getChecksumInstance()}throw Rn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var l=0;l<s[o].length;l++)s[o][l]=new C1;var u=0;try{for(var d=f1(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var p=f.value;if(p!=null)try{for(var h=(i=void 0,f1(p.getCodewords())),g=h.next();!g.done;g=h.next()){var v=g.value;if(v!=null){var b=v.getRowNumber();if(b>=0){if(b>=s.length)continue;s[b][u].setValue(v.getValue())}}}}catch(x){i={error:x}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,s,o=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(a=void 0,f1(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var p=f.value;if(p!=null)return(i?p.getEndX():p.getStartX())+o*u*(p.getEndX()-p.getStartX())}}catch(h){a={error:h}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,s,o,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,s);var u=t.getModuleBitCount(e,r,n,i,a,s);if(u==null)return null;var d,f=hr.sum(u);if(i)d=a+f;else{for(var p=0;p<u.length/2;p++){var h=u[p];u[p]=u[u.length-1-p],u[u.length-1-p]=h}d=a,a=d-f}if(!t.checkCodewordSkew(f,o,l))return null;var g=yH.getDecodedValue(u),v=dr.getCodeword(g);return v===-1?null:new xH(a,d,t.getCodewordBucketNumber(g),v)},t.getModuleBitCount=function(e,r,n,i,a,s){for(var o=a,l=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?o<n:o>=r)&&u<l.length;)e.get(o,s)===f?(l[u]++,o+=d):(u++,f=!f);return u===l.length||o===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,s){for(var o=a,l=i?-1:1,u=0;u<2;u++){for(;(i?o>=r:o<n)&&i===e.get(o,s);){if(Math.abs(a-o)>t.CODEWORD_SKEW_SIZE)return a;o+=l}l=-l,i=!i}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Xe.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=kH.decode(e,""+r);return s.setErrorsCorrected(a),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Rn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Xe.getFormatInstance();var n=e[0];if(n>e.length)throw Xe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Xe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new P3,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new uH,t}(),TH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lg=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw Ie.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Xe||n instanceof Rn?Ie.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,s=new Array,o=iH.detectMultiple(e,r,n);try{for(var l=TH(o.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=IH.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),p=new Mi(f.getText(),f.getRawBytes(),void 0,d,_t.PDF_417);p.putMetadata(wi.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&p.putMetadata(wi.PDF417_EXTRA_METADATA,h),s.push(p)}}catch(g){i={error:g}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return s.map(function(g){return g})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Kt.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*dr.MODULES_IN_CODEWORD/dr.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*dr.MODULES_IN_CODEWORD/dr.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*dr.MODULES_IN_CODEWORD/dr.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*dr.MODULES_IN_CODEWORD/dr.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),PH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AS=function(t){PH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(ga),CS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mI=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(qr.TRY_HARDER)!==void 0,n=e==null?null:e.get(qr.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(s){return s===_t.UPC_A||s===_t.UPC_E||s===_t.EAN_13||s===_t.EAN_8||s===_t.CODABAR||s===_t.CODE_39||s===_t.CODE_93||s===_t.CODE_128||s===_t.ITF||s===_t.RSS_14||s===_t.RSS_EXPANDED});a&&!r&&i.push(new of(e)),n.includes(_t.QR_CODE)&&i.push(new og),n.includes(_t.DATA_MATRIX)&&i.push(new sg),n.includes(_t.AZTEC)&&i.push(new ig),n.includes(_t.PDF_417)&&i.push(new lg),a&&r&&i.push(new of(e))}i.length===0&&(r||i.push(new of(e)),i.push(new og),i.push(new sg),i.push(new ig),i.push(new lg),r&&i.push(new of(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=CS(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new AS("No readers where selected, nothing can be read.");try{for(var i=CS(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof AS)continue}}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new Ie("No MultiFormat Readers were able to detect the code.")},t}(),OH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){OH(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new mI;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(wh);var RH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){RH(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new lg,r)||this}return e})(wh);var DH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){DH(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new og,r)||this}return e})(wh);var d5;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(d5||(d5={}));const _m=d5;var vI=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Sc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var s=n.multiply(new Sc(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Nt("No error correction bytes");var n=e.length-r;if(n<=0)throw new Nt("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Vr.arraycopy(e,0,a,0,n);var s=new Sc(this.field,a);s=s.multiplyByMonomial(r,1);for(var o=s.divide(i)[1],l=o.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;Vr.arraycopy(l,0,e,n+u,l.length)},t}(),E1=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var o=n[s],l=0;l<i-1;l++){var u=o[l];u===o[l+1]&&u===n[s+1][l]&&u===n[s+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=0;o<i;o++){var l=n[s];o+6<i&&l[o]===1&&l[o+1]===0&&l[o+2]===1&&l[o+3]===1&&l[o+4]===1&&l[o+5]===0&&l[o+6]===1&&(t.isWhiteHorizontal(l,o-4,o)||t.isWhiteHorizontal(l,o+7,o+11))&&r++,s+6<a&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=n[s],l=0;l<i;l++)o[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Nt("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<i;o++){for(var l=0,u=-1,d=0;d<a;d++){var f=r?s[o][d]:s[d][o];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),LH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MH=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=LH(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;Yn.fill(s,e)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],s=r.bytes[n],o=0,l=this.width;o<l;++o)if(a[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new Yt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),f5=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Yt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),FH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gr=function(t){FH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(ga),ES=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new oi;t.makeTypeInfoBits(e,r,i);for(var a=0,s=i.getSize();a<s;++a){var o=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],d=l[1];if(n.setBoolean(u,d,o),a<8){var f=n.getWidth()-a-1,p=8;n.setBoolean(f,p,o)}else{var f=8,p=n.getHeight()-7+(a-8);n.setBoolean(f,p,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new oi;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var o=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,a,o)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var l=0;l<2;++l){var u=s-l;if(t.isEmpty(n.get(u,o))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&E1.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=a}a=-a,o+=a,s-=2}if(i!==e.getSize())throw new Gr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Kt.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Nt("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!f5.isValidMaskPattern(r))throw new Gr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var s=new oi;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Gr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Gr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Gr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Gr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Gr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,s=i.length;a!==s;a++){var o=i[a];if(o>=0)for(var l=0;l!==s;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),BH=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),jS=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return E1.applyMaskPenaltyRule1(e)+E1.applyMaskPenaltyRule2(e)+E1.applyMaskPenaltyRule3(e)+E1.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(_m.CHARACTER_SET)!==void 0;a&&(i=n.get(_m.CHARACTER_SET).toString());var s=this.chooseMode(e,i),o=new oi;if(s===Xr.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Xn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,o)}this.appendModeInfo(s,o);var u=new oi;this.appendBytes(e,s,u,i);var d;if(n!==null&&n.get(_m.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(_m.QR_VERSION).toString(),10);d=zu.getVersionForNumber(f);var p=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(p,d,r))throw new Gr("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var h=new oi;h.appendBitArray(o);var g=s===Xr.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(g,d,s,h),h.appendBitArray(u);var v=d.getECBlocksForLevel(r),b=d.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(b,h);var x=this.interleaveWithECBytes(h,d.getTotalCodewords(),b,v.getNumBlocks()),w=new f5;w.setECLevel(r),w.setMode(s),w.setVersion(d);var _=d.getDimensionForVersion(),N=new MH(_,_),k=this.chooseMaskPattern(x,r,d,N);return w.setMaskPattern(k),ES.buildMatrix(x,r,d,k,N),w.setMatrix(N),w},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,zu.getVersionForNumber(1)),s=this.chooseVersion(a,e),o=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Xn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xr.KANJI;for(var n=!1,i=!1,a=0,s=e.length;a<s;++a){var o=e.charAt(a);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return Xr.BYTE}return i?Xr.ALPHANUMERIC:n?Xr.NUMERIC:Xr.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ss.encode(e,Xn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<f5.NUM_MASK_PATTERNS;o++){ES.buildMatrix(e,r,n,o,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=zu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Gr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),s=a.getTotalECCodewords(),o=i-s,l=(e+7)/8;return o>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Gr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Gr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,s){if(i>=n)throw new Gr("Block ID too large");var o=e%n,l=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),p=f+1,h=u-f,g=d-p;if(h!==g)throw new Gr("EC bytes mismatch");if(n!==l+o)throw new Gr("RS blocks mismatch");if(e!==(f+h)*l+(p+g)*o)throw new Gr("Total bytes mismatch");i<l?(a[0]=f,s[0]=h):(a[0]=p,s[0]=g)},t.interleaveWithECBytes=function(e,r,n,i){var a,s,o,l;if(e.getSizeInBytes()!==n)throw new Gr("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,p=new Array,h=0;h<i;++h){var g=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,h,g,v);var b=g[0],x=new Uint8Array(b);e.toBytes(8*u,x,0,b);var w=t.generateECBytes(x,v[0]);p.push(new BH(x,w)),d=Math.max(d,b),f=Math.max(f,w.length),u+=g[0]}if(n!==u)throw new Gr("Data bytes does not match offset");for(var _=new oi,h=0;h<d;++h)try{for(var N=(a=void 0,jS(p)),k=N.next();!k.done;k=N.next()){var D=k.value,x=D.getDataBytes();h<x.length&&_.appendBits(x[h],8)}}catch(O){a={error:O}}finally{try{k&&!k.done&&(s=N.return)&&s.call(N)}finally{if(a)throw a.error}}for(var h=0;h<f;++h)try{for(var T=(o=void 0,jS(p)),R=T.next();!R.done;R=T.next()){var D=R.value,w=D.getErrorCorrectionBytes();h<w.length&&_.appendBits(w[h],8)}}catch(O){o={error:O}}finally{try{R&&!R.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}if(r!==_.getSizeInBytes())throw new Gr("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new vI(da.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),a=0;a<r;a++)s[a]=i[n+a];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Gr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Xr.NUMERIC:t.appendNumericBytes(e,n);break;case Xr.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Xr.BYTE:t.append8BitBytes(e,n,i);break;case Xr.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Gr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),o=t.getDigit(e.charAt(i+2));r.appendBits(a*100+s*10+o,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(a*10+s,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Gr;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Gr;r.appendBits(a*45+s,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ss.encode(e,n)}catch(l){throw new Gr(l)}for(var a=0,s=i.length;a!==s;a++){var o=i[a];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ss.encode(e,Xn.SJIS)}catch(f){throw new Gr(f)}for(var i=n.length,a=0;a<i;a+=2){var s=n[a]&255,o=n[a+1]&255,l=s<<8&4294967295|o,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new Gr("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Xr.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Xn.UTF8.getName(),t})();var UH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){UH(e,t);function e(r,n,i,a,s,o,l,u){var d=t.call(this,o,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=s,a+o>n||s+l>i)throw new Nt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Nt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Vr.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Vr.arraycopy(this.yuvData,s,a,0,i),a;for(var o=0;o<n;o++){var l=o*r;Vr.arraycopy(this.yuvData,s,a,l,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var l=o*r,u=0;u<r;u++){var d=a[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<n;a++,s+=this.dataWidth)for(var o=s+r/2,l=s,u=s+r-1;l<o;l++,u--){var d=i[l];i[l]=i[u],i[u]=d}},e.prototype.invert=function(){return new u2(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(cp);var zH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){zH(e,t);function e(r,n,i,a,s,o,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=s,u.left=o,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),p=0;p<d;p++){var h=r[p],g=h>>16&255,v=h>>7&510,b=h&255;f[p]=(g+v+b)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=i),o===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new Nt("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Nt("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Vr.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Vr.arraycopy(this.luminances,s,a,0,i),a;for(var o=0;o<n;o++){var l=o*r;Vr.arraycopy(this.luminances,s,a,l,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new u2(this)},e})(cp);var VH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qH=function(t){VH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Xn),$H=function(){function t(){}return t.ISO_8859_1=Xn.ISO8859_1,t}(),h5,HH=301,WH=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=HH);return{LOG:t,ALOG:e}};h5=WH([],[]),h5.LOG;h5.ALOG;var kS;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(kS||(kS={}));var IS=129,gI=230,GH=231,XH=235,YH=236,ZH=237,KH=238,QH=239,JH=240,Qx=254,eW=254,TS="[)>05",PS="[)>06",OS="",Cr=0,gi=1,Hi=2,$n=3,ri=4,Pi=5,tW=function(){function t(){}return t.prototype.getEncodingMode=function(){return Cr},t.prototype.encode=function(e){var r=Rs.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Pi:e.writeCodeword(GH),e.signalEncoderChange(Pi);return;case gi:e.writeCodeword(gI),e.signalEncoderChange(gi);return;case $n:e.writeCodeword(KH),e.signalEncoderChange($n);break;case Hi:e.writeCodeword(QH),e.signalEncoderChange(Hi);break;case ri:e.writeCodeword(JH),e.signalEncoderChange(ri);break;default:throw new Error("Illegal mode: "+i)}else Rs.isExtendedASCII(n)?(e.writeCodeword(XH),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Rs.isDigit(e)&&Rs.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),rW=function(){function t(){}return t.prototype.getEncodingMode=function(){return Pi},t.prototype.encode=function(e){var r=new Yt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Cr);break}}var a=r.length()-1,s=1,o=e.getCodewordCount()+a+s;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,or.getCharAt(a));else if(a<=1555)r.setCharAt(0,or.getCharAt(Math.floor(a/250)+249)),r.insert(1,or.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),O3=function(){function t(){}return t.prototype.getEncodingMode=function(){return gi},t.prototype.encodeMaximal=function(e){for(var r=new Yt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var o=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(gI),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Yt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var l=new Yt;for(r.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var d=Rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Cr);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),s=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Qx)}else if(s===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Qx),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Qx)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Cr)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Yt;return a.append(n),a.append(i),a.toString()},t}(),nW=function(){function t(){}return t.prototype.getEncodingMode=function(){return ri},t.prototype.encode=function(e){for(var r=new Yt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var s=Rs.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Cr);break}}}r.append(or.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Cr)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(or.getCharAt(e-64)):Rs.illegalCharacter(or.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(i<<12)+(a<<6)+s,l=o>>16&255,u=o>>8&255,d=o&255,f=new Yt;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),iW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gr=function(){function t(e,r,n,i,a,s,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=aW(oW),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),sW=function(t){iW(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(gr),oW=[new gr(!1,3,5,8,8,1),new gr(!1,5,7,10,10,1),new gr(!0,5,7,16,6,1),new gr(!1,8,10,12,12,1),new gr(!0,10,11,14,6,2),new gr(!1,12,12,14,14,1),new gr(!0,16,14,24,10,1),new gr(!1,18,14,16,16,1),new gr(!1,22,18,18,18,1),new gr(!0,22,18,16,10,2),new gr(!1,30,20,20,20,1),new gr(!0,32,24,16,14,2),new gr(!1,36,24,22,22,1),new gr(!1,44,28,24,24,1),new gr(!0,49,28,22,14,2),new gr(!1,62,36,14,14,4),new gr(!1,86,42,16,16,4),new gr(!1,114,48,18,18,4),new gr(!1,144,56,20,20,4),new gr(!1,174,68,22,22,4),new gr(!1,204,84,24,24,4,102,42),new gr(!1,280,112,14,14,16,140,56),new gr(!1,368,144,16,16,16,92,36),new gr(!1,456,192,18,18,16,114,48),new gr(!1,576,224,20,20,16,144,56),new gr(!1,696,272,22,22,16,174,68),new gr(!1,816,336,24,24,16,136,56),new gr(!1,1050,408,18,18,36,175,68),new gr(!1,1304,496,20,20,36,163,62),new sW],lW=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new Yt,i=0,a=r.length;i<a;i++){var s=String.fromCharCode(r[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new Yt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=gr.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),cW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uW=function(t){cW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $n},e.prototype.encode=function(r){for(var n=new Yt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var s=Rs.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Cr);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Rs.illegalCharacter(or.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(eW),r.getNewEncoding()<0&&r.signalEncoderChange(Cr)},e}(O3),dW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fW=function(t){dW(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Hi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(O3),Rs=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=IS+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new O3,o=[new tW,s,new fW,new uW,new nW,new rW],l=new lW(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(TS)&&e.endsWith(OS)?(l.writeCodeword(YH),l.setSkipAtEnd(2),l.pos+=TS.length):e.startsWith(PS)&&e.endsWith(OS)&&(l.writeCodeword(ZH),l.setSkipAtEnd(2),l.pos+=PS.length);var u=Cr;for(a&&(s.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)o[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==Cr&&u!==Pi&&u!==ri&&l.writeCodeword("");var p=l.getCodewords();for(p.length()<f&&p.append(IS);p.length()<f;)p.append(this.randomize253State(p.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===$n&&i===$n){for(var a=Math.min(r+3,e.length),s=r;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Cr}else if(n===ri&&i===ri){for(var a=Math.min(r+4,e.length),s=r;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Cr}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Cr?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,s=new Uint8Array(6),o=[];;){if(r+a===e.length){Yn.fill(s,0),Yn.fill(o,0);var l=this.findMinimums(i,o,Kt.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Cr]===l)return Cr;if(u===1){if(s[Pi]>0)return Pi;if(s[ri]>0)return ri;if(s[Hi]>0)return Hi;if(s[$n]>0)return $n}return gi}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Cr]+=.5:this.isExtendedASCII(d)?(i[Cr]=Math.ceil(i[Cr]),i[Cr]+=2):(i[Cr]=Math.ceil(i[Cr]),i[Cr]++),this.isNativeC40(d)?i[gi]+=2/3:this.isExtendedASCII(d)?i[gi]+=8/3:i[gi]+=4/3,this.isNativeText(d)?i[Hi]+=2/3:this.isExtendedASCII(d)?i[Hi]+=8/3:i[Hi]+=4/3,this.isNativeX12(d)?i[$n]+=2/3:this.isExtendedASCII(d)?i[$n]+=13/3:i[$n]+=10/3,this.isNativeEDIFACT(d)?i[ri]+=3/4:this.isExtendedASCII(d)?i[ri]+=17/4:i[ri]+=13/4,this.isSpecialB256(d)?i[Pi]+=4:i[Pi]++,a>=4){if(Yn.fill(s,0),Yn.fill(o,0),this.findMinimums(i,o,Kt.MAX_VALUE,s),o[Cr]<this.min(o[Pi],o[gi],o[Hi],o[$n],o[ri]))return Cr;if(o[Pi]<o[Cr]||o[Pi]+1<this.min(o[gi],o[Hi],o[$n],o[ri]))return Pi;if(o[ri]+1<this.min(o[Pi],o[gi],o[Hi],o[$n],o[Cr]))return ri;if(o[Hi]+1<this.min(o[Pi],o[gi],o[ri],o[$n],o[Cr]))return Hi;if(o[$n]+1<this.min(o[Pi],o[gi],o[ri],o[Hi],o[Cr]))return $n;if(o[gi]+1<this.min(o[Cr],o[Pi],o[ri],o[Hi])){if(o[gi]<o[$n])return gi;if(o[gi]===o[$n]){for(var f=r+a+1;f<e.length;){var p=e.charCodeAt(f);if(this.isX12TermSep(p))return $n;if(!this.isNativeX12(p))break;f++}return gi}}}}},t.min=function(e,r,n,i,a){var s=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?s:Math.min(s,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var s=r[a]=Math.ceil(e[a]);n>s&&(n=s,Yn.fill(i,0)),n===s&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Kt.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Jx=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RS=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ss.encode(e,this.charset)!=null}catch{return!1}},t}(),hW=function(){function t(e,r,n){var i,a,s,o,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new RS(qH.forName(P))}),this.encoders=[];var d=[];d.push(new RS($H.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),p=0;p<e.length;p++){var h=!1;try{for(var g=(i=void 0,Jx(d)),v=g.next();!v.done;v=g.next()){var b=v.value,x=e.charAt(p),w=x.charCodeAt(0);if(w===n||b.canEncode(x)){h=!0;break}}}catch(P){i={error:P}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}if(!h)try{for(var _=(s=void 0,Jx(this.ENCODERS)),N=_.next();!N.done;N=_.next()){var b=N.value;if(b.canEncode(e.charAt(p))){d.push(b),h=!0;break}}}catch(P){s={error:P}}finally{try{N&&!N.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}h||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var k=0;try{for(var D=Jx(d),T=D.next();!T.done;T=D.next()){var b=T.value;this.encoders[k++]=b}}catch(P){l={error:P}}finally{try{T&&!T.done&&(u=D.return)&&u.call(D)}finally{if(l)throw l.error}}}var R=-1;if(r!=null){for(var p=0;p<this.encoders.length;p++)if(this.encoders[p]!=null&&r.name===this.encoders[p].name){R=p;break}}this.priorityEncoderIndex=R}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ss.encode(or.getCharAt(e),this.encoders[r].name)},t}(),pW=3,mW=function(){function t(e,r,n){this.fnc1=n;var i=new hW(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Yt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,s){var o=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,i+1,new DS(o,r,d,a,s))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new DS[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var s=1;s<=i;s++){for(var o=0;o<r.length();o++)a[s][o]!=null&&s<i&&this.addEdges(e,r,a,s,a[s][o],n);for(var o=0;o<r.length();o++)a[s-1][o]=null}for(var l=-1,u=Kt.MAX_VALUE,o=0;o<r.length();o++)if(a[i][o]!=null){var d=a[i][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=o)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],p=a[i][l];p!=null;){if(p.isFNC1())f.unshift(1e3);else for(var h=r.encode(p.c,p.encoderIndex),s=h.length-1;s>=0;s--)f.unshift(h[s]&255);var g=p.previous===null?0:p.previous.encoderIndex;g!==p.encoderIndex&&f.unshift(256+r.getECIValue(p.encoderIndex)),p=p.previous}for(var v=[],s=0;s<v.length;s++)v[s]=f[s];return v},t}(),DS=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=i===null?0:i.encoderIndex;o!==n&&(s+=pW),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),vW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var LS;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(LS||(LS={}));(function(t){vW(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n,i)||this;return o.shape=a,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(mW);var gW=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),MS=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),xW=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),yW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R3=function(t){yW(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Kt.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(xW),wW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bW=function(t){wW(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(R3);function _W(t,e,r){return new bW(t,e,r)}function h1(t,e,r){return new R3(t,e,r)}var NW=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ac=0,cg=1,ns=2,xI=3,wo=4,SW=new R3(null,0,0),ey=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],AW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function CW(t){var e,r;try{for(var n=AW(t),i=n.next();!i.done;i=n.next()){var a=i.value;Yn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Ac][wo]=0,t[cg][wo]=0,t[cg][Ac]=28,t[xI][wo]=0,t[ns][wo]=0,t[ns][Ac]=15,t}var yI=CW(Yn.createInt32Array(6,6)),EW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jW=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=ey[this.mode][e];i=h1(i,a&65535,a>>16),n+=a>>16}var s=e===ns?4:5;return i=h1(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===ns?4:5;return n=h1(n,yI[this.mode][e],i),n=h1(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===wo||this.mode===ns){var a=ey[n][Ac];r=h1(r,a&65535,a>>16),i+=a>>16,n=Ac}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,i+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=_W(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(ey[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new oi;try{for(var o=EW(i),l=o.next();!l.done;l=o.next()){var u=l.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return or.format("%s bits=%d bytes=%d",NW[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(SW,Ac,0,0),t}();function kW(t){var e=or.getCharCode(" "),r=or.getCharCode("."),n=or.getCharCode(",");t[Ac][e]=1;for(var i=or.getCharCode("Z"),a=or.getCharCode("A"),s=a;s<=i;s++)t[Ac][s]=s-a+2;t[cg][e]=1;for(var o=or.getCharCode("z"),l=or.getCharCode("a"),s=l;s<=o;s++)t[cg][s]=s-l+2;t[ns][e]=1;for(var u=or.getCharCode("9"),d=or.getCharCode("0"),s=d;s<=u;s++)t[ns][s]=s-d+2;t[ns][n]=12,t[ns][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],p=0;p<f.length;p++)t[xI][or.getCharCode(f[p])]=p;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],p=0;p<h.length;p++)or.getCharCode(h[p])>0&&(t[wo][or.getCharCode(h[p])]=p);return t}var ty=kW(Yn.createInt32Array(5,256)),Nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IW=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=or.getCharCode(" "),r=or.getCharCode(`
`),n=MS.singletonList(jW.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case or.getCharCode("\r"):a=s===r?2:0;break;case or.getCharCode("."):a=s===e?3:0;break;case or.getCharCode(","):a=s===e?4:0;break;case or.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var o=MS.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var s=Nm(e),o=s.next();!o.done;o=s.next()){var l=o.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=ty[e.getMode()][i]>0,s=null,o=0;o<=wo;o++){var l=ty[o][i];if(l>0){if(s==null&&(s=e.endBinaryShift(r)),!a||o===e.getMode()||o===ns){var u=s.latchAndAppend(o,l);n.push(u)}if(!a&&yI[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||ty[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,s=[];try{for(var o=Nm(e),l=o.next();!l.done;l=o.next()){var u=l.value;this.updateStateForPair(u,r,n,s)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(wo,n)),e.getMode()!==wo&&i.push(a.shiftAndAppend(wo,n)),n===3||n===4){var s=a.latchAndAppend(ns,16-n).latchAndAppend(ns,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(o)}},t.simplifyStates=function(e){var r,n,i,a,s=[];try{for(var o=Nm(e),l=o.next();!l.done;l=o.next()){var u=l.value,d=!0,f=function(b){if(b.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(b)&&(s=s.filter(function(x){return x!==b}))};try{for(var p=(i=void 0,Nm(s)),h=p.next();!h.done;h=p.next()){var g=h.value,v=f(g);if(v==="break")break}}catch(b){i={error:b}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}d&&s.push(u)}}catch(b){r={error:b}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),TW=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new IW(e).encode(),a=Kt.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+a,o,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,l=Math.abs(n),l>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Nt(or.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,o),d=t.WORD_SIZE[l];var p=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>p)throw new Nt("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new Nt("Data to large for user specified layer")}else{d=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new Nt("Data too large for an Aztec code");if(o=h<=3,l=o?h+1:h,u=t.totalBitsInLayer(l,o),!(s>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var p=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+a<=p)break}}}var g=t.generateCheckWords(f,u,d),v=f.getSize()/d,b=t.generateModeMessage(o,l,v),x=(o?11:14)+l*4,w=new Int32Array(x),_;if(o){_=x;for(var h=0;h<w.length;h++)w[h]=h}else{_=x+1+2*Kt.truncDivision(Kt.truncDivision(x,2)-1,15);for(var N=Kt.truncDivision(x,2),k=Kt.truncDivision(_,2),h=0;h<N;h++){var D=h+Kt.truncDivision(h,15);w[N-h-1]=k-D-1,w[N+h]=k+D+1}}for(var T=new Io(_),h=0,R=0;h<l;h++){for(var P=(l-h)*4+(o?9:12),O=0;O<P;O++)for(var j=O*2,E=0;E<2;E++)g.get(R+j+E)&&T.set(w[h*2+E],w[h*2+O]),g.get(R+P*2+j+E)&&T.set(w[h*2+O],w[x-1-h*2-E]),g.get(R+P*4+j+E)&&T.set(w[x-1-h*2-E],w[x-1-h*2-O]),g.get(R+P*6+j+E)&&T.set(w[x-1-h*2-O],w[h*2+E]);R+=P*8}if(t.drawModeMessage(T,o,_,b),o)t.drawBullsEye(T,Kt.truncDivision(_,2),5);else{t.drawBullsEye(T,Kt.truncDivision(_,2),7);for(var h=0,O=0;h<Kt.truncDivision(x,2)-1;h+=15,O+=16)for(var E=Kt.truncDivision(_,2)&1;E<_;E+=2)T.set(Kt.truncDivision(_,2)-O,E),T.set(Kt.truncDivision(_,2)+O,E),T.set(E,Kt.truncDivision(_,2)-O),T.set(E,Kt.truncDivision(_,2)+O)}var L=new gW;return L.setCompact(o),L.setSize(_),L.setLayers(l),L.setCodeWords(v),L.setMatrix(T),L},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new oi;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Kt.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=a-3+s;i.get(s)&&e.set(o,a-5),i.get(s+7)&&e.set(a+5,o),i.get(20-s)&&e.set(o,a+5),i.get(27-s)&&e.set(a-5,o)}else for(var s=0;s<10;s++){var o=a-5+s+Kt.truncDivision(s,5);i.get(s)&&e.set(o,a-7),i.get(s+10)&&e.set(a+7,o),i.get(29-s)&&e.set(o,a+7),i.get(39-s)&&e.set(a-7,o)}},t.generateCheckWords=function(e,r,n){var i,a,s=e.getSize()/n,o=new vI(t.getGF(n)),l=Kt.truncDivision(r,n),u=t.bitsToWords(e,n,l);o.encode(u,l-s);var d=r%n,f=new oi;f.appendBits(0,d);try{for(var p=TW(Array.from(u)),h=p.next();!h.done;h=p.next()){var g=h.value;f.appendBits(g,n)}}catch(v){i={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,s;for(a=0,s=e.getSize()/r;a<s;a++){for(var o=0,l=0;l<r;l++)o|=e.get(a*r+l)?1<<r-l-1:0;i[a]=o}return i},t.getGF=function(e){switch(e){case 4:return da.AZTEC_PARAM;case 6:return da.AZTEC_DATA_6;case 8:return da.AZTEC_DATA_8;case 10:return da.AZTEC_DATA_10;case 12:return da.AZTEC_DATA_12;default:throw new Nt("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new oi,i=e.getSize(),a=(1<<r)-2,s=0;s<i;s+=r){for(var o=0,l=0;l<r;l++)(s+l>=i||e.get(s+l))&&(o|=1<<r-1-l);(o&a)===a?(n.appendBits(o&a,r),s--):o&a?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var PW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OW=function(t){PW(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),s=0,o=0,l=r.length;s<l;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],p=r[s+1],h=r[s+2];u=306*f+601*p+117*h+512>>10}a[o]=u}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Nt("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new u2(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),l=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);n.width=o,n.height=l;var u=n.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(o/2,l/2),u.rotate(i),u.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(cp);function wI(){return typeof navigator<"u"}function RW(){return wI()&&!!navigator.mediaDevices}function DW(){return!!(RW()&&navigator.mediaDevices.enumerateDevices)}var cf=function(){return cf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cf.apply(this,arguments)},tn=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})},rn=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ry=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LW={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},bh=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=cf(cf({},LW),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(qr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return tn(this,void 0,void 0,function(){return rn(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var a=ry(i),s=a.next();!s.done;s=a.next()){var o=s.value;if(t.mediaStreamIsTorchCompatibleTrack(o))return!0}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new _n("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new _n("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new OW(e),n=new iI(r);return new nI(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new _n("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,a=n.height;return r.style.width=i+"px",r.style.height=a+"px",r.width=i,r.height=a,r},t.tryPlayVideo=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return tn(this,void 0,void 0,function(){var e,r,n,i,a,s,o,l,u,d,f,p;return rn(this,function(h){switch(h.label){case 0:if(!wI())throw new Error("Can't enumerate devices, navigator is not present.");if(!DW())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=ry(e),i=n.next();!i.done;i=n.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(o=a.deviceId||a.id,l=a.label||"Video device ".concat(r.length+1),u=a.groupId,d={deviceId:o,label:l,kind:s,groupId:u},r.push(d))}catch(g){f={error:g}}finally{try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return tn(this,void 0,void 0,function(){var n;return rn(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,s){var o=setTimeout(function(){t.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",l))},r),l=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(o),e.removeEventListener("canplay",l),a(u)})};e.addEventListener("canplay",l)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),tn(this,void 0,void 0,function(){var i;return rn(this,function(a){switch(a.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,a=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",s),n())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),r()};e.addEventListener("load",s)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new _n("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:if(!e)throw new _n("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:if(!e)throw new _n("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return tn(this,void 0,void 0,function(){var i,a;return rn(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),t.disposeMediaStream(i),a;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return tn(this,void 0,void 0,function(){var i,a,s,o,l,u,d,f,p,h=this;return rn(this,function(g){switch(g.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return a=g.sent(),s=function(){t.disposeMediaStream(e),t.cleanVideoSource(a)},o=this.scan(a,n,s),l=e.getVideoTracks(),u=cf(cf({},o),{stop:function(){o.stop()},streamVideoConstraintsApply:function(v,b){return tn(this,void 0,void 0,function(){var x,w,_,N,k,D,T;return rn(this,function(R){switch(R.label){case 0:x=b?l.filter(b):l,R.label=1;case 1:R.trys.push([1,6,7,8]),w=ry(x),_=w.next(),R.label=2;case 2:return _.done?[3,5]:(N=_.value,[4,N.applyConstraints(v)]);case 3:R.sent(),R.label=4;case 4:return _=w.next(),[3,2];case 5:return[3,8];case 6:return k=R.sent(),D={error:k},[3,8];case 7:try{_&&!_.done&&(T=w.return)&&T.call(w)}finally{if(D)throw D.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(v){return l.find(v).getConstraints()},streamVideoSettingsGet:function(v){return l.find(v).getSettings()},streamVideoCapabilitiesGet:function(v){return l.find(v).getCapabilities()}}),d=t.mediaStreamIsTorchCompatible(e),d&&(f=l==null?void 0:l.find(function(v){return t.mediaStreamIsTorchCompatibleTrack(v)}),p=function(v){return tn(h,void 0,void 0,function(){return rn(this,function(b){switch(b.label){case 0:return[4,t.mediaStreamSetTorch(f,v)];case 1:return b.sent(),[2]}})})},u.switchTorch=p,u.stop=function(){return tn(h,void 0,void 0,function(){return rn(this,function(v){switch(v.label){case 0:return o.stop(),[4,p(!1)];case 1:return v.sent(),[2]}})})}),[2,u]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return tn(this,void 0,void 0,function(){var i,a;return rn(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return tn(this,void 0,void 0,function(){var n,i;return rn(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new _n("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return tn(this,void 0,void 0,function(){var n,i,a,s;return rn(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new _n("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return o.sent(),s=this.scan(n,r,i),[2,s]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return tn(this,void 0,void 0,function(){var n;return rn(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return tn(this,void 0,void 0,function(){var n,i,a;return rn(this,function(s){switch(s.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return tn(this,void 0,void 0,function(){var n,i;return rn(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return tn(this,void 0,void 0,function(){var r,n;return rn(this,function(i){switch(i.label){case 0:if(!e)throw new _n("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return tn(this,void 0,void 0,function(){var r,n;return rn(this,function(i){switch(i.label){case 0:if(!e)throw new _n("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var a=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(s,o){a.scan(e,function(l,u,d){if(l){s(l),d.stop();return}if(u){if(u instanceof Ie&&r||u instanceof Rn&&n||u instanceof Xe&&i)return;d.stop(),o(u)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var o=function(){s=void 0,a=void 0},l=!1,u,d=function(){l=!0,clearTimeout(u),o(),n&&n()},f={stop:d},p=function(){if(!l)try{t.drawImageOnCanvas(s,e);var h=i.decodeFromCanvas(a);r(h,void 0,f),u=setTimeout(p,i.options.delayBetweenScanSuccess)}catch(x){r(void 0,x,f);var g=x instanceof Rn,v=x instanceof Xe,b=x instanceof Ie;if(g||v||b){u=setTimeout(p,i.options.delayBetweenScanAttempts);return}o(),n&&n(x)}};return p(),f},t.prototype._decodeOnLoadImage=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return tn(this,void 0,void 0,function(){var r;return rn(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),MW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){MW(e,t);function e(r,n){return t.call(this,new ig,r,n)||this}return e})(bh);var FW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){FW(e,t);function e(r,n){return t.call(this,new of(r),r,n)||this}return e})(bh);var BW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){BW(e,t);function e(r,n){return t.call(this,new sg,r,n)||this}return e})(bh);var UW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zW=function(t){UW(e,t);function e(r,n){var i=this,a=new mI;return a.setHints(r),i=t.call(this,a,r,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(qr.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(bh),VW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VW(e,t);function e(r,n){return t.call(this,new lg,r,n)||this}return e})(bh);var qW=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){qW(e,t);function e(r,n){return t.call(this,new og,r,n)||this}return e})(bh);async function $W(){const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1920},height:{ideal:1080}},audio:!1}),e=t.getVideoTracks()[0];return{stream:t,track:e}}async function HW(t){t.readyState>=2&&t.videoWidth&&t.videoHeight||await new Promise(e=>{const r=()=>{t.videoWidth&&t.videoHeight&&(t.removeEventListener("loadeddata",r),e())};t.addEventListener("loadeddata",r)})}async function WW(t,e,r){if(await HW(t),window.BarcodeDetector)try{const a=new window.BarcodeDetector({formats:["qr_code","code_128","code_39","ean_13","ean_8","upc_a","upc_e","itf","codabar","data_matrix","pdf417"]});let s=!1;const o=async()=>{if(!s){try{const l=await a.detect(t);if(l&&l.length){const u=l[0];e({text:u.rawValue??"",format:u.format??"unknown"}),s=!0;return}}catch(l){r==null||r(l)}requestAnimationFrame(o)}};return o(),()=>{s=!0}}catch{}const n=new zW;let i=null;try{return i=await n.decodeFromVideoElement(t,(a,s)=>{a&&(e({text:a.getText(),format:a.getBarcodeFormat().toString()}),i==null||i.stop())}),()=>{i==null||i.stop()}}catch{return()=>{}}}function D3({isOpen:t,onClose:e,onScan:r}){const[n,i]=C.useState(null),[a,s]=C.useState(""),[o,l]=C.useState(""),[u,d]=C.useState(!1),[f,p]=C.useState(!1),[h,g]=C.useState(""),v=C.useRef(null),b=C.useRef(null);C.useEffect(()=>(t?x():w(),()=>w()),[t]);const x=async()=>{try{s(""),l("Starting camera...");const{stream:k,track:D}=await $W();i(k),v.current&&(v.current.srcObject=k,v.current.onloadedmetadata=async()=>{const T=v.current;if(T){const R=`${T.videoWidth}x${T.videoHeight}`;g(R),l("Scanning active - hold code steady"),p(!0);try{const P=await WW(T,O=>{_(O.text,O.format)},O=>{});b.current=P}catch{s("Detection initialization failed")}}},await v.current.play())}catch{s("Camera access denied or unavailable")}},w=()=>{b.current&&(b.current(),b.current=null),n&&(n.getTracks().forEach(k=>k.stop()),i(null)),l(""),s(""),p(!1),g("")},_=(k,D)=>{w(),r(k),e()},N=async()=>{var k;if(n){const D=n.getVideoTracks()[0],T=(k=D.getCapabilities)==null?void 0:k.call(D);if(T!=null&&T.torch)try{await D.applyConstraints({advanced:[{torch:!u}]}),d(!u)}catch{}}};return c.jsx(cs,{open:t,onOpenChange:e,children:c.jsxs(us,{className:"max-w-lg mx-auto","aria-describedby":"hybrid-scanner-description",children:[c.jsx(ds,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(fs,{className:"flex items-center space-x-2",children:[c.jsx(Ps,{className:"w-5 h-5 text-purple-600"}),c.jsx("span",{children:"Hybrid Scanner"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[h&&c.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[c.jsx(HL,{className:"w-3 h-3"}),c.jsx("span",{children:h})]}),c.jsx(Ne,{variant:"ghost",size:"sm",onClick:N,className:"p-2",children:u?c.jsx(JL,{className:"w-4 h-4"}):c.jsx(ej,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{id:"hybrid-scanner-description",className:"text-center text-sm text-muted-foreground",children:[c.jsx("div",{className:"font-medium text-purple-600",children:"Scan QR Code or Barcode"}),c.jsx("div",{className:"text-xs opacity-75",children:"Position code within the frame"}),o&&c.jsx("div",{className:"mt-1 text-xs font-medium text-green-600 dark:text-green-400",children:o}),a&&c.jsx("div",{className:"mt-1 text-xs font-medium text-red-600 dark:text-red-400",children:a})]}),c.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:[c.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsxs("div",{className:`absolute inset-6 border-2 border-purple-500 rounded-lg ${f?"animate-pulse":""}`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-purple-500 rounded-tl"}),c.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-purple-500 rounded-tr"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-purple-500 rounded-bl"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-purple-500 rounded-br"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f?c.jsx(Ps,{className:"w-8 h-8 text-purple-500 opacity-30 animate-bounce"}):c.jsx(as,{className:"w-8 h-8 text-purple-500 opacity-30"})})]})})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>_("TEST-HYBRID-123"),className:"flex-1",size:"sm",children:"Test"}),c.jsxs(Ne,{variant:"outline",onClick:()=>_("MANUAL-INPUT"),className:"flex-1",size:"sm",children:[c.jsx(sj,{className:"w-4 h-4 mr-2"}),"Manual"]}),c.jsx(Ne,{variant:"secondary",onClick:e,className:"flex-1",size:"sm",children:"Cancel"})]})]})]})})}function p5({trigger:t,onCustomerCreated:e}){const{garage:r}=Mr(),{toast:n}=ci(),i=ra(),[a,s]=C.useState(!1),[o,l]=C.useState({name:"",phone:"",bikeNumber:"",notes:""}),u=Dn({mutationFn:async p=>{if(!(r!=null&&r.id))throw new Error("No garage selected");const h=await Ke("POST",`/api/garages/${r.id}/customers`,p);if(!h.ok){const g=await h.json();throw new Error(g.message||"Failed to create customer")}return h.json()},onSuccess:p=>{n({title:"Success",description:"Customer added successfully"}),i.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"customers"]}),e==null||e(p),s(!1),l({name:"",phone:"",bikeNumber:"",notes:""})},onError:p=>{const h=p.message||"Failed to add customer";n({title:"Duplicate Customer",description:h,variant:"destructive"})}}),d=p=>{if(p.preventDefault(),!o.name||!o.phone||!o.bikeNumber){n({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}u.mutate(o)},f=(p,h)=>{p==="bikeNumber"&&(h=h.toUpperCase()),l(g=>({...g,[p]:h}))};return c.jsxs(cs,{open:a,onOpenChange:s,children:[c.jsx(Zv,{asChild:!0,children:t||c.jsxs(Ne,{className:"bg-primary text-white",children:[c.jsx(dd,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),c.jsxs(us,{className:"sm:max-w-md",children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Add New Customer"}),c.jsx(g0,{children:"Add a new customer to your garage management system."})]}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"name",children:"Customer Name *"}),c.jsx(ft,{id:"name",value:o.name,onChange:p=>f("name",p.target.value),placeholder:"Enter customer name",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"phone",children:"Phone Number *"}),c.jsx(ft,{id:"phone",value:o.phone,onChange:p=>f("phone",p.target.value),placeholder:"Enter phone number",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"bikeNumber",children:"Bike Number *"}),c.jsx(ft,{id:"bikeNumber",value:o.bikeNumber,onChange:p=>f("bikeNumber",p.target.value),placeholder:"Enter bike number",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"notes",children:"Notes (Optional)"}),c.jsx(Fc,{id:"notes",value:o.notes,onChange:p=>f("notes",p.target.value),placeholder:"Additional notes about the customer",rows:3})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ne,{type:"button",variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),c.jsx(Ne,{type:"submit",disabled:u.isPending,className:"flex-1 bg-primary text-white",children:u.isPending?"Adding...":"Add Customer"})]})]})]})]})}function GW({onCustomerSelect:t,selectedCustomer:e}){const{garage:r}=Mr(),[n,i]=C.useState(""),[a,s]=C.useState(""),[o,l]=C.useState(!1);C.useEffect(()=>{const h=setTimeout(()=>{s(n)},300);return()=>clearTimeout(h)},[n]);const{data:u=[]}=Wt({queryKey:["/api/garages",r==null?void 0:r.id,"customers","search",a],queryFn:async()=>!(r!=null&&r.id)||!a.trim()?[]:(await Ke("GET",`/api/garages/${r.id}/customers/search?q=${encodeURIComponent(a)}`)).json(),enabled:!!(r!=null&&r.id)&&!!a.trim()}),d=h=>{t(h),i(`${h.name} - ${h.bikeNumber}`),l(!1)},f=h=>{i(h),l(!0),e&&`${e.name}${e.bikeNumber}`},p=h=>{d(h)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{children:"Customer Selection"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative search-bar-container",children:[c.jsx(fd,{className:"search-icon w-4 h-4"}),c.jsx(ft,{value:n,onChange:h=>f(h.target.value),onFocus:()=>l(!0),placeholder:"Search by name, phone, or bike number...",className:"search-input"})]}),o&&n.trim()&&c.jsx(He,{className:"absolute top-full left-0 right-0 z-50 mt-1 max-h-60 overflow-y-auto",children:c.jsx(We,{className:"p-0",children:u.length>0?c.jsx("div",{className:"divide-y",children:u.map(h=>c.jsxs("button",{onClick:()=>d(h),className:"w-full text-left p-3 hover:bg-muted transition-colors",children:[c.jsx("div",{className:"font-medium",children:h.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.phone,"  ",h.bikeNumber]})]},h.id))}):a.trim()?c.jsxs("div",{className:"p-3 text-center text-muted-foreground",children:['No customers found matching "',a,'"']}):null})})]})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(p5,{trigger:c.jsxs(Ne,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(dd,{className:"w-4 h-4 mr-2"}),"Add New Customer"]}),onCustomerCreated:p})}),e&&c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Selected Customer"}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Name:"})," ",e.name]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Phone:"})," ",e.phone]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Bike:"})," ",e.bikeNumber]}),e.notes&&c.jsxs("div",{children:[c.jsx("strong",{children:"Notes:"})," ",e.notes]})]})]})})})]})}function XW(){const[,t]=ln(),{garage:e}=Mr(),{toast:r}=ci(),n=ra(),[i,a]=C.useState(!1),[s,o]=C.useState({customerName:"",phone:"",bikeNumber:"",complaint:"",serviceCharge:"",date:new Date().toISOString().split("T")[0]}),[l,u]=C.useState(null),[d,f]=C.useState([]),{data:p=[]}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts`)).json():[],enabled:!!(e!=null&&e.id)}),h=Dn({mutationFn:async k=>{if(!(e!=null&&e.id))throw new Error("No garage selected");return(await Ke("POST",`/api/garages/${e.id}/job-cards`,k)).json()},onSuccess:()=>{r({title:"Success",description:"Job card created successfully"}),n.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id]}),t("/pending-services")},onError:k=>{r({title:"Error",description:k instanceof Error?k.message:"Failed to create job card",variant:"destructive"})}}),g=(k,D)=>{o(T=>({...T,[k]:D}))},v=k=>{u(k),o(D=>({...D,customerName:k.name,phone:k.phone,bikeNumber:k.bike_number}))},b=()=>{f(k=>[...k,{id:"",partNumber:"",name:"",quantity:1,price:0}])},x=(k,D,T)=>{f(R=>{const P=[...R];if(D==="id"){const O=p.find(j=>j.id===T);O&&(P[k]={id:O.id,partNumber:O.partNumber,name:O.name,quantity:P[k].quantity,price:Number(O.price)})}else P[k]={...P[k],[D]:T};return P})},w=k=>{f(D=>D.filter((T,R)=>R!==k))},_=k=>{const D=p.find(T=>T.barcode===k||T.partNumber===k||T.part_number===k);if(D){const T=d.findIndex(R=>R.id===D.id);T>=0?x(T,"quantity",d[T].quantity+1):f(R=>[...R,{id:D.id,partNumber:D.partNumber||D.part_number,name:D.name,quantity:1,price:Number(D.price)}]),r({title:"Part Added",description:`${D.name} added to job card`})}else r({title:"Part Not Found",description:"No spare part found with this barcode",variant:"destructive"})},N=k=>{if(k.preventDefault(),!l){r({title:"Error",description:"Please select a customer",variant:"destructive"});return}if(!s.complaint){r({title:"Error",description:"Please enter complaint description",variant:"destructive"});return}const D=d.reduce((O,j)=>O+j.price*j.quantity,0),T=parseFloat(s.serviceCharge||"0"),R=D+T,P={customerName:l.name,phone:l.phone,bikeNumber:l.bike_number,complaint:s.complaint,spareParts:d,serviceCharge:T.toString(),totalAmount:R.toString()};h.mutate(P)};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"New Job Card"})]}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>a(!0),className:"text-white hover:bg-white/10",children:c.jsx(Ps,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"screen-content",children:c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Customer Details"})}),c.jsxs(We,{className:"space-y-4",children:[c.jsx(GW,{onCustomerSelect:v,selectedCustomer:l}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"date",children:"Date"}),c.jsx(ft,{id:"date",type:"date",value:s.date,onChange:k=>g("date",k.target.value),required:!0})]})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Complaint Description"})}),c.jsxs(We,{children:[c.jsx(Fc,{value:s.complaint,onChange:k=>g("complaint",k.target.value),onKeyDown:k=>{var D,T;if(k.key==="Enter"){k.preventDefault();const R=((D=k.currentTarget)==null?void 0:D.value)||"",P=R.split(`
`).filter(j=>j.trim()!==""),O=(T=R.split(`
`).pop())==null?void 0:T.trim();if(O&&O!==""){const j=P.map(L=>L.trim().startsWith(" ")||L.trim().startsWith(" ")?L:` ${L.trim()}`);O&&!j.some(L=>L.includes(O))&&j.push(` ${O}`);const E=j.join(`
`)+`
 `;g("complaint",E),setTimeout(()=>{const L=k.currentTarget;L&&(L.selectionStart=L.selectionEnd=E.length)},0)}}},placeholder:`Describe the issue in detail...
Press Enter to create checklist items`,rows:4,required:!0}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Press Enter to create checklist items  Click / to toggle completion"})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Service Charge"})}),c.jsx(We,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"serviceCharge",children:"Service Charge ()"}),c.jsx(ft,{id:"serviceCharge",type:"number",step:"0.01",min:"0",value:s.serviceCharge,onChange:k=>g("serviceCharge",k.target.value),placeholder:"Enter service charge amount..."}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Enter the labor/service charges separate from spare parts cost"})]})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Jt,{children:"Spare Parts Used"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"icon",onClick:b,children:c.jsx(dd,{className:"w-4 h-4"})})]})}),c.jsxs(We,{className:"space-y-3",children:[d.map((k,D)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1",children:c.jsxs(x0,{value:k.id,onValueChange:T=>x(D,"id",T),children:[c.jsx(eh,{children:c.jsx(y0,{placeholder:"Select spare part..."})}),c.jsx(th,{children:p.map(T=>c.jsxs(es,{value:T.id,children:["PN: ",T.partNumber,"  ",T.name," - ",T.price]},T.id))})]})}),c.jsx(ft,{type:"number",min:"1",value:k.quantity,onChange:T=>x(D,"quantity",parseInt(T.target.value)),className:"w-20 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},placeholder:"Qty"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"icon",onClick:()=>w(D),className:"text-destructive",children:c.jsx(Kb,{className:"w-4 h-4"})})]},D)),c.jsxs(Ne,{type:"button",variant:"outline",className:"w-full border-dashed",onClick:()=>a(!0),children:[c.jsx(rM,{className:"w-4 h-4 mr-2"}),"Scan Barcode/QR Code"]})]})]}),c.jsx(Ne,{type:"submit",className:"w-full",disabled:h.isPending,children:h.isPending?"Saving...":"Save Job Card"})]})}),c.jsx(D3,{isOpen:i,onClose:()=>a(!1),onScan:_})]})}function YW(){var O;const[,t]=ln(),{garage:e}=Mr(),{toast:r}=ci(),n=ra(),[i,a]=C.useState(""),[s,o]=C.useState([]),[l,u]=C.useState(!1),[d,f]=C.useState(!1),p=window.location.pathname.split("/").pop(),[h,g]=C.useState({customerName:"",phone:"",bikeNumber:"",complaint:"",spareParts:[],serviceCharge:"0",totalAmount:"0"}),{data:v,isLoading:b}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards",p],queryFn:async()=>!(e!=null&&e.id)||!p?null:(await Ke("GET",`/api/garages/${e.id}/job-cards/${p}`)).json(),enabled:!!(e!=null&&e.id)&&!!p}),{data:x=[]}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts`)).json():[],enabled:!!(e!=null&&e.id)}),w=Dn({mutationFn:async j=>{var re;if(!(e!=null&&e.id)||!p)throw new Error("Missing garage or job card ID");const E=((re=j.spareParts)==null?void 0:re.reduce((se,H)=>se+H.price*H.quantity,0))||0,L=Number(j.serviceCharge||"0"),B=E+L;return console.log("Updating job card with data:",{...j,serviceCharge:L,totalAmount:B}),(await Ke("PUT",`/api/garages/${e.id}/job-cards/${p}`,{...j,serviceCharge:L,totalAmount:B})).json()},onSuccess:j=>{console.log("Job card updated successfully:",j),r({title:"Success",description:"Job card updated successfully"}),n.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards"]}),t("/pending-services")},onError:j=>{console.error("Update job card error:",j),r({title:"Error",description:j.message||"Failed to update job card",variant:"destructive"})}});C.useEffect(()=>{var j,E;if(v){console.log("Loading job card data:",v);const L=Array.isArray(v.spare_parts)?v.spare_parts:typeof v.spare_parts=="string"?JSON.parse(v.spare_parts||"[]"):[];g({customerName:v.customer_name||"",phone:v.phone||"",bikeNumber:v.bike_number||"",complaint:v.complaint||"",spareParts:L,serviceCharge:((j=v.service_charge)==null?void 0:j.toString())||"0",totalAmount:((E=v.total_amount)==null?void 0:E.toString())||"0"})}},[v==null?void 0:v.id]),C.useEffect(()=>{if(i.length<2){o([]);return}u(!0);const j=x.filter(E=>{var L,B;return((L=E.name)==null?void 0:L.toLowerCase().includes(i.toLowerCase()))||((B=E.part_number)==null?void 0:B.toLowerCase().includes(i.toLowerCase()))});o(j),u(!1)},[i,x]);const _=C.useMemo(()=>{var L;const j=((L=h.spareParts)==null?void 0:L.reduce((B,te)=>B+te.price*te.quantity,0))||0,E=Number(h.serviceCharge||"0");return(j+E).toString()},[h.spareParts,h.serviceCharge]),N=(j,E)=>{g(L=>({...L,[j]:E}))},k=j=>{const E=x.find(L=>L.partNumber===j||L.name.toLowerCase().includes(j.toLowerCase()));if(E){const L=h.spareParts.findIndex(B=>B.id===E.id);if(L>=0){const B=[...h.spareParts];B[L].quantity+=1,g(te=>({...te,spareParts:B}))}else{const B={id:E.id,partNumber:E.partNumber,name:E.name,quantity:1,price:parseFloat(E.price)};g(te=>({...te,spareParts:[...te.spareParts,B]}))}f(!1),r({title:"Part Added",description:`${E.name} added to job card`})}else r({title:"Part Not Found",description:"No spare part found with this barcode",variant:"destructive"})},D=j=>{const E=h.spareParts.findIndex(L=>L.id===j.id);if(E>=0){const L=[...h.spareParts];L[E].quantity+=1,g(B=>({...B,spareParts:L}))}else{const L={id:j.id,partNumber:j.part_number||"",name:j.name,quantity:1,price:Number(j.price||"0")};g(B=>({...B,spareParts:[...B.spareParts,L]}))}a("")},T=j=>{const E=h.spareParts.filter((L,B)=>B!==j);g(L=>({...L,spareParts:E}))},R=(j,E)=>{if(E<=0)return;const L=[...h.spareParts];L[j].quantity=E,g(B=>({...B,spareParts:L}))},P=j=>{j.preventDefault(),w.mutate(h)};return b?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/pending-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Edit Job Card"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),c.jsx("span",{className:"text-muted-foreground",children:"Loading job card..."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/pending-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Edit Job Card"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>f(!0),className:"text-white hover:bg-white/10",children:c.jsx(Ps,{className:"w-5 h-5"})}),c.jsx(si,{variant:"secondary",className:"warning-bg warning-text",children:"Pending"})]})]}),c.jsx("div",{className:"screen-content",children:c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Customer Information"})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer Name"}),c.jsx(ft,{value:h.customerName,disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),c.jsx(ft,{value:h.phone,disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bike Number"}),c.jsx(ft,{value:h.bikeNumber,disabled:!0})]})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Service Details"})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complaint / Service Description"}),c.jsx(Fc,{value:h.complaint,onChange:j=>N("complaint",j.target.value),onKeyDown:j=>{var E,L;if(j.key==="Enter"){j.preventDefault();const B=((E=j.currentTarget)==null?void 0:E.value)||"",te=B.split(`
`).filter(se=>se.trim()!==""),re=(L=B.split(`
`).pop())==null?void 0:L.trim();if(re&&re!==""){const se=te.map(ne=>ne.trim().startsWith(" ")||ne.trim().startsWith(" ")?ne:` ${ne.trim()}`);re&&!se.some(ne=>ne.includes(re))&&se.push(` ${re}`);const H=se.join(`
`)+`
 `;N("complaint",H),setTimeout(()=>{const ne=j.currentTarget;ne&&(ne.selectionStart=ne.selectionEnd=H.length)},0)}}},onClick:j=>{const E=j.currentTarget,L=E.selectionStart||0,B=E.value,te=B.split(`
`),re=B.substring(0,L).split(`
`).length-1,se=te[re];if(se&&(se.includes(" ")||se.includes(" "))&&j.nativeEvent.offsetX<=20){j.preventDefault();let ne=[...te];se.includes(" ")?ne[re]=se.replace(" "," "):se.includes(" ")&&(ne[re]=se.replace(" "," ")),N("complaint",ne.join(`
`))}},placeholder:"Describe the service or complaint...",className:"min-h-20 cursor-text"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Service Charge ()"}),c.jsx(ft,{type:"number",step:"1",min:"0",placeholder:"Enter service charge",value:h.serviceCharge==="0"?"":h.serviceCharge,onChange:j=>{const E=j.target.value;N("serviceCharge",E||"0")},onFocus:j=>{j.target.value==="0"&&(j.target.value="",N("serviceCharge",""))},style:{appearance:"textfield"},className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Spare Parts"})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Add Spare Parts"}),c.jsxs(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>f(!0),className:"flex items-center space-x-1",children:[c.jsx(Ps,{className:"w-4 h-4"}),c.jsx("span",{children:"Scan"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{type:"text",placeholder:"Search spare parts...",value:i,onChange:j=>a(j.target.value)}),i.length>=2&&s.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg max-h-60 overflow-auto",children:l?c.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"Searching..."}):s.map(j=>c.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted/50 border-b last:border-0",onClick:()=>D(j),children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:j.name}),j.part_number&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["PN: ",j.part_number]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["",j.price]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Stock: ",j.quantity]})]})]})},j.id))})]})]}),h.spareParts&&h.spareParts.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Selected Parts"}),h.spareParts.map((j,E)=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:j.name}),j.partNumber&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["PN: ",j.partNumber]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>R(E,j.quantity-1),disabled:j.quantity<=1,children:"-"}),c.jsx("span",{className:"w-8 text-center text-sm",children:j.quantity}),c.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>R(E,j.quantity+1),children:"+"})]}),c.jsx("div",{className:"text-right min-w-16",children:c.jsxs("div",{className:"font-medium",children:["",(j.price*j.quantity).toFixed(2)]})}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(E),className:"text-destructive hover:text-destructive",children:c.jsx(Kb,{className:"w-4 h-4"})})]})]},E))]})]})]}),c.jsx(He,{children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Parts Total:"}),c.jsxs("span",{children:["",(((O=h.spareParts)==null?void 0:O.reduce((j,E)=>j+E.price*E.quantity,0))||0).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Service Charge:"}),c.jsxs("span",{children:["",Number(h.serviceCharge||"0").toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[c.jsx("span",{children:"Total Amount:"}),c.jsxs("span",{children:["",_]})]})]})})}),c.jsx(Ne,{type:"submit",size:"lg",className:"w-full",disabled:w.isPending,children:w.isPending?c.jsxs(c.Fragment,{children:[c.jsx(nj,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Update Job Card"]})})]})}),c.jsx(D3,{isOpen:d,onClose:()=>f(!1),onScan:k})]})}function ZW(){const[,t]=ln(),{garage:e}=Mr(),{toast:r}=ci(),n=ra(),[i,a]=C.useState(""),[s,o]=C.useState(null),[l,u]=C.useState(!1),[d,f]=C.useState(!1),[p,h]=C.useState(null),[g,v]=C.useState(""),{data:b=[],isLoading:x}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards","pending"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/job-cards?status=pending`)).json():[],enabled:!!(e!=null&&e.id)}),{data:w}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"invoices"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/invoices`)).json():[],enabled:!!(e!=null&&e.id)}),_=O=>w==null?void 0:w.some(j=>j.job_card_id===O||j.jobCardId===O),N=b.filter(O=>{var j,E,L,B,te,re,se;return((L=(E=(j=O.customer_name)==null?void 0:j.toLowerCase)==null?void 0:E.call(j))==null?void 0:L.includes(i.toLowerCase()))||((re=(te=(B=O.bike_number)==null?void 0:B.toLowerCase)==null?void 0:te.call(B))==null?void 0:re.includes(i.toLowerCase()))||((se=O.phone)==null?void 0:se.includes(i))}),k=Dn({mutationFn:async({jobId:O,complaint:j})=>{if(!(e!=null&&e.id))throw new Error("No garage selected");return(await Ke("PUT",`/api/garages/${e.id}/job-cards/${O}`,{complaint:j})).json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards"]}),n.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards","pending"]}),r({title:"Success",description:"Service tasks updated successfully"})},onError:O=>{r({title:"Error",description:O instanceof Error?O.message:"Failed to update tasks",variant:"destructive"})}}),D=O=>{const j=g.split(`
`);j[O]&&(j[O].includes("")?j[O]=j[O].replace("",""):j[O].includes("")&&(j[O]=j[O].replace("","")),v(j.join(`
`)))},T=()=>{p&&k.mutate({jobId:p.id,complaint:g})},R=()=>g&&!g.includes(""),P=O=>{if(!O)return"No date";const j=new Date(O);if(isNaN(j.getTime()))return"Invalid date";const E=new Date;return j.toDateString()===E.toDateString()?`Today, ${j.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})};return x?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Pending Services"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),c.jsx("span",{className:"text-muted-foreground",children:"Loading pending services..."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Pending Services"})]}),c.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:c.jsxs("span",{className:"text-sm font-medium",children:[N.length," Jobs"]})})]}),c.jsxs("div",{className:"screen-content",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative search-bar-container",children:[c.jsx(fd,{className:"search-icon w-4 h-4"}),c.jsx(ft,{type:"text",placeholder:"Search by customer name or bike number...",value:i,onChange:O=>a(O.target.value),className:"search-input"})]})}),N.length===0?c.jsx(He,{children:c.jsx(We,{className:"p-8 text-center",children:c.jsx("div",{className:"text-muted-foreground",children:i?"No jobs found matching your search":"No pending services"})})}):c.jsx("div",{className:"space-y-3",children:N.map(O=>c.jsx(He,{className:"border-l-4 border-l-warning",children:c.jsxs(We,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-semibold",children:O.customer_name}),c.jsx(si,{variant:"secondary",className:"warning-bg warning-text",children:"Pending"})]}),c.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx($b,{className:"w-4 h-4"}),c.jsx("span",{children:O.bike_number})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xb,{className:"w-4 h-4"}),c.jsx("span",{children:O.phone})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Qu,{className:"w-4 h-4"}),c.jsx("span",{children:P(O.created_at)})]})]}),c.jsx("div",{className:"text-sm text-foreground mb-3",children:O.complaint&&O.complaint.includes("")||O.complaint.includes("")?c.jsx("div",{className:"space-y-1",children:O.complaint.split(`
`).filter(j=>j.trim()).map((j,E)=>{if(j.includes("")||j.includes("")){const B=j.includes(""),te=j.replace(/[]\s*/,"").trim();return c.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[c.jsx("span",{className:B?"text-green-600":"text-orange-500",children:B?"":""}),c.jsx("span",{className:B?"line-through text-muted-foreground":"",children:te})]},E)}return c.jsx("div",{className:"text-xs text-muted-foreground",children:j},E)})}):c.jsx("p",{className:"line-clamp-2",children:O.complaint})}),O.spareParts&&O.spareParts.length>0&&c.jsxs("div",{className:"text-xs text-muted-foreground mb-3",children:["Parts: ",O.spareParts.map(j=>j.name).join(", ")]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:justify-end sm:space-x-2",children:[c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>{o(O),u(!0)},className:"text-xs px-2 py-1",children:[c.jsx(fl,{className:"w-3 h-3 mr-1"}),"View"]}),c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>{t(`/edit-job-card/${O.id}`)},className:"text-xs px-2 py-1",children:[c.jsx(Zb,{className:"w-3 h-3 mr-1"}),"Edit"]}),c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>{h(O),v(O.complaint||""),f(!0)},className:"text-xs px-2 py-1",children:[c.jsx(as,{className:"w-3 h-3 mr-1"}),"Complete"]}),(()=>{const E=O.complaint&&(O.complaint.includes("")||O.complaint.includes(""))&&O.complaint.includes(""),L=_(O.id);return c.jsx(Ne,{size:"sm",onClick:()=>{L?r({title:"Invoice Already Exists",description:"This service already has an invoice. Cannot create duplicates.",variant:"destructive"}):E?r({title:"Incomplete Tasks",description:"Please complete all checklist items before generating invoice",variant:"destructive"}):t(`/invoice/${O.id}`)},disabled:E||L,className:`text-xs px-2 py-1 ${E||L?"opacity-50 cursor-not-allowed":""}`,children:L?c.jsxs(c.Fragment,{children:[c.jsx(as,{className:"w-3 h-3 mr-1"}),"Invoice Created"]}):E?c.jsxs(c.Fragment,{children:[c.jsx(qv,{className:"w-3 h-3 mr-1"}),"Tasks Pending"]}):"Generate Invoice"})})()]})]})},O.id))})]}),c.jsx(cs,{open:l,onOpenChange:u,children:c.jsxs(us,{className:"max-w-md mx-auto","aria-describedby":"job-details-description",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Job Card Details"})}),c.jsx("div",{id:"job-details-description",className:"sr-only",children:"Detailed information about the selected job card including customer details, complaint, and spare parts used."}),s&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:"Customer Information"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Name:"}),c.jsx("span",{children:s.customer_name})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),c.jsx("span",{children:s.phone})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Bike Number:"}),c.jsx("span",{children:s.bike_number})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Date:"}),c.jsx("span",{children:P(s.created_at)})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:"Complaint"}),c.jsx("p",{className:"text-sm bg-muted/30 p-3 rounded",children:s.complaint})]}),s.spareParts&&s.spareParts.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:"Spare Parts Used"}),c.jsx("div",{className:"space-y-2",children:s.spareParts.map((O,j)=>c.jsxs("div",{className:"flex justify-between text-sm bg-muted/30 p-2 rounded",children:[c.jsxs("span",{children:[O.partNumber?`PN: ${O.partNumber}  ${O.name}`:O.name," x",O.quantity]}),c.jsxs("span",{children:["",(O.price*O.quantity).toFixed(2)]})]},j))})]}),c.jsxs("div",{className:"space-y-2 border-t pt-3",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Service Charge:"}),c.jsxs("span",{children:["",s.service_charge||0]})]}),c.jsxs("div",{className:"flex justify-between font-semibold",children:[c.jsx("span",{children:"Total Amount:"}),c.jsxs("span",{children:["",s.total_amount||0]})]})]}),c.jsx(Ne,{onClick:()=>{_(s.id)?r({title:"Invoice Already Exists",description:"This service already has an invoice. Cannot create duplicates.",variant:"destructive"}):(u(!1),t(`/invoice/${s.id}`))},disabled:_(s==null?void 0:s.id),className:_(s==null?void 0:s.id)?"opacity-50 cursor-not-allowed w-full":"w-full",children:_(s==null?void 0:s.id)?"Invoice Already Created":"Generate Invoice"})]})]})}),d&&c.jsx(cs,{open:d,onOpenChange:f,children:c.jsxs(us,{className:"max-w-md mx-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Complete Service Tasks"})}),p&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jsx("strong",{children:p.customer_name})," - ",p.bike_number]}),c.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:g.split(`
`).filter(O=>O.trim()).map((O,j)=>{if(!(O.includes("")||O.includes("")))return null;const L=O.includes(""),B=O.replace(/[]\s*/,"").trim();return c.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded border cursor-pointer hover:bg-muted/50",onClick:()=>D(j),children:[c.jsx("div",{className:`text-lg ${L?"text-green-600":"text-orange-500"}`,children:L?"":""}),c.jsx("div",{className:`flex-1 text-sm ${L?"line-through text-muted-foreground":"text-foreground"}`,children:B})]},j)})}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ne,{onClick:T,disabled:k.isPending,variant:"outline",className:"flex-1",children:k.isPending?c.jsxs(c.Fragment,{children:[c.jsx(nj,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Save Progress"]})}),R()&&c.jsxs(Ne,{onClick:()=>{_(p.id)?r({title:"Invoice Already Exists",description:"This service already has an invoice. Cannot create duplicates.",variant:"destructive"}):(T(),setTimeout(()=>{f(!1),t(`/invoice/${p.id}`)},500))},disabled:k.isPending||_(p==null?void 0:p.id),className:"flex-1",children:[c.jsx(as,{className:"w-4 h-4 mr-2"}),_(p==null?void 0:p.id)?"Invoice Already Created":"Generate Invoice"]})]}),!R()&&c.jsx("div",{className:"text-center text-sm text-muted-foreground bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:"Complete all tasks to generate invoice"})]})]})})]})}const KW="modulepreload",QW=function(t){return"/"+t},FS={},Nf=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=QW(l),l in FS)return;FS[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":KW,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function jr(t){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(t)}var Hs=Uint8Array,Ra=Uint16Array,L3=Int32Array,M3=new Hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F3=new Hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),BS=new Hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bI=function(t,e){for(var r=new Ra(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new L3(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},_I=bI(M3,2),JW=_I.b,m5=_I.r;JW[28]=258,m5[258]=28;var eG=bI(F3,0),US=eG.r,v5=new Ra(32768);for(var Yr=0;Yr<32768;++Yr){var $l=(Yr&43690)>>1|(Yr&21845)<<1;$l=($l&52428)>>2|($l&13107)<<2,$l=($l&61680)>>4|($l&3855)<<4,v5[Yr]=(($l&65280)>>8|($l&255)<<8)>>1}var V1=function(t,e,r){for(var n=t.length,i=0,a=new Ra(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new Ra(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Ra(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],f=s[t[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[v5[f]>>l]=u}else for(o=new Ra(n),i=0;i<n;++i)t[i]&&(o[i]=v5[s[t[i]-1]++]>>15-t[i]);return o},rd=new Hs(288);for(var Yr=0;Yr<144;++Yr)rd[Yr]=8;for(var Yr=144;Yr<256;++Yr)rd[Yr]=9;for(var Yr=256;Yr<280;++Yr)rd[Yr]=7;for(var Yr=280;Yr<288;++Yr)rd[Yr]=8;var ug=new Hs(32);for(var Yr=0;Yr<32;++Yr)ug[Yr]=5;var tG=V1(rd,9,0),rG=V1(ug,5,0),NI=function(t){return(t+7)/8|0},nG=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Hs(t.subarray(e,r))},Ko=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},p1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ny=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:AI,l:0};if(i==1){var s=new Hs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(k,D){return k.f-D.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Ra(p+1),g=g5(r[d-1],h,0);if(g>e){var n=0,v=0,b=g-e,x=1<<b;for(a.sort(function(D,T){return h[T.s]-h[D.s]||D.f-T.f});n<i;++n){var w=a[n].s;if(h[w]>e)v+=x-(1<<g-h[w]),h[w]=e;else break}for(v>>=b;v>0;){var _=a[n].s;h[_]<e?v-=1<<e-h[_]++-1:++n}for(;n>=0&&v;--n){var N=a[n].s;h[N]==e&&(--h[N],++v)}g=e}return{t:new Hs(h),l:g}},g5=function(t,e,r){return t.s==-1?Math.max(g5(t.l,e,r+1),g5(t.r,e,r+1)):e[t.s]=r},zS=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ra(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},m1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},SI=function(t,e,r){var n=r.length,i=NI(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},VS=function(t,e,r,n,i,a,s,o,l,u,d){Ko(e,d++,r),++i[256];for(var f=ny(i,15),p=f.t,h=f.l,g=ny(a,15),v=g.t,b=g.l,x=zS(p),w=x.c,_=x.n,N=zS(v),k=N.c,D=N.n,T=new Ra(19),R=0;R<w.length;++R)++T[w[R]&31];for(var R=0;R<k.length;++R)++T[k[R]&31];for(var P=ny(T,7),O=P.t,j=P.l,E=19;E>4&&!O[BS[E-1]];--E);var L=u+5<<3,B=m1(i,rd)+m1(a,ug)+s,te=m1(i,p)+m1(a,v)+s+14+3*E+m1(T,O)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&L<=B&&L<=te)return SI(e,d,t.subarray(l,l+u));var re,se,H,ne;if(Ko(e,d,1+(te<B)),d+=2,te<B){re=V1(p,h,0),se=p,H=V1(v,b,0),ne=v;var ge=V1(O,j,0);Ko(e,d,_-257),Ko(e,d+5,D-1),Ko(e,d+10,E-4),d+=14;for(var R=0;R<E;++R)Ko(e,d+3*R,O[BS[R]]);d+=3*E;for(var _e=[w,k],U=0;U<2;++U)for(var W=_e[U],R=0;R<W.length;++R){var Y=W[R]&31;Ko(e,d,ge[Y]),d+=O[Y],Y>15&&(Ko(e,d,W[R]>>5&127),d+=W[R]>>12)}}else re=tG,se=rd,H=rG,ne=ug;for(var R=0;R<o;++R){var ie=n[R];if(ie>255){var Y=ie>>18&31;p1(e,d,re[Y+257]),d+=se[Y+257],Y>7&&(Ko(e,d,ie>>23&31),d+=M3[Y]);var ue=ie&31;p1(e,d,H[ue]),d+=ne[ue],ue>3&&(p1(e,d,ie>>5&8191),d+=F3[ue])}else p1(e,d,re[ie]),d+=se[ie]}return p1(e,d,re[256]),d+se[256]},iG=new L3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AI=new Hs(0),aG=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Hs(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),u=a.l,d=(a.r||0)&7;if(e){d&&(l[0]=a.r>>3);for(var f=iG[e-1],p=f>>13,h=f&8191,g=(1<<r)-1,v=a.p||new Ra(32768),b=a.h||new Ra(g+1),x=Math.ceil(r/3),w=2*x,_=function(me){return(t[me]^t[me+1]<<x^t[me+2]<<w)&g},N=new L3(25e3),k=new Ra(288),D=new Ra(32),T=0,R=0,P=a.i||0,O=0,j=a.w||0,E=0;P+2<s;++P){var L=_(P),B=P&32767,te=b[L];if(v[B]=te,b[L]=B,j<=P){var re=s-P;if((T>7e3||O>24576)&&(re>423||!u)){d=VS(t,l,0,N,k,D,R,O,E,P-E,d),O=T=R=0,E=P;for(var se=0;se<286;++se)k[se]=0;for(var se=0;se<30;++se)D[se]=0}var H=2,ne=0,ge=h,_e=B-te&32767;if(re>2&&L==_(P-_e))for(var U=Math.min(p,re)-1,W=Math.min(32767,P),Y=Math.min(258,re);_e<=W&&--ge&&B!=te;){if(t[P+H]==t[P+H-_e]){for(var ie=0;ie<Y&&t[P+ie]==t[P+ie-_e];++ie);if(ie>H){if(H=ie,ne=_e,ie>U)break;for(var ue=Math.min(_e,ie-2),ae=0,se=0;se<ue;++se){var xe=P-_e+se&32767,ve=v[xe],Ce=xe-ve&32767;Ce>ae&&(ae=Ce,te=xe)}}}B=te,te=v[B],_e+=B-te&32767}if(ne){N[O++]=268435456|m5[H]<<18|US[ne];var je=m5[H]&31,Le=US[ne]&31;R+=M3[je]+F3[Le],++k[257+je],++D[Le],j=P+H,++T}else N[O++]=t[P],++k[t[P]]}}for(P=Math.max(P,j);P<s;++P)N[O++]=t[P],++k[t[P]];d=VS(t,l,u,N,k,D,R,O,E,P-E,d),u||(a.r=d&7|l[d/8|0]<<3,d-=7,a.h=b,a.p=v,a.i=P,a.w=j)}else{for(var P=a.w||0;P<s+u;P+=65535){var Ee=P+65535;Ee>=s&&(l[d/8|0]=u,Ee=s),d=SI(l,d+1,t.subarray(P,Ee))}a.i=s}return nG(o,0,n+NI(d)+i)},CI=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},sG=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Hs(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return aG(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},EI=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},oG=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=CI();i.p(e.dictionary),EI(t,2,i.d())}};function x5(t,e){e||(e={});var r=CI();r.p(t);var n=sG(t,e,e.dictionary?6:2,4);return oG(n,e),EI(n,n.length-4,r.d()),n}var lG=typeof TextDecoder<"u"&&new TextDecoder,cG=0;try{lG.decode(AI,{stream:!0}),cG=1}catch{}function uG(t){if(Array.isArray(t))return t}function dG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fG(t,e){if(t){if(typeof t=="string")return qS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qS(t,e):void 0}}function hG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $S(t,e){return uG(t)||dG(t,e)||fG(t,e)||hG()}function HS(t,e="utf8"){return new TextDecoder(e).decode(t)}const pG=new TextEncoder;function mG(t){return pG.encode(t)}const vG=1024*8,gG=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),iy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class B3{constructor(e=vG,r={}){Sr(this,"buffer");Sr(this,"byteLength");Sr(this,"byteOffset");Sr(this,"length");Sr(this,"offset");Sr(this,"lastWrittenByte");Sr(this,"littleEndian");Sr(this,"_data");Sr(this,"_mark");Sr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof B3)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=iy[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===gG&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new iy[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new iy[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return HS(this.readBytes(e))}decodeText(e=1,r="utf8"){return HS(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(mG(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const xG=4,WS=0,GS=1,yG=2;function _h(t){let e=t.length;for(;--e>=0;)t[e]=0}const wG=0,jI=1,bG=2,_G=3,NG=258,U3=29,dp=256,C0=dp+1+U3,Sf=30,z3=19,kI=2*C0+1,Eu=15,ay=16,SG=7,V3=256,II=16,TI=17,PI=18,y5=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),nv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),AG=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),OI=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CG=512,il=new Array((C0+2)*2);_h(il);const q1=new Array(Sf*2);_h(q1);const E0=new Array(CG);_h(E0);const j0=new Array(NG-_G+1);_h(j0);const q3=new Array(U3);_h(q3);const dg=new Array(Sf);_h(dg);function sy(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let RI,DI,LI;function oy(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const MI=t=>t<256?E0[t]:E0[256+(t>>>7)],k0=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},ha=(t,e,r)=>{t.bi_valid>ay-r?(t.bi_buf|=e<<t.bi_valid&65535,k0(t,t.bi_buf),t.bi_buf=e>>ay-t.bi_valid,t.bi_valid+=r-ay):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},yo=(t,e,r)=>{ha(t,r[e*2],r[e*2+1])},FI=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},EG=t=>{t.bi_valid===16?(k0(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},jG=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,f,p,h,g,v=0;for(p=0;p<=Eu;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<kI;u++)d=t.heap[u],p=r[r[d*2+1]*2+1]+1,p>l&&(p=l,v++),r[d*2+1]=p,!(d>n)&&(t.bl_count[p]++,h=0,d>=o&&(h=s[d-o]),g=r[d*2],t.opt_len+=g*(p+h),a&&(t.static_len+=g*(i[d*2+1]+h)));if(v!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,v-=2}while(v>0);for(p=l;p!==0;p--)for(d=t.bl_count[p];d!==0;)f=t.heap[--u],!(f>n)&&(r[f*2+1]!==p&&(t.opt_len+=(p-r[f*2+1])*r[f*2],r[f*2+1]=p),d--)}},BI=(t,e,r)=>{const n=new Array(Eu+1);let i=0,a,s;for(a=1;a<=Eu;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=FI(n[o]++,o))}},kG=()=>{let t,e,r,n,i;const a=new Array(Eu+1);for(r=0,n=0;n<U3-1;n++)for(q3[n]=r,t=0;t<1<<y5[n];t++)j0[r++]=n;for(j0[r-1]=n,i=0,n=0;n<16;n++)for(dg[n]=i,t=0;t<1<<nv[n];t++)E0[i++]=n;for(i>>=7;n<Sf;n++)for(dg[n]=i<<7,t=0;t<1<<nv[n]-7;t++)E0[256+i++]=n;for(e=0;e<=Eu;e++)a[e]=0;for(t=0;t<=143;)il[t*2+1]=8,t++,a[8]++;for(;t<=255;)il[t*2+1]=9,t++,a[9]++;for(;t<=279;)il[t*2+1]=7,t++,a[7]++;for(;t<=287;)il[t*2+1]=8,t++,a[8]++;for(BI(il,C0+1,a),t=0;t<Sf;t++)q1[t*2+1]=5,q1[t*2]=FI(t,5);RI=new sy(il,y5,dp+1,C0,Eu),DI=new sy(q1,nv,0,Sf,Eu),LI=new sy(new Array(0),AG,0,z3,SG)},UI=t=>{let e;for(e=0;e<C0;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Sf;e++)t.dyn_dtree[e*2]=0;for(e=0;e<z3;e++)t.bl_tree[e*2]=0;t.dyn_ltree[V3*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},zI=t=>{t.bi_valid>8?k0(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},XS=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},ly=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&XS(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!XS(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},YS=(t,e,r)=>{let n,i,a=0,s,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?yo(t,i,e):(s=j0[i],yo(t,s+dp+1,e),o=y5[s],o!==0&&(i-=q3[s],ha(t,i,o)),n--,s=MI(n),yo(t,s,r),o=nv[s],o!==0&&(n-=dg[s],ha(t,n,o)));while(a<t.sym_next);yo(t,V3,e)},w5=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,l=-1,u;for(t.heap_len=0,t.heap_max=kI,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)ly(t,r,s);u=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ly(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[u*2]=r[s*2]+r[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=u,t.heap[1]=u++,ly(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],jG(t,e),BI(r,l,t.bl_count)},ZS=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)&&(o<u?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[II*2]++):o<=10?t.bl_tree[TI*2]++:t.bl_tree[PI*2]++,o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4))},KS=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,l=7,u=4;for(s===0&&(l=138,u=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)){if(o<u)do yo(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==i&&(yo(t,a,t.bl_tree),o--),yo(t,II,t.bl_tree),ha(t,o-3,2)):o<=10?(yo(t,TI,t.bl_tree),ha(t,o-3,3)):(yo(t,PI,t.bl_tree),ha(t,o-11,7));o=0,i=a,s===0?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4)}},IG=t=>{let e;for(ZS(t,t.dyn_ltree,t.l_desc.max_code),ZS(t,t.dyn_dtree,t.d_desc.max_code),w5(t,t.bl_desc),e=z3-1;e>=3&&t.bl_tree[OI[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},TG=(t,e,r,n)=>{let i;for(ha(t,e-257,5),ha(t,r-1,5),ha(t,n-4,4),i=0;i<n;i++)ha(t,t.bl_tree[OI[i]*2+1],3);KS(t,t.dyn_ltree,e-1),KS(t,t.dyn_dtree,r-1)},PG=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return WS;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return GS;for(r=32;r<dp;r++)if(t.dyn_ltree[r*2]!==0)return GS;return WS};let QS=!1;const OG=t=>{QS||(kG(),QS=!0),t.l_desc=new oy(t.dyn_ltree,RI),t.d_desc=new oy(t.dyn_dtree,DI),t.bl_desc=new oy(t.bl_tree,LI),t.bi_buf=0,t.bi_valid=0,UI(t)},VI=(t,e,r,n)=>{ha(t,(wG<<1)+(n?1:0),3),zI(t),k0(t,r),k0(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},RG=t=>{ha(t,jI<<1,3),yo(t,V3,il),EG(t)},DG=(t,e,r,n)=>{let i,a,s=0;t.level>0?(t.strm.data_type===yG&&(t.strm.data_type=PG(t)),w5(t,t.l_desc),w5(t,t.d_desc),s=IG(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?VI(t,e,r,n):t.strategy===xG||a===i?(ha(t,(jI<<1)+(n?1:0),3),YS(t,il,q1)):(ha(t,(bG<<1)+(n?1:0),3),TG(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),YS(t,t.dyn_ltree,t.dyn_dtree)),UI(t),n&&zI(t)},LG=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(j0[r]+dp+1)*2]++,t.dyn_dtree[MI(e)*2]++),t.sym_next===t.sym_end);var MG=OG,FG=VI,BG=DG,UG=LG,zG=RG,VG={_tr_init:MG,_tr_stored_block:FG,_tr_flush_block:BG,_tr_tally:UG,_tr_align:zG};const qG=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var I0=qG;const $G=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},HG=new Uint32Array($G()),WG=(t,e,r,n)=>{const i=HG,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var ni=WG,ah={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:GG,_tr_stored_block:b5,_tr_flush_block:XG,_tr_tally:Cc,_tr_align:YG}=VG,{Z_NO_FLUSH:Ec,Z_PARTIAL_FLUSH:ZG,Z_FULL_FLUSH:KG,Z_FINISH:ts,Z_BLOCK:JS,Z_OK:yi,Z_STREAM_END:eA,Z_STREAM_ERROR:Co,Z_DATA_ERROR:QG,Z_BUF_ERROR:cy,Z_DEFAULT_COMPRESSION:JG,Z_FILTERED:eX,Z_HUFFMAN_ONLY:Sm,Z_RLE:tX,Z_FIXED:rX,Z_DEFAULT_STRATEGY:nX,Z_UNKNOWN:iX,Z_DEFLATED:h2}=fp,aX=9,sX=15,oX=8,lX=29,cX=256,_5=cX+1+lX,uX=30,dX=19,fX=2*_5+1,hX=15,ir=3,fc=258,Eo=fc+ir+1,pX=32,sh=42,$3=57,N5=69,S5=73,A5=91,C5=103,ju=113,j1=666,Ki=1,Nh=2,nd=3,Sh=4,mX=3,ku=(t,e)=>(t.msg=ah[e],e),tA=t=>t*2-(t>4?9:0),Jl=t=>{let e=t.length;for(;--e>=0;)t[e]=0},vX=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let gX=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,jc=gX;const ja=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},Da=(t,e)=>{XG(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ja(t.strm)},vr=(t,e)=>{t.pending_buf[t.pending++]=e},v1=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},E5=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=I0(t.adler,e,i,r):t.state.wrap===2&&(t.adler=ni(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},qI=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-Eo?t.strstart-(t.w_size-Eo):0,u=t.window,d=t.w_mask,f=t.prev,p=t.strstart+fc;let h=u[n+s-1],g=u[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(u[i+s]!==g||u[i+s-1]!==h||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(a=fc-(p-n),n=p-fc,a>s){if(t.match_start=e,s=a,a>=o)break;h=u[n+s-1],g=u[n+s]}}while((e=f[e&d])>l&&--r!==0);return s<=t.lookahead?s:t.lookahead},oh=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Eo)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),vX(t),n+=e),t.strm.avail_in===0)break;if(r=E5(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=ir)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=jc(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=jc(t,t.ins_h,t.window[i+ir-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ir)););}while(t.lookahead<Eo&&t.strm.avail_in!==0)},$I=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==ts||e===Ec||n!==i+t.strm.avail_in)))break;s=e===ts&&n===i+t.strm.avail_in?1:0,b5(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,ja(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(E5(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Sh:e!==Ec&&e!==ts&&t.strm.avail_in===0&&t.strstart===t.block_start?Nh:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(E5(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===ts)&&e!==Ec&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=e===ts&&t.strm.avail_in===0&&n===i?1:0,b5(t,t.block_start,n,s),t.block_start+=n,ja(t.strm)),s?nd:Ki)},uy=(t,e)=>{let r,n;for(;;){if(t.lookahead<Eo){if(oh(t),t.lookahead<Eo&&e===Ec)return Ki;if(t.lookahead===0)break}if(r=0,t.lookahead>=ir&&(t.ins_h=jc(t,t.ins_h,t.window[t.strstart+ir-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Eo&&(t.match_length=qI(t,r)),t.match_length>=ir)if(n=Cc(t,t.strstart-t.match_start,t.match_length-ir),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ir){t.match_length--;do t.strstart++,t.ins_h=jc(t,t.ins_h,t.window[t.strstart+ir-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=jc(t,t.ins_h,t.window[t.strstart+1]);else n=Cc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Da(t,!1),t.strm.avail_out===0))return Ki}return t.insert=t.strstart<ir-1?t.strstart:ir-1,e===ts?(Da(t,!0),t.strm.avail_out===0?nd:Sh):t.sym_next&&(Da(t,!1),t.strm.avail_out===0)?Ki:Nh},Bd=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Eo){if(oh(t),t.lookahead<Eo&&e===Ec)return Ki;if(t.lookahead===0)break}if(r=0,t.lookahead>=ir&&(t.ins_h=jc(t,t.ins_h,t.window[t.strstart+ir-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ir-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Eo&&(t.match_length=qI(t,r),t.match_length<=5&&(t.strategy===eX||t.match_length===ir&&t.strstart-t.match_start>4096)&&(t.match_length=ir-1)),t.prev_length>=ir&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ir,n=Cc(t,t.strstart-1-t.prev_match,t.prev_length-ir),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=jc(t,t.ins_h,t.window[t.strstart+ir-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ir-1,t.strstart++,n&&(Da(t,!1),t.strm.avail_out===0))return Ki}else if(t.match_available){if(n=Cc(t,0,t.window[t.strstart-1]),n&&Da(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ki}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Cc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ir-1?t.strstart:ir-1,e===ts?(Da(t,!0),t.strm.avail_out===0?nd:Sh):t.sym_next&&(Da(t,!1),t.strm.avail_out===0)?Ki:Nh},xX=(t,e)=>{let r,n,i,a;const s=t.window;for(;;){if(t.lookahead<=fc){if(oh(t),t.lookahead<=fc&&e===Ec)return Ki;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ir&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+fc;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=fc-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ir?(r=Cc(t,1,t.match_length-ir),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Cc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Da(t,!1),t.strm.avail_out===0))return Ki}return t.insert=0,e===ts?(Da(t,!0),t.strm.avail_out===0?nd:Sh):t.sym_next&&(Da(t,!1),t.strm.avail_out===0)?Ki:Nh},yX=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(oh(t),t.lookahead===0)){if(e===Ec)return Ki;break}if(t.match_length=0,r=Cc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Da(t,!1),t.strm.avail_out===0))return Ki}return t.insert=0,e===ts?(Da(t,!0),t.strm.avail_out===0?nd:Sh):t.sym_next&&(Da(t,!1),t.strm.avail_out===0)?Ki:Nh};function co(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const k1=[new co(0,0,0,0,$I),new co(4,4,8,4,uy),new co(4,5,16,8,uy),new co(4,6,32,32,uy),new co(4,4,16,16,Bd),new co(8,16,32,32,Bd),new co(8,16,128,128,Bd),new co(8,32,128,256,Bd),new co(32,128,258,1024,Bd),new co(32,258,258,4096,Bd)],wX=t=>{t.window_size=2*t.w_size,Jl(t.head),t.max_lazy_match=k1[t.level].max_lazy,t.good_match=k1[t.level].good_length,t.nice_match=k1[t.level].nice_length,t.max_chain_length=k1[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ir-1,t.match_available=0,t.ins_h=0};function bX(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(fX*2),this.dyn_dtree=new Uint16Array((2*uX+1)*2),this.bl_tree=new Uint16Array((2*dX+1)*2),Jl(this.dyn_ltree),Jl(this.dyn_dtree),Jl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hX+1),this.heap=new Uint16Array(2*_5+1),Jl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_5+1),Jl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const hp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==sh&&e.status!==$3&&e.status!==N5&&e.status!==S5&&e.status!==A5&&e.status!==C5&&e.status!==ju&&e.status!==j1?1:0},HI=t=>{if(hp(t))return ku(t,Co);t.total_in=t.total_out=0,t.data_type=iX;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?$3:e.wrap?sh:ju,t.adler=e.wrap===2?0:1,e.last_flush=-2,GG(e),yi},WI=t=>{const e=HI(t);return e===yi&&wX(t.state),e},_X=(t,e)=>hp(t)||t.state.wrap!==2?Co:(t.state.gzhead=e,yi),GI=(t,e,r,n,i,a)=>{if(!t)return Co;let s=1;if(e===JG&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>aX||r!==h2||n<8||n>15||e<0||e>9||a<0||a>rX||n===8&&s!==1)return ku(t,Co);n===8&&(n=9);const o=new bX;return t.state=o,o.strm=t,o.status=sh,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+ir-1)/ir),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=r,WI(t)},NX=(t,e)=>GI(t,e,h2,sX,oX,nX),SX=(t,e)=>{if(hp(t)||e>JS||e<0)return t?ku(t,Co):Co;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===j1&&e!==ts)return ku(t,t.avail_out===0?cy:Co);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(ja(t),t.avail_out===0)return r.last_flush=-1,yi}else if(t.avail_in===0&&tA(e)<=tA(n)&&e!==ts)return ku(t,cy);if(r.status===j1&&t.avail_in!==0)return ku(t,cy);if(r.status===sh&&r.wrap===0&&(r.status=ju),r.status===sh){let i=h2+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=Sm||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=pX),i+=31-i%31,v1(r,i),r.strstart!==0&&(v1(r,t.adler>>>16),v1(r,t.adler&65535)),t.adler=1,r.status=ju,ja(t),r.pending!==0)return r.last_flush=-1,yi}if(r.status===$3){if(t.adler=0,vr(r,31),vr(r,139),vr(r,8),r.gzhead)vr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),vr(r,r.gzhead.time&255),vr(r,r.gzhead.time>>8&255),vr(r,r.gzhead.time>>16&255),vr(r,r.gzhead.time>>24&255),vr(r,r.level===9?2:r.strategy>=Sm||r.level<2?4:0),vr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(vr(r,r.gzhead.extra.length&255),vr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=ni(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=N5;else if(vr(r,0),vr(r,0),vr(r,0),vr(r,0),vr(r,0),vr(r,r.level===9?2:r.strategy>=Sm||r.level<2?4:0),vr(r,mX),r.status=ju,ja(t),r.pending!==0)return r.last_flush=-1,yi}if(r.status===N5){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,ja(t),r.pending!==0)return r.last_flush=-1,yi;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=S5}if(r.status===S5){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i)),ja(t),r.pending!==0)return r.last_flush=-1,yi;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,vr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=A5}if(r.status===A5){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i)),ja(t),r.pending!==0)return r.last_flush=-1,yi;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,vr(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=ni(t.adler,r.pending_buf,r.pending-i,i))}r.status=C5}if(r.status===C5){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ja(t),r.pending!==0))return r.last_flush=-1,yi;vr(r,t.adler&255),vr(r,t.adler>>8&255),t.adler=0}if(r.status=ju,ja(t),r.pending!==0)return r.last_flush=-1,yi}if(t.avail_in!==0||r.lookahead!==0||e!==Ec&&r.status!==j1){let i=r.level===0?$I(r,e):r.strategy===Sm?yX(r,e):r.strategy===tX?xX(r,e):k1[r.level].func(r,e);if((i===nd||i===Sh)&&(r.status=j1),i===Ki||i===nd)return t.avail_out===0&&(r.last_flush=-1),yi;if(i===Nh&&(e===ZG?YG(r):e!==JS&&(b5(r,0,0,!1),e===KG&&(Jl(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ja(t),t.avail_out===0))return r.last_flush=-1,yi}return e!==ts?yi:r.wrap<=0?eA:(r.wrap===2?(vr(r,t.adler&255),vr(r,t.adler>>8&255),vr(r,t.adler>>16&255),vr(r,t.adler>>24&255),vr(r,t.total_in&255),vr(r,t.total_in>>8&255),vr(r,t.total_in>>16&255),vr(r,t.total_in>>24&255)):(v1(r,t.adler>>>16),v1(r,t.adler&65535)),ja(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?yi:eA)},AX=t=>{if(hp(t))return Co;const e=t.state.status;return t.state=null,e===ju?ku(t,QG):yi},CX=(t,e)=>{let r=e.length;if(hp(t))return Co;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==sh||n.lookahead)return Co;if(i===1&&(t.adler=I0(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Jl(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,oh(n);n.lookahead>=ir;){let l=n.strstart,u=n.lookahead-(ir-1);do n.ins_h=jc(n,n.ins_h,n.window[l+ir-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=ir-1,oh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ir-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,yi};var EX=NX,jX=GI,kX=WI,IX=HI,TX=_X,PX=SX,OX=AX,RX=CX,DX="pako deflate (from Nodeca project)",$1={deflateInit:EX,deflateInit2:jX,deflateReset:kX,deflateResetKeep:IX,deflateSetHeader:TX,deflate:PX,deflateEnd:OX,deflateSetDictionary:RX,deflateInfo:DX};const LX=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var MX=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)LX(r,n)&&(t[n]=r[n])}}return t},FX=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},p2={assign:MX,flattenChunks:FX};let XI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XI=!1}const T0=new Uint8Array(256);for(let t=0;t<256;t++)T0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;T0[254]=T0[254]=1;var BX=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const UX=(t,e)=>{if(e<65534&&t.subarray&&XI)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var zX=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=T0[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return UX(a,i)},VX=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+T0[t[r]]>e?r:e},P0={string2buf:BX,buf2string:zX,utf8border:VX};function qX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YI=qX;const ZI=Object.prototype.toString,{Z_NO_FLUSH:$X,Z_SYNC_FLUSH:HX,Z_FULL_FLUSH:WX,Z_FINISH:GX,Z_OK:fg,Z_STREAM_END:XX,Z_DEFAULT_COMPRESSION:YX,Z_DEFAULT_STRATEGY:ZX,Z_DEFLATED:KX}=fp;function H3(t){this.options=p2.assign({level:YX,method:KX,chunkSize:16384,windowBits:15,memLevel:8,strategy:ZX},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YI,this.strm.avail_out=0;let r=$1.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==fg)throw new Error(ah[r]);if(e.header&&$1.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=P0.string2buf(e.dictionary):ZI.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=$1.deflateSetDictionary(this.strm,n),r!==fg)throw new Error(ah[r]);this._dict_set=!0}}H3.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?GX:$X,typeof t=="string"?r.input=P0.string2buf(t):ZI.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===HX||a===WX)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=$1.deflate(r,a),i===XX)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=$1.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fg;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};H3.prototype.onData=function(t){this.chunks.push(t)};H3.prototype.onEnd=function(t){t===fg&&(this.result=p2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Am=16209,QX=16191;var JX=function(e,r){let n,i,a,s,o,l,u,d,f,p,h,g,v,b,x,w,_,N,k,D,T,R,P,O;const j=e.state;n=e.next_in,P=e.input,i=n+(e.avail_in-5),a=e.next_out,O=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=j.dmax,u=j.wsize,d=j.whave,f=j.wnext,p=j.window,h=j.hold,g=j.bits,v=j.lencode,b=j.distcode,x=(1<<j.lenbits)-1,w=(1<<j.distbits)-1;e:do{g<15&&(h+=P[n++]<<g,g+=8,h+=P[n++]<<g,g+=8),_=v[h&x];t:for(;;){if(N=_>>>24,h>>>=N,g-=N,N=_>>>16&255,N===0)O[a++]=_&65535;else if(N&16){k=_&65535,N&=15,N&&(g<N&&(h+=P[n++]<<g,g+=8),k+=h&(1<<N)-1,h>>>=N,g-=N),g<15&&(h+=P[n++]<<g,g+=8,h+=P[n++]<<g,g+=8),_=b[h&w];r:for(;;){if(N=_>>>24,h>>>=N,g-=N,N=_>>>16&255,N&16){if(D=_&65535,N&=15,g<N&&(h+=P[n++]<<g,g+=8,g<N&&(h+=P[n++]<<g,g+=8)),D+=h&(1<<N)-1,D>l){e.msg="invalid distance too far back",j.mode=Am;break e}if(h>>>=N,g-=N,N=a-s,D>N){if(N=D-N,N>d&&j.sane){e.msg="invalid distance too far back",j.mode=Am;break e}if(T=0,R=p,f===0){if(T+=u-N,N<k){k-=N;do O[a++]=p[T++];while(--N);T=a-D,R=O}}else if(f<N){if(T+=u+f-N,N-=f,N<k){k-=N;do O[a++]=p[T++];while(--N);if(T=0,f<k){N=f,k-=N;do O[a++]=p[T++];while(--N);T=a-D,R=O}}}else if(T+=f-N,N<k){k-=N;do O[a++]=p[T++];while(--N);T=a-D,R=O}for(;k>2;)O[a++]=R[T++],O[a++]=R[T++],O[a++]=R[T++],k-=3;k&&(O[a++]=R[T++],k>1&&(O[a++]=R[T++]))}else{T=a-D;do O[a++]=O[T++],O[a++]=O[T++],O[a++]=O[T++],k-=3;while(k>2);k&&(O[a++]=O[T++],k>1&&(O[a++]=O[T++]))}}else if(N&64){e.msg="invalid distance code",j.mode=Am;break e}else{_=b[(_&65535)+(h&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){j.mode=QX;break e}else{e.msg="invalid literal/length code",j.mode=Am;break e}else{_=v[(_&65535)+(h&(1<<N)-1)];continue t}break}}while(n<i&&a<o);k=g>>3,n-=k,g-=k<<3,h&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),j.hold=h,j.bits=g};const Ud=15,rA=852,nA=592,iA=0,dy=1,aA=2,eY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iY=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let u=0,d=0,f=0,p=0,h=0,g=0,v=0,b=0,x=0,w=0,_,N,k,D,T,R=null,P;const O=new Uint16Array(Ud+1),j=new Uint16Array(Ud+1);let E=null,L,B,te;for(u=0;u<=Ud;u++)O[u]=0;for(d=0;d<n;d++)O[e[r+d]]++;for(h=l,p=Ud;p>=1&&O[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&O[f]===0;f++);for(h<f&&(h=f),b=1,u=1;u<=Ud;u++)if(b<<=1,b-=O[u],b<0)return-1;if(b>0&&(t===iA||p!==1))return-1;for(j[1]=0,u=1;u<Ud;u++)j[u+1]=j[u]+O[u];for(d=0;d<n;d++)e[r+d]!==0&&(s[j[e[r+d]]++]=d);if(t===iA?(R=E=s,P=20):t===dy?(R=eY,E=tY,P=257):(R=rY,E=nY,P=0),w=0,d=0,u=f,T=a,g=h,v=0,k=-1,x=1<<h,D=x-1,t===dy&&x>rA||t===aA&&x>nA)return 1;for(;;){L=u-v,s[d]+1<P?(B=0,te=s[d]):s[d]>=P?(B=E[s[d]-P],te=R[s[d]-P]):(B=96,te=0),_=1<<u-v,N=1<<g,f=N;do N-=_,i[T+(w>>v)+N]=L<<24|B<<16|te|0;while(N!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,d++,--O[u]===0){if(u===p)break;u=e[r+s[d]]}if(u>h&&(w&D)!==k){for(v===0&&(v=h),T+=f,g=u-v,b=1<<g;g+v<p&&(b-=O[g+v],!(b<=0));)g++,b<<=1;if(x+=1<<g,t===dy&&x>rA||t===aA&&x>nA)return 1;k=w&D,i[k]=h<<24|g<<16|T-a|0}}return w!==0&&(i[T+w]=u-v<<24|64<<16|0),o.bits=h,0};var H1=iY;const aY=0,KI=1,QI=2,{Z_FINISH:sA,Z_BLOCK:sY,Z_TREES:Cm,Z_OK:id,Z_STREAM_END:oY,Z_NEED_DICT:lY,Z_STREAM_ERROR:hs,Z_DATA_ERROR:JI,Z_MEM_ERROR:eT,Z_BUF_ERROR:cY,Z_DEFLATED:oA}=fp,m2=16180,lA=16181,cA=16182,uA=16183,dA=16184,fA=16185,hA=16186,pA=16187,mA=16188,vA=16189,hg=16190,Qo=16191,fy=16192,gA=16193,hy=16194,xA=16195,yA=16196,wA=16197,bA=16198,Em=16199,jm=16200,_A=16201,NA=16202,SA=16203,AA=16204,CA=16205,py=16206,EA=16207,jA=16208,Kr=16209,tT=16210,rT=16211,uY=852,dY=592,fY=15,hY=fY,kA=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function pY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<m2||e.mode>rT?1:0},nT=t=>{if(pd(t))return hs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=m2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uY),e.distcode=e.distdyn=new Int32Array(dY),e.sane=1,e.back=-1,id},iT=t=>{if(pd(t))return hs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,nT(t)},aT=(t,e)=>{let r;if(pd(t))return hs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,iT(t))},sT=(t,e)=>{if(!t)return hs;const r=new pY;t.state=r,r.strm=t,r.window=null,r.mode=m2;const n=aT(t,e);return n!==id&&(t.state=null),n},mY=t=>sT(t,hY);let IA=!0,my,vy;const vY=t=>{if(IA){my=new Int32Array(512),vy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(H1(KI,t.lens,0,288,my,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;H1(QI,t.lens,0,32,vy,0,t.work,{bits:5}),IA=!1}t.lencode=my,t.lenbits=9,t.distcode=vy,t.distbits=5},oT=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},gY=(t,e)=>{let r,n,i,a,s,o,l,u,d,f,p,h,g,v,b=0,x,w,_,N,k,D,T,R;const P=new Uint8Array(4);let O,j;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pd(t)||!t.output||!t.input&&t.avail_in!==0)return hs;r=t.state,r.mode===Qo&&(r.mode=fy),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,f=o,p=l,R=id;e:for(;;)switch(r.mode){case m2:if(r.wrap===0){r.mode=fy;break}for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=ni(r.check,P,2,0),u=0,d=0,r.mode=lA;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Kr;break}if((u&15)!==oA){t.msg="unknown compression method",r.mode=Kr;break}if(u>>>=4,d-=4,T=(u&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){t.msg="invalid window size",r.mode=Kr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?vA:Qo,u=0,d=0;break;case lA:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==oA){t.msg="unknown compression method",r.mode=Kr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Kr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ni(r.check,P,2,0)),u=0,d=0,r.mode=cA;case cA:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=ni(r.check,P,4,0)),u=0,d=0,r.mode=uA;case uA:for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ni(r.check,P,2,0)),u=0,d=0,r.mode=dA;case dA:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=ni(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=fA;case fA:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),T)),r.flags&512&&r.wrap&4&&(r.check=ni(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=hA;case hA:if(r.flags&2048){if(o===0)break e;h=0;do T=n[a+h++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ni(r.check,n,h,a)),o-=h,a+=h,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=pA;case pA:if(r.flags&4096){if(o===0)break e;h=0;do T=n[a+h++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ni(r.check,n,h,a)),o-=h,a+=h,T)break e}else r.head&&(r.head.comment=null);r.mode=mA;case mA:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Kr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Qo;break;case vA:for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}t.adler=r.check=kA(u),u=0,d=0,r.mode=hg;case hg:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,lY;t.adler=r.check=1,r.mode=Qo;case Qo:if(e===sY||e===Cm)break e;case fy:if(r.last){u>>>=d&7,d-=d&7,r.mode=py;break}for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=gA;break;case 1:if(vY(r),r.mode=Em,e===Cm){u>>>=2,d-=2;break e}break;case 2:r.mode=yA;break;case 3:t.msg="invalid block type",r.mode=Kr}u>>>=2,d-=2;break;case gA:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Kr;break}if(r.length=u&65535,u=0,d=0,r.mode=hy,e===Cm)break e;case hy:r.mode=xA;case xA:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=Qo;break;case yA:for(;d<14;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Kr;break}r.have=0,r.mode=wA;case wA:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.lens[E[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},R=H1(aY,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,R){t.msg="invalid code lengths set",r.mode=Kr;break}r.have=0,r.mode=bA;case bA:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(_<16)u>>>=x,d-=x,r.lens[r.have++]=_;else{if(_===16){for(j=x+2;d<j;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Kr;break}T=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(_===17){for(j=x+3;d<j;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,T=0,h=3+(u&7),u>>>=3,d-=3}else{for(j=x+7;d<j;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,T=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Kr;break}for(;h--;)r.lens[r.have++]=T}}if(r.mode===Kr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Kr;break}if(r.lenbits=9,O={bits:r.lenbits},R=H1(KI,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,R){t.msg="invalid literal/lengths set",r.mode=Kr;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},R=H1(QI,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,R){t.msg="invalid distances set",r.mode=Kr;break}if(r.mode=Em,e===Cm)break e;case Em:r.mode=jm;case jm:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,JX(t,p),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,r.mode===Qo&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(w&&!(w&240)){for(N=x,k=w,D=_;b=r.lencode[D+((u&(1<<N+k)-1)>>N)],x=b>>>24,w=b>>>16&255,_=b&65535,!(N+x<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=x,d-=x,r.back+=x,r.length=_,w===0){r.mode=CA;break}if(w&32){r.back=-1,r.mode=Qo;break}if(w&64){t.msg="invalid literal/length code",r.mode=Kr;break}r.extra=w&15,r.mode=_A;case _A:if(r.extra){for(j=r.extra;d<j;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=NA;case NA:for(;b=r.distcode[u&(1<<r.distbits)-1],x=b>>>24,w=b>>>16&255,_=b&65535,!(x<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(!(w&240)){for(N=x,k=w,D=_;b=r.distcode[D+((u&(1<<N+k)-1)>>N)],x=b>>>24,w=b>>>16&255,_=b&65535,!(N+x<=d);){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=x,d-=x,r.back+=x,w&64){t.msg="invalid distance code",r.mode=Kr;break}r.offset=_,r.extra=w&15,r.mode=SA;case SA:if(r.extra){for(j=r.extra;d<j;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Kr;break}r.mode=AA;case AA:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Kr;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),v=r.window}else v=i,g=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=v[g++];while(--h);r.length===0&&(r.mode=jm);break;case CA:if(l===0)break e;i[s++]=r.length,l--,r.mode=jm;break;case py:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[a++]<<d,d+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ni(r.check,i,p,s-p):I0(r.check,i,p,s-p)),p=l,r.wrap&4&&(r.flags?u:kA(u))!==r.check){t.msg="incorrect data check",r.mode=Kr;break}u=0,d=0}r.mode=EA;case EA:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Kr;break}u=0,d=0}r.mode=jA;case jA:R=oY;break e;case Kr:R=JI;break e;case tT:return eT;case rT:default:return hs}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Kr&&(r.mode<py||e!==sA))&&oT(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?ni(r.check,i,p,t.next_out-p):I0(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Qo?128:0)+(r.mode===Em||r.mode===hy?256:0),(f===0&&p===0||e===sA)&&R===id&&(R=cY),R},xY=t=>{if(pd(t))return hs;let e=t.state;return e.window&&(e.window=null),t.state=null,id},yY=(t,e)=>{if(pd(t))return hs;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,id):hs},wY=(t,e)=>{const r=e.length;let n,i,a;return pd(t)||(n=t.state,n.wrap!==0&&n.mode!==hg)?hs:n.mode===hg&&(i=1,i=I0(i,e,r,0),i!==n.check)?JI:(a=oT(t,e,r,r),a?(n.mode=tT,eT):(n.havedict=1,id))};var bY=iT,_Y=aT,NY=nT,SY=mY,AY=sT,CY=gY,EY=xY,jY=yY,kY=wY,IY="pako inflate (from Nodeca project)",al={inflateReset:bY,inflateReset2:_Y,inflateResetKeep:NY,inflateInit:SY,inflateInit2:AY,inflate:CY,inflateEnd:EY,inflateGetHeader:jY,inflateSetDictionary:kY,inflateInfo:IY};function TY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PY=TY;const lT=Object.prototype.toString,{Z_NO_FLUSH:OY,Z_FINISH:RY,Z_OK:O0,Z_STREAM_END:gy,Z_NEED_DICT:xy,Z_STREAM_ERROR:DY,Z_DATA_ERROR:TA,Z_MEM_ERROR:LY}=fp;function pp(t){this.options=p2.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YI,this.strm.avail_out=0;let r=al.inflateInit2(this.strm,e.windowBits);if(r!==O0)throw new Error(ah[r]);if(this.header=new PY,al.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P0.string2buf(e.dictionary):lT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=al.inflateSetDictionary(this.strm,e.dictionary),r!==O0)))throw new Error(ah[r])}pp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?RY:OY,lT.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=al.inflate(r,s),a===xy&&i&&(a=al.inflateSetDictionary(r,i),a===O0?a=al.inflate(r,s):a===TA&&(a=xy));r.avail_in>0&&a===gy&&r.state.wrap>0&&t[r.next_in]!==0;)al.inflateReset(r),a=al.inflate(r,s);switch(a){case DY:case TA:case xy:case LY:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===gy))if(this.options.to==="string"){let l=P0.utf8border(r.output,r.next_out),u=r.next_out-l,d=P0.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===O0&&o===0)){if(a===gy)return a=al.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};pp.prototype.onData=function(t){this.chunks.push(t)};pp.prototype.onEnd=function(t){t===O0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function W3(t,e){const r=new pp(e);if(r.push(t),r.err)throw r.msg||ah[r.err];return r.result}function MY(t,e){return e=e||{},e.raw=!0,W3(t,e)}var FY=pp,BY=W3,UY=MY,zY=W3,VY=fp,qY={Inflate:FY,inflate:BY,inflateRaw:UY,ungzip:zY,constants:VY};const{Inflate:$Y,inflate:HY,inflateRaw:BJ,ungzip:UJ}=qY;var PA=$Y,WY=HY;const cT=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;cT[t]=e}const OA=4294967295;function GY(t,e,r){let n=t;for(let i=0;i<r;i++)n=cT[(n^e[i])&255]^n>>>8;return n}function XY(t,e){return(GY(OA,t,e)^OA)>>>0}function RA(t,e,r){const n=t.readUint32(),i=XY(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function uT(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function dT(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function fT(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function hT(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function pT(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+YY(e[a-i],r[a],r[a-i])&255}}function YY(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function ZY(t,e,r,n,i,a){switch(t){case 0:uT(e,r,i);break;case 1:dT(e,r,i,a);break;case 2:fT(e,r,n,i);break;case 3:hT(e,r,n,i,a);break;case 4:pT(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const KY=new Uint16Array([255]),QY=new Uint8Array(KY.buffer),JY=QY[0]===255;function eZ(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*o,v=new Uint8Array(g);for(let b=0;b<h;b++){const x=e[u++],w=e.subarray(u,u+g);u+=g;const _=new Uint8Array(g);ZY(x,w,_,v,g,o),v.set(_);for(let N=0;N<p;N++){const k=f.x+N*f.xStep,D=f.y+b*f.yStep;if(!(k>=r||D>=n))for(let T=0;T<o;T++)l[(D*r+k)*o+T]=_[N*o+T]}}}if(a===16){const d=new Uint16Array(l.buffer);if(JY)for(let f=0;f<d.length;f++)d[f]=tZ(d[f]);return d}else return l}function tZ(t){return(t&255)<<8|t>>8&255}const rZ=new Uint16Array([255]),nZ=new Uint8Array(rZ.buffer),iZ=nZ[0]===255,aZ=new Uint8Array(0);function DA(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let u=aZ,d=0,f,p;for(let h=0;h<n;h++){switch(f=e.subarray(d+1,d+1+o),p=l.subarray(h*o,(h+1)*o),e[d]){case 0:uT(f,p,o);break;case 1:dT(f,p,o,s);break;case 2:fT(f,p,u,o);break;case 3:hT(f,p,u,o,s);break;case 4:pT(f,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(iZ)for(let g=0;g<h.length;g++)h[g]=sZ(h[g]);return h}else return l}function sZ(t){return(t&255)<<8|t>>8&255}const iv=Uint8Array.of(137,80,78,71,13,10,26,10);function LA(t){if(!oZ(t.readBytes(iv.length)))throw new Error("wrong PNG signature")}function oZ(t){if(t.length<iv.length)return!1;for(let e=0;e<iv.length;e++)if(t[e]!==iv[e])return!1;return!0}const lZ="tEXt",cZ=0,mT=new TextDecoder("latin1");function uZ(t){if(fZ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const dZ=/^[\u0000-\u00FF]*$/;function fZ(t){if(!dZ.test(t))throw new Error("invalid latin1 text")}function hZ(t,e,r){const n=vT(e);t[n]=pZ(e,r-n.length-1)}function vT(t){for(t.mark();t.readByte()!==cZ;);const e=t.offset;t.reset();const r=mT.decode(t.readBytes(e-t.offset-1));return t.skip(1),uZ(r),r}function pZ(t,e){return mT.decode(t.readBytes(e))}const Ea={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yy={UNKNOWN:-1,DEFLATE:0},MA={UNKNOWN:-1,ADAPTIVE:0},wy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},km={NONE:0,BACKGROUND:1,PREVIOUS:2},by={SOURCE:0,OVER:1};class mZ extends B3{constructor(r,n={}){super(r);Sr(this,"_checkCrc");Sr(this,"_inflator");Sr(this,"_png");Sr(this,"_apng");Sr(this,"_end");Sr(this,"_hasPalette");Sr(this,"_palette");Sr(this,"_hasTransparency");Sr(this,"_transparency");Sr(this,"_compressionMethod");Sr(this,"_filterMethod");Sr(this,"_interlaceMethod");Sr(this,"_colorType");Sr(this,"_isAnimated");Sr(this,"_numberOfFrames");Sr(this,"_numberOfPlays");Sr(this,"_frames");Sr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new PA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yy.UNKNOWN,this._filterMethod=MA.UNKNOWN,this._interlaceMethod=wy.UNKNOWN,this._colorType=Ea.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(LA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(LA(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case lZ:hZ(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RA(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RA(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=vZ(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ea.GREYSCALE:i=1;break;case Ea.TRUECOLOUR:i=3;break;case Ea.INDEXED_COLOUR:i=1;break;case Ea.GREYSCALE_ALPHA:i=2;break;case Ea.TRUECOLOUR_ALPHA:i=4;break;case Ea.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==yy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ea.GREYSCALE:case Ea.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ea.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ea.UNKNOWN:case Ea.GREYSCALE_ALPHA:case Ea.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=vT(this),i=this.readUint8();if(i!==yy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:WY(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=DA({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case km.NONE:break;case km.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case km.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case by.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case by.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++){const f=n.data[u+this._png.channels-1]/i,p=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(f*p+(1-f)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==MA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wy.NO_INTERLACE)this._png.data=DA({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wy.ADAM7)this._png.data=eZ({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:km.NONE,blendOp:by.SOURCE,data:r}),this._inflator=new PA,this._writingDataChunks=!1}}function vZ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var FA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(FA||(FA={}));function gZ(t,e){return new mZ(t,e).decode()}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _y(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Dr={log:_y,warn:function(t){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):_y.call(null,arguments))},error:function(t){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):_y(t))}};function Ny(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){wu(n.response,e,r)},n.onerror=function(){Dr.error("could not download file")},n.send()}function BA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Im(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wu=Pt.saveAs||((typeof window>"u"?"undefined":jr(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Pt.URL||Pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?BA(i.href)?Ny(t,e,r):Im(i,i.target="_blank"):Im(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Im(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(BA(t))Ny(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Im(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:jr(a)!=="object"&&(Dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ny(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Pt.HTMLElement)||Pt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":jr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=Pt.URL||Pt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var av=Pt.atob.bind(Pt),UA=Pt.btoa.bind(Pt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sy(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=ji(r,n,i,a,e[0],7,-680876936),a=ji(a,r,n,i,e[1],12,-389564586),i=ji(i,a,r,n,e[2],17,606105819),n=ji(n,i,a,r,e[3],22,-1044525330),r=ji(r,n,i,a,e[4],7,-176418897),a=ji(a,r,n,i,e[5],12,1200080426),i=ji(i,a,r,n,e[6],17,-1473231341),n=ji(n,i,a,r,e[7],22,-45705983),r=ji(r,n,i,a,e[8],7,1770035416),a=ji(a,r,n,i,e[9],12,-1958414417),i=ji(i,a,r,n,e[10],17,-42063),n=ji(n,i,a,r,e[11],22,-1990404162),r=ji(r,n,i,a,e[12],7,1804603682),a=ji(a,r,n,i,e[13],12,-40341101),i=ji(i,a,r,n,e[14],17,-1502002290),r=ki(r,n=ji(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ki(a,r,n,i,e[6],9,-1069501632),i=ki(i,a,r,n,e[11],14,643717713),n=ki(n,i,a,r,e[0],20,-373897302),r=ki(r,n,i,a,e[5],5,-701558691),a=ki(a,r,n,i,e[10],9,38016083),i=ki(i,a,r,n,e[15],14,-660478335),n=ki(n,i,a,r,e[4],20,-405537848),r=ki(r,n,i,a,e[9],5,568446438),a=ki(a,r,n,i,e[14],9,-1019803690),i=ki(i,a,r,n,e[3],14,-187363961),n=ki(n,i,a,r,e[8],20,1163531501),r=ki(r,n,i,a,e[13],5,-1444681467),a=ki(a,r,n,i,e[2],9,-51403784),i=ki(i,a,r,n,e[7],14,1735328473),r=Ii(r,n=ki(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ii(a,r,n,i,e[8],11,-2022574463),i=Ii(i,a,r,n,e[11],16,1839030562),n=Ii(n,i,a,r,e[14],23,-35309556),r=Ii(r,n,i,a,e[1],4,-1530992060),a=Ii(a,r,n,i,e[4],11,1272893353),i=Ii(i,a,r,n,e[7],16,-155497632),n=Ii(n,i,a,r,e[10],23,-1094730640),r=Ii(r,n,i,a,e[13],4,681279174),a=Ii(a,r,n,i,e[0],11,-358537222),i=Ii(i,a,r,n,e[3],16,-722521979),n=Ii(n,i,a,r,e[6],23,76029189),r=Ii(r,n,i,a,e[9],4,-640364487),a=Ii(a,r,n,i,e[12],11,-421815835),i=Ii(i,a,r,n,e[15],16,530742520),r=Ti(r,n=Ii(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ti(a,r,n,i,e[7],10,1126891415),i=Ti(i,a,r,n,e[14],15,-1416354905),n=Ti(n,i,a,r,e[5],21,-57434055),r=Ti(r,n,i,a,e[12],6,1700485571),a=Ti(a,r,n,i,e[3],10,-1894986606),i=Ti(i,a,r,n,e[10],15,-1051523),n=Ti(n,i,a,r,e[1],21,-2054922799),r=Ti(r,n,i,a,e[8],6,1873313359),a=Ti(a,r,n,i,e[15],10,-30611744),i=Ti(i,a,r,n,e[6],15,-1560198380),n=Ti(n,i,a,r,e[13],21,1309151649),r=Ti(r,n,i,a,e[4],6,-145523070),a=Ti(a,r,n,i,e[11],10,-1120210379),i=Ti(i,a,r,n,e[2],15,718787259),n=Ti(n,i,a,r,e[9],21,-343485551),t[0]=hc(r,t[0]),t[1]=hc(n,t[1]),t[2]=hc(i,t[2]),t[3]=hc(a,t[3])}function v2(t,e,r,n,i,a){return e=hc(hc(e,t),hc(n,a)),hc(e<<i|e>>>32-i,r)}function ji(t,e,r,n,i,a,s){return v2(e&r|~e&n,t,e,i,a,s)}function ki(t,e,r,n,i,a,s){return v2(e&n|r&~n,t,e,i,a,s)}function Ii(t,e,r,n,i,a,s){return v2(e^r^n,t,e,i,a,s)}function Ti(t,e,r,n,i,a,s){return v2(r^(e|~n),t,e,i,a,s)}function xT(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Sy(n,xZ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Sy(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Sy(n,i),n}function xZ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var zA="0123456789abcdef".split("");function yZ(t){for(var e="",r=0;r<4;r++)e+=zA[t>>8*r+4&15]+zA[t>>8*r&15];return e}function wZ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function j5(t){return xT(t).map(wZ).join("")}var bZ=function(t){for(var e=0;e<t.length;e++)t[e]=yZ(t[e]);return t.join("")}(xT("hello"))!="5d41402abc4b2a76b9719d911017c592";function hc(t,e){if(bZ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k5(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var f=e.length,p=0,h=0,g="";for(l=0;l<f;l++)h=(h+(d=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=d,s=o[(o[p]+o[h])%256],g+=String.fromCharCode(e.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var VA={print:4,modify:8,copy:16,"annot-forms":32};function $d(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(VA.perm!==void 0)throw new Error("Invalid permission: "+o);i+=VA[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=j5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=k5(this.encryptionKey,this.padding)}function Hd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function qA(t){if(jr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Pt.console&&Dr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pg(t){if(!(this instanceof pg))return new pg(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function yT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _u(t,e,r,n,i){if(!(this instanceof _u))return new _u(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,yT.call(this,n,i)}function uf(t,e,r,n,i){if(!(this instanceof uf))return new uf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,yT.call(this,n,i)}function yt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,u="S",d=null;jr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=qA;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(S){g=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var x=h.__private__.getPageFormat=function(S){return b[S]};i=i||"a4";var w="compat",_="advanced",N=w;function k(){this.saveGraphicsState(),Q(new Ct(Ge,0,0,-Ge,0,ya()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",N=_}function D(){this.restoreGraphicsState(),u="S",N=w}var T=h.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};h.advancedAPI=function(S){var F=N===w;return F&&k.call(this),typeof S!="function"||(S(this),F&&D.call(this)),this},h.compatAPI=function(S){var F=N===_;return F&&D.call(this),typeof S!="function"||(S(this),F&&k.call(this)),this},h.isAdvancedAPI=function(){return N===_};var R,P=function(S){if(N!==_)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(S,F){var J=e||F;if(isNaN(S)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(J).replace(/0+$/,"")};R=h.hpf=h.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return O(S,16)};var j=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return O(S,2)},E=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return O(S,3)},L=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===w?S*Ge:N===_?S:void 0},B=function(S){return L(function(F){return N===w?ya()-F:N===_?F:void 0}(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var te,re="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return re},H=h.__private__.setFileId=function(S){return re=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(vn=new $d(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};h.setFileId=function(S){return H(S),this},h.getFileId=function(){return se()};var ne=h.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),J=F<0?"+":"-",oe=Math.floor(Math.abs(F/60)),he=Math.abs(F%60),Oe=[J,Y(oe),"'",Y(he),"'"].join("");return["D:",S.getFullYear(),Y(S.getMonth()+1),Y(S.getDate()),Y(S.getHours()),Y(S.getMinutes()),Y(S.getSeconds()),Oe].join("")},ge=h.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),J=parseInt(S.substr(6,2),10)-1,oe=parseInt(S.substr(8,2),10),he=parseInt(S.substr(10,2),10),Oe=parseInt(S.substr(12,2),10),Be=parseInt(S.substr(14,2),10);return new Date(F,J,oe,he,Oe,Be,0)},_e=h.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=ne(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return te=F},U=h.__private__.getCreationDate=function(S){var F=te;return S==="jsDate"&&(F=ge(te)),F};h.setCreationDate=function(S){return _e(S),this},h.getCreationDate=function(S){return U(S)};var W,Y=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ie=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ue=0,ae=[],xe=[],ve=0,Ce=[],je=[],Le=!1,Ee=xe;h.__private__.setCustomOutputDestination=function(S){Le=!0,Ee=S};var me=function(S){Le||(Ee=S)};h.__private__.resetCustomOutputDestination=function(){Le=!1,Ee=xe};var Q=h.__private__.out=function(S){return S=S.toString(),ve+=S.length+1,Ee.push(S),Ee},at=h.__private__.write=function(S){return Q(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},wt=h.__private__.getArrayBuffer=function(S){for(var F=S.length,J=new ArrayBuffer(F),oe=new Uint8Array(J);F--;)oe[F]=S.charCodeAt(F);return J},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return gt};var Ue=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return Ue=N===_?S/Ge:S,this};var pt,Ye=h.__private__.getFontSize=h.getFontSize=function(){return N===w?Ue:Ue*Ge},ee=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return ee=S,this},h.__private__.getR2L=h.getR2L=function(){return ee};var G,de=h.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))pt=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');pt=S}else pt=parseInt(S,10)};h.__private__.getZoomMode=function(){return pt};var Ae,Se=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');G=S};h.__private__.getPageMode=function(){return G};var ke=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ae=S};h.__private__.getLayoutMode=function(){return Ae},h.__private__.setDisplayMode=h.setDisplayMode=function(S,F,J){return de(S),ke(F),Se(J),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(Re).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[S]},h.__private__.getDocumentProperties=function(){return Re},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var F in Re)Re.hasOwnProperty(F)&&S[F]&&(Re[F]=S[F]);return this},h.__private__.setDocumentProperty=function(S,F){if(Object.keys(Re).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[S]=F};var Fe,Ge,$e,cr,Vt,rt={},kt={},tr=[],St={},Zt={},Mt={},mn={},Ln=null,Or=0,Rt=[],xr=new qA(h),Kc=t.hotfixes||[],Si={},Lo={},Qs=[],Ct=function S(F,J,oe,he,Oe,Be){if(!(this instanceof S))return new S(F,J,oe,he,Oe,Be);isNaN(F)&&(F=1),isNaN(J)&&(J=0),isNaN(oe)&&(oe=0),isNaN(he)&&(he=1),isNaN(Oe)&&(Oe=0),isNaN(Be)&&(Be=0),this._matrix=[F,J,oe,he,Oe,Be]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(S)},Ct.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,J=S.sx*this.shy+S.shy*this.sy,oe=S.shx*this.sx+S.sy*this.shx,he=S.shx*this.shy+S.sy*this.sy,Oe=S.tx*this.sx+S.ty*this.shx+this.tx,Be=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ct(F,J,oe,he,Oe,Be)},Ct.prototype.decompose=function(){var S=this.sx,F=this.shy,J=this.shx,oe=this.sy,he=this.tx,Oe=this.ty,Be=Math.sqrt(S*S+F*F),lt=(S/=Be)*J+(F/=Be)*oe;J-=S*lt,oe-=F*lt;var mt=Math.sqrt(J*J+oe*oe);return lt/=mt,S*(oe/=mt)<F*(J/=mt)&&(S=-S,F=-F,lt=-lt,Be=-Be),{scale:new Ct(Be,0,0,mt,0,0),translate:new Ct(1,0,0,1,he,Oe),rotate:new Ct(S,F,-F,S,0,0),skew:new Ct(1,0,lt,1,0,0)}},Ct.prototype.toString=function(S){return this.join(" ")},Ct.prototype.inversed=function(){var S=this.sx,F=this.shy,J=this.shx,oe=this.sy,he=this.tx,Oe=this.ty,Be=1/(S*oe-F*J),lt=oe*Be,mt=-F*Be,Tt=-J*Be,Bt=S*Be;return new Ct(lt,mt,Tt,Bt,-lt*he-Tt*Oe,-mt*he-Bt*Oe)},Ct.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,J=S.x*this.shy+S.y*this.sy+this.ty;return new ou(F,J)},Ct.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),J=this.applyToPoint(new ou(S.x+S.w,S.y+S.h));return new Dh(F.x,F.y,J.x-F.x,J.y-F.y)},Ct.prototype.clone=function(){var S=this.sx,F=this.shy,J=this.shx,oe=this.sy,he=this.tx,Oe=this.ty;return new Ct(S,F,J,oe,he,Oe)},h.Matrix=Ct;var Mo=h.matrixMult=function(S,F){return F.multiply(S)},Fo=new Ct(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Fo;var Va=function(S,F){if(!Zt[S]){var J=(F instanceof _u?"Sh":"P")+(Object.keys(St).length+1).toString(10);F.id=J,Zt[S]=J,St[J]=F,xr.publish("addPattern",F)}};h.ShadingPattern=_u,h.TilingPattern=uf,h.addShadingPattern=function(S,F){return P("addShadingPattern()"),Va(S,F),this},h.beginTilingPattern=function(S){P("beginTilingPattern()"),Lh(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,F){P("endTilingPattern()"),F.stream=je[W].join(`
`),Va(S,F),xr.publish("endTilingPattern",F),Qs.pop().restore()};var qa,cn=h.__private__.newObject=function(){var S=Qn();return ui(S,!0),S},Qn=h.__private__.newObjectDeferred=function(){return ue++,ae[ue]=function(){return ve},ue},ui=function(S,F){return F=typeof F=="boolean"&&F,ae[S]=ve,F&&Q(S+" 0 obj"),S},Qc=h.__private__.newAdditionalObject=function(){var S={objId:Qn(),content:""};return Ce.push(S),S},Sl=Qn(),ms=Qn(),Js=h.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var J=parseFloat(F[0]);F=[J,J,J,"r"]}for(var oe="#",he=0;he<3;he++)oe+=("0"+Math.floor(255*parseFloat(F[he])).toString(16)).slice(-2);return oe},vs=h.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var J=S.ch1,oe=S.ch2,he=S.ch3,Oe=S.ch4,Be=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var lt=new gT(J);if(lt.ok)J=lt.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var mt=parseInt(J.substr(1),16);J=mt>>16&255,oe=mt>>8&255,he=255&mt}if(oe===void 0||Oe===void 0&&J===oe&&oe===he)F=typeof J=="string"?J+" "+Be[0]:S.precision===2?j(J/255)+" "+Be[0]:E(J/255)+" "+Be[0];else if(Oe===void 0||jr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Be[1]].join(" ");F=typeof J=="string"?[J,oe,he,Be[1]].join(" "):S.precision===2?[j(J/255),j(oe/255),j(he/255),Be[1]].join(" "):[E(J/255),E(oe/255),E(he/255),Be[1]].join(" ")}else F=typeof J=="string"?[J,oe,he,Oe,Be[2]].join(" "):S.precision===2?[j(J),j(oe),j(he),j(Oe),Be[2]].join(" "):[E(J),E(oe),E(he),E(Oe),Be[2]].join(" ");return F},gs=h.__private__.getFilters=function(){return s},$a=h.__private__.putStream=function(S){var F=(S=S||{}).data||"",J=S.filters||gs(),oe=S.alreadyAppliedFilters||[],he=S.addLength1||!1,Oe=F.length,Be=S.objectId,lt=function(Mn){return Mn};if(d!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(lt=vn.encryptor(Be,0));var mt={};J===!0&&(J=["FlateEncode"]);var Tt=S.additionalKeyValues||[],Bt=(mt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(F,J):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(mt.data.length!==0&&(Tt.push({key:"Length",value:mt.data.length}),he===!0&&Tt.push({key:"Length1",value:Oe})),Bt.length!=0)if(Bt.split("/").length-1==1)Tt.push({key:"Filter",value:Bt});else{Tt.push({key:"Filter",value:"["+Bt+"]"});for(var pr=0;pr<Tt.length;pr+=1)if(Tt[pr].key==="DecodeParms"){for(var Jr=[],Tn=0;Tn<mt.reverseChain.split("/").length-1;Tn+=1)Jr.push("null");Jr.push(Tt[pr].value),Tt[pr].value="["+Jr.join(" ")+"]"}}Q("<<");for(var Ir=0;Ir<Tt.length;Ir++)Q("/"+Tt[Ir].key+" "+Tt[Ir].value);Q(">>"),mt.data.length!==0&&(Q("stream"),Q(lt(mt.data)),Q("endstream"))},Jc=h.__private__.putPage=function(S){var F=S.number,J=S.data,oe=S.objId,he=S.contentsObjId;ui(oe,!0),Q("<</Type /Page"),Q("/Parent "+S.rootDictionaryObjId+" 0 R"),Q("/Resources "+S.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(R(S.mediaBox.bottomLeftX))+" "+parseFloat(R(S.mediaBox.bottomLeftY))+" "+R(S.mediaBox.topRightX)+" "+R(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&Q("/CropBox ["+R(S.cropBox.bottomLeftX)+" "+R(S.cropBox.bottomLeftY)+" "+R(S.cropBox.topRightX)+" "+R(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&Q("/BleedBox ["+R(S.bleedBox.bottomLeftX)+" "+R(S.bleedBox.bottomLeftY)+" "+R(S.bleedBox.topRightX)+" "+R(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&Q("/TrimBox ["+R(S.trimBox.bottomLeftX)+" "+R(S.trimBox.bottomLeftY)+" "+R(S.trimBox.topRightX)+" "+R(S.trimBox.topRightY)+"]"),S.artBox!==null&&Q("/ArtBox ["+R(S.artBox.bottomLeftX)+" "+R(S.artBox.bottomLeftY)+" "+R(S.artBox.topRightX)+" "+R(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&Q("/UserUnit "+S.userUnit),xr.publish("putPage",{objId:oe,pageContext:Rt[F],pageNumber:F,page:J}),Q("/Contents "+he+" 0 R"),Q(">>"),Q("endobj");var Oe=J.join(`
`);return N===_&&(Oe+=`
Q`),ui(he,!0),$a({data:Oe,filters:gs(),objectId:he}),Q("endobj"),oe},eo=h.__private__.putPages=function(){var S,F,J=[];for(S=1;S<=Or;S++)Rt[S].objId=Qn(),Rt[S].contentsObjId=Qn();for(S=1;S<=Or;S++)J.push(Jc({number:S,data:je[S],objId:Rt[S].objId,contentsObjId:Rt[S].contentsObjId,mediaBox:Rt[S].mediaBox,cropBox:Rt[S].cropBox,bleedBox:Rt[S].bleedBox,trimBox:Rt[S].trimBox,artBox:Rt[S].artBox,userUnit:Rt[S].userUnit,rootDictionaryObjId:Sl,resourceDictionaryObjId:ms}));ui(Sl,!0),Q("<</Type /Pages");var oe="/Kids [";for(F=0;F<Or;F++)oe+=J[F]+" 0 R ";Q(oe+"]"),Q("/Count "+Or),Q(">>"),Q("endobj"),xr.publish("postPutPages")},eu=function(S){xr.publish("putFont",{font:S,out:Q,newObject:cn,putStream:$a}),S.isAlreadyPutted!==!0&&(S.objectNumber=cn(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Hd(S.postScriptName)),Q("/Subtype /Type1"),typeof S.encoding=="string"&&Q("/Encoding /"+S.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},vd=function(S){S.objectNumber=cn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[R(S.x),R(S.y),R(S.x+S.width),R(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var J=S.pages[1].join(`
`);$a({data:J,additionalKeyValues:F,objectId:S.objectNumber}),Q("endobj")},gd=function(S,F){F||(F=21);var J=cn(),oe=function(Be,lt){var mt,Tt=[],Bt=1/(lt-1);for(mt=0;mt<1;mt+=Bt)Tt.push(mt);if(Tt.push(1),Be[0].offset!=0){var pr={offset:0,color:Be[0].color};Be.unshift(pr)}if(Be[Be.length-1].offset!=1){var Jr={offset:1,color:Be[Be.length-1].color};Be.push(Jr)}for(var Tn="",Ir=0,Mn=0;Mn<Tt.length;Mn++){for(mt=Tt[Mn];mt>Be[Ir+1].offset;)Ir++;var Pn=Be[Ir].offset,di=(mt-Pn)/(Be[Ir+1].offset-Pn),Vo=Be[Ir].color,El=Be[Ir+1].color;Tn+=ie(Math.round((1-di)*Vo[0]+di*El[0]).toString(16))+ie(Math.round((1-di)*Vo[1]+di*El[1]).toString(16))+ie(Math.round((1-di)*Vo[2]+di*El[2]).toString(16))}return Tn.trim()}(S.colors,F),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+F+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$a({data:oe,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),Q("endobj"),S.objectNumber=cn(),Q("<< /ShadingType "+S.type),Q("/ColorSpace /DeviceRGB");var Oe="/Coords ["+R(parseFloat(S.coords[0]))+" "+R(parseFloat(S.coords[1]))+" ";S.type===2?Oe+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3])):Oe+=R(parseFloat(S.coords[2]))+" "+R(parseFloat(S.coords[3]))+" "+R(parseFloat(S.coords[4]))+" "+R(parseFloat(S.coords[5])),Q(Oe+="]"),S.matrix&&Q("/Matrix ["+S.matrix.toString()+"]"),Q("/Function "+J+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},xd=function(S,F){var J=Qn(),oe=cn();F.push({resourcesOid:J,objectOid:oe}),S.objectNumber=oe;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+S.boundingBox.map(R).join(" ")+"]"}),he.push({key:"XStep",value:R(S.xStep)}),he.push({key:"YStep",value:R(S.yStep)}),he.push({key:"Resources",value:J+" 0 R"}),S.matrix&&he.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),$a({data:S.stream,additionalKeyValues:he,objectId:S.objectNumber}),Q("endobj")},_2=function(S){for(var F in S.objectNumber=cn(),Q("<<"),S)switch(F){case"opacity":Q("/ca "+j(S[F]));break;case"stroke-opacity":Q("/CA "+j(S[F]))}Q(">>"),Q("endobj")},Ah=function(S){ui(S.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in Q("/Font <<"),rt)rt.hasOwnProperty(F)&&(f===!1||f===!0&&p.hasOwnProperty(F))&&Q("/"+F+" "+rt[F].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(St).length>0){for(var F in Q("/Shading <<"),St)St.hasOwnProperty(F)&&St[F]instanceof _u&&St[F].objectNumber>=0&&Q("/"+F+" "+St[F].objectNumber+" 0 R");xr.publish("putShadingPatternDict"),Q(">>")}}(),function(F){if(Object.keys(St).length>0){for(var J in Q("/Pattern <<"),St)St.hasOwnProperty(J)&&St[J]instanceof h.TilingPattern&&St[J].objectNumber>=0&&St[J].objectNumber<F&&Q("/"+J+" "+St[J].objectNumber+" 0 R");xr.publish("putTilingPatternDict"),Q(">>")}}(S.objectOid),function(){if(Object.keys(Mt).length>0){var F;for(F in Q("/ExtGState <<"),Mt)Mt.hasOwnProperty(F)&&Mt[F].objectNumber>=0&&Q("/"+F+" "+Mt[F].objectNumber+" 0 R");xr.publish("putGStateDict"),Q(">>")}}(),function(){for(var F in Q("/XObject <<"),Si)Si.hasOwnProperty(F)&&Si[F].objectNumber>=0&&Q("/"+F+" "+Si[F].objectNumber+" 0 R");xr.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},gp=function(S){kt[S.fontName]=kt[S.fontName]||{},kt[S.fontName][S.fontStyle]=S.id},xp=function(S,F,J,oe,he){var Oe={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:J,encoding:oe,isStandardFont:he||!1,metadata:{}};return xr.publish("addFont",{font:Oe,instance:this}),rt[Oe.id]=Oe,gp(Oe),Oe.id},Ha=h.__private__.pdfEscape=h.pdfEscape=function(S,F){return function(J,oe){var he,Oe,Be,lt,mt,Tt,Bt,pr,Jr;if(Be=(oe=oe||{}).sourceEncoding||"Unicode",mt=oe.outputEncoding,(oe.autoencode||mt)&&rt[Fe].metadata&&rt[Fe].metadata[Be]&&rt[Fe].metadata[Be].encoding&&(lt=rt[Fe].metadata[Be].encoding,!mt&&rt[Fe].encoding&&(mt=rt[Fe].encoding),!mt&&lt.codePages&&(mt=lt.codePages[0]),typeof mt=="string"&&(mt=lt[mt]),mt)){for(Bt=!1,Tt=[],he=0,Oe=J.length;he<Oe;he++)(pr=mt[J.charCodeAt(he)])?Tt.push(String.fromCharCode(pr)):Tt.push(J[he]),Tt[he].charCodeAt(0)>>8&&(Bt=!0);J=Tt.join("")}for(he=J.length;Bt===void 0&&he!==0;)J.charCodeAt(he-1)>>8&&(Bt=!0),he--;if(!Bt)return J;for(Tt=oe.noBOM?[]:[254,255],he=0,Oe=J.length;he<Oe;he++){if((Jr=(pr=J.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(Jr),Tt.push(pr-(Jr<<8))}return String.fromCharCode.apply(void 0,Tt)}(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ch=h.__private__.beginPage=function(S){je[++Or]=[],Rt[Or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},wp(Or),me(je[W])},yp=function(S,F){var J,oe,he;switch(r=F||r,typeof S=="string"&&(J=x(S.toLowerCase()),Array.isArray(J)&&(oe=J[0],he=J[1])),Array.isArray(S)&&(oe=S[0]*Ge,he=S[1]*Ge),isNaN(oe)&&(oe=i[0],he=i[1]),(oe>14400||he>14400)&&(Dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),he=Math.min(14400,he)),i=[oe,he],r.substr(0,1)){case"l":he>oe&&(i=[he,oe]);break;case"p":oe>he&&(i=[he,oe])}Ch(i),T2(Th),Q(wd),Oh!==0&&Q(Oh+" J"),Rh!==0&&Q(Rh+" j"),xr.publish("addPage",{pageNumber:Or})},Eh=function(S){S>0&&S<=Or&&(je.splice(S,1),Rt.splice(S,1),Or--,W>Or&&(W=Or),this.setPage(W))},wp=function(S){S>0&&S<=Or&&(W=S)},bp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return je.length-1},_p=function(S,F,J){var oe,he=void 0;return J=J||{},S=S!==void 0?S:rt[Fe].fontName,F=F!==void 0?F:rt[Fe].fontStyle,oe=S.toLowerCase(),kt[oe]!==void 0&&kt[oe][F]!==void 0?he=kt[oe][F]:kt[S]!==void 0&&kt[S][F]!==void 0?he=kt[S][F]:J.disableWarning===!1&&Dr.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),he||J.noFallback||(he=kt.times[F])==null&&(he=kt.times.normal),he},yd=h.__private__.putInfo=function(){var S=cn(),F=function(oe){return oe};for(var J in d!==null&&(F=vn.encryptor(S,0)),Q("<<"),Q("/Producer ("+Ha(F("jsPDF "+yt.version))+")"),Re)Re.hasOwnProperty(J)&&Re[J]&&Q("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Ha(F(Re[J]))+")");Q("/CreationDate ("+Ha(F(te))+")"),Q(">>"),Q("endobj")},N2=h.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||Sl;switch(cn(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+F+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+pt;J.substr(J.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+j(pt)+"]")}switch(Ae||(Ae="continuous"),Ae){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}G&&Q("/PageMode /"+G),xr.publish("putCatalog"),Q(">>"),Q("endobj")},In=h.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ue+1)),Q("/Root "+ue+" 0 R"),Q("/Info "+(ue-1)+" 0 R"),d!==null&&Q("/Encrypt "+vn.oid+" 0 R"),Q("/ID [ <"+re+"> <"+re+"> ]"),Q(">>")},Np=h.__private__.putHeader=function(){Q("%PDF-"+g),Q("%")},Sp=h.__private__.putXRef=function(){var S="0000000000";Q("xref"),Q("0 "+(ue+1)),Q("0000000000 65535 f ");for(var F=1;F<=ue;F++)typeof ae[F]=="function"?Q((S+ae[F]()).slice(-10)+" 00000 n "):ae[F]!==void 0?Q((S+ae[F]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Bo=h.__private__.buildDocument=function(){var S;ue=0,ve=0,xe=[],ae=[],Ce=[],Sl=Qn(),ms=Qn(),me(xe),xr.publish("buildDocument"),Np(),eo(),function(){xr.publish("putAdditionalObjects");for(var J=0;J<Ce.length;J++){var oe=Ce[J];ui(oe.objId,!0),Q(oe.content),Q("endobj")}xr.publish("postPutAdditionalObjects")}(),S=[],function(){for(var J in rt)rt.hasOwnProperty(J)&&(f===!1||f===!0&&p.hasOwnProperty(J))&&eu(rt[J])}(),function(){var J;for(J in Mt)Mt.hasOwnProperty(J)&&_2(Mt[J])}(),function(){for(var J in Si)Si.hasOwnProperty(J)&&vd(Si[J])}(),function(J){var oe;for(oe in St)St.hasOwnProperty(oe)&&(St[oe]instanceof _u?gd(St[oe]):St[oe]instanceof uf&&xd(St[oe],J))}(S),xr.publish("putResources"),S.forEach(Ah),Ah({resourcesOid:ms,objectOid:Number.MAX_SAFE_INTEGER}),xr.publish("postPutResources"),d!==null&&(vn.oid=cn(),Q("<<"),Q("/Filter /Standard"),Q("/V "+vn.v),Q("/R "+vn.r),Q("/U <"+vn.toHexString(vn.U)+">"),Q("/O <"+vn.toHexString(vn.O)+">"),Q("/P "+vn.P),Q(">>"),Q("endobj")),yd(),N2();var F=ve;return Sp(),In(),Q("startxref"),Q(""+F),Q("%%EOF"),me(je[W]),xe.join(`
`)},tu=h.__private__.getBlob=function(S){return new Blob([wt(S)],{type:"application/pdf"})},xs=h.output=h.__private__.output=(qa=function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return Bo();case"save":h.save(F.filename);break;case"arraybuffer":return wt(Bo());case"blob":return tu(Bo());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(tu(Bo()))||void 0;Dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",oe=Bo();try{J=UA(oe)}catch{J=UA(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+F.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(he=F.pdfObjectUrl,Oe="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",lt=Pt.open();return lt!==null&&lt.document.write(Be),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Tt=Pt.open();if(Tt!==null){Tt.document.write(mt);var Bt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=F.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Jr=Pt.open();if(Jr!==null&&(Jr.document.write(pr),Jr.document.title=F.filename),Jr||typeof safari>"u")return Jr;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",F);default:return null}},qa.foo=function(){try{return qa.apply(this,arguments)}catch(J){var S=J.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var F="Error in function "+S.split(`
`)[0].split("<")[0]+": "+J.message;if(!Pt.console)throw new Error(F);Pt.console.error(F,J),Pt.alert&&alert(F)}},qa.foo.bar=qa,qa.foo),ru=function(S){return Array.isArray(Kc)===!0&&Kc.indexOf(S)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=ru("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var vn=null;_e(),H();var jh=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[S].objId,pageNumber:S,pageContext:Rt[S]}},S2=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Rt)if(Rt[F].objId===S)break;return jh(F)},A2=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Rt[W].objId,pageNumber:W,pageContext:Rt[W]}};h.addPage=function(){return yp.apply(this,arguments),this},h.setPage=function(){return wp.apply(this,arguments),me.call(this,je[W]),this},h.insertPage=function(S){return this.addPage(),this.movePage(W,S),this},h.movePage=function(S,F){var J,oe;if(S>F){J=je[S],oe=Rt[S];for(var he=S;he>F;he--)je[he]=je[he-1],Rt[he]=Rt[he-1];je[F]=J,Rt[F]=oe,this.setPage(F)}else if(S<F){J=je[S],oe=Rt[S];for(var Oe=S;Oe<F;Oe++)je[Oe]=je[Oe+1],Rt[Oe]=Rt[Oe+1];je[F]=J,Rt[F]=oe,this.setPage(F)}return this},h.deletePage=function(){return Eh.apply(this,arguments),this},h.__private__.text=h.text=function(S,F,J,oe,he){var Oe,Be,lt,mt,Tt,Bt,pr,Jr,Tn,Ir=(oe=oe||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof J=="string"||Array.isArray(J))){var Mn=J;J=F,F=S,S=Mn}if(arguments[3]instanceof Ct==0?(lt=arguments[4],mt=arguments[5],jr(pr=arguments[3])==="object"&&pr!==null||(typeof lt=="string"&&(mt=lt,lt=null),typeof pr=="string"&&(mt=pr,pr=null),typeof pr=="number"&&(lt=pr,pr=null),oe={flags:pr,angle:lt,align:mt})):(P("The transform parameter of text() with a Matrix value"),Tn=he),isNaN(F)||isNaN(J)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Ir;var Pn,di="",Vo=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:iu,El=Ir.internal.scaleFactor;function F2(Fr){return Fr=Fr.split("	").join(Array(oe.TabLen||9).join(" ")),Ha(Fr,pr)}function Ep(Fr){for(var Br,xn=Fr.concat(),yn=[],Wo=xn.length;Wo--;)typeof(Br=xn.shift())=="string"?yn.push(Br):Array.isArray(Fr)&&(Br.length===1||Br[1]===void 0&&Br[2]===void 0)?yn.push(Br[0]):yn.push([Br[0],Br[1],Br[2]]);return yn}function cu(Fr,Br){var xn;if(typeof Fr=="string")xn=Br(Fr)[0];else if(Array.isArray(Fr)){for(var yn,Wo,Td=Fr.concat(),oo=[],Wh=Td.length;Wh--;)typeof(yn=Td.shift())=="string"?oo.push(Br(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(Wo=Br(yn[0],yn[1],yn[2]),oo.push([Wo[0],Wo[1],Wo[2]]));xn=oo}return xn}var ys=!1,Bh=!0;if(typeof S=="string")ys=!0;else if(Array.isArray(S)){var Sd=S.concat();Be=[];for(var jl,Jn=Sd.length;Jn--;)(typeof(jl=Sd.shift())!="string"||Array.isArray(jl)&&typeof jl[0]!="string")&&(Bh=!1);ys=Bh}if(ys===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var qo=Ue/Ir.internal.scaleFactor,$o=qo*(Vo-1);switch(oe.baseline){case"bottom":J-=$o;break;case"top":J+=qo-$o;break;case"hanging":J+=qo-2*$o;break;case"middle":J+=qo/2-$o}if((Bt=oe.maxWidth||0)>0&&(typeof S=="string"?S=Ir.splitTextToSize(S,Bt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Fr,Br){return Fr.concat(Ir.splitTextToSize(Br,Bt))},[]))),Oe={text:S,x:F,y:J,options:oe,mutex:{pdfEscape:Ha,activeFontKey:Fe,fonts:rt,activeFontSize:Ue}},xr.publish("preProcessText",Oe),S=Oe.text,lt=(oe=Oe.options).angle,Tn instanceof Ct==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,oe.rotationDirection===0&&(lt=-lt),N===_&&(lt=-lt);var Ad=Math.cos(lt),Uh=Math.sin(lt);Tn=new Ct(Ad,Uh,-Uh,Ad,0,0)}else lt&&lt instanceof Ct&&(Tn=lt);N!==_||Tn||(Tn=Fo),(Tt=oe.charSpace||_d)!==void 0&&(di+=R(L(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jr=oe.horizontalScale)!==void 0&&(di+=R(100*Jr)+` Tz
`),oe.lang;var Fi=-1,jp=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,Cd=Ir.internal.getCurrentPageInfo().pageContext;switch(jp){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var kp=Cd.usedRenderingMode!==void 0?Cd.usedRenderingMode:-1;Fi!==-1?di+=Fi+` Tr
`:kp!==-1&&(di+=`0 Tr
`),Fi!==-1&&(Cd.usedRenderingMode=Fi),mt=oe.align||"left";var Fn,Wa=Ue*Vo,zh=Ir.internal.pageSize.getWidth(),Vh=rt[Fe];Tt=oe.charSpace||_d,Bt=oe.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var kl=[],Ed=function(Fr){return Ir.getStringUnitWidth(Fr,{font:Vh,charSpace:Tt,fontSize:Ue,doKerning:!1})*Ue/El};if(Object.prototype.toString.call(S)==="[object Array]"){var na;Be=Ep(S),mt!=="left"&&(Fn=Be.map(Ed));var ia,uu=0;if(mt==="right"){F-=Fn[0],S=[],Jn=Be.length;for(var no=0;no<Jn;no++)no===0?(ia=Uo(F),na=zo(J)):(ia=L(uu-Fn[no]),na=-Wa),S.push([Be[no],ia,na]),uu=Fn[no]}else if(mt==="center"){F-=Fn[0]/2,S=[],Jn=Be.length;for(var Il=0;Il<Jn;Il++)Il===0?(ia=Uo(F),na=zo(J)):(ia=L((uu-Fn[Il])/2),na=-Wa),S.push([Be[Il],ia,na]),uu=Fn[Il]}else if(mt==="left"){S=[],Jn=Be.length;for(var qh=0;qh<Jn;qh++)S.push(Be[qh])}else if(mt==="justify"&&Vh.encoding==="Identity-H"){S=[],Jn=Be.length,Bt=Bt!==0?Bt:zh;for(var Tl=0,gn=0;gn<Jn;gn++)if(na=gn===0?zo(J):-Wa,ia=gn===0?Uo(F):Tl,gn<Jn-1){var B2=L((Bt-Fn[gn])/(Be[gn].split(" ").length-1)),io=Be[gn].split(" ");S.push([io[0]+" ",ia,na]),Tl=0;for(var ao=1;ao<io.length;ao++){var jd=(Ed(io[ao-1]+" "+io[ao])-Ed(io[ao]))*El+B2;ao==io.length-1?S.push([io[ao],jd,0]):S.push([io[ao]+" ",jd,0]),Tl-=jd}}else S.push([Be[gn],ia,na]);S.push(["",Tl,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Jn=Be.length,Bt=Bt!==0?Bt:zh,gn=0;gn<Jn;gn++)na=gn===0?zo(J):-Wa,ia=gn===0?Uo(F):0,gn<Jn-1?kl.push(R(L((Bt-Fn[gn])/(Be[gn].split(" ").length-1)))):kl.push(0),S.push([Be[gn],ia,na])}}(typeof oe.R2L=="boolean"?oe.R2L:ee)===!0&&(S=cu(S,function(Fr,Br,xn){return[Fr.split("").reverse().join(""),Br,xn]})),Oe={text:S,x:F,y:J,options:oe,mutex:{pdfEscape:Ha,activeFontKey:Fe,fonts:rt,activeFontSize:Ue}},xr.publish("postProcessText",Oe),S=Oe.text,Pn=Oe.mutex.isHex||!1;var $h=rt[Fe].encoding;$h!=="WinAnsiEncoding"&&$h!=="StandardEncoding"||(S=cu(S,function(Fr,Br,xn){return[F2(Fr),Br,xn]})),Be=Ep(S),S=[];for(var kd,Id,du,fu=Array.isArray(Be[0])?1:0,Ho="",Hh=function(Fr,Br,xn){var yn="";return xn instanceof Ct?(xn=typeof oe.angle=="number"?Mo(xn,new Ct(1,0,0,1,Fr,Br)):Mo(new Ct(1,0,0,1,Fr,Br),xn),N===_&&(xn=Mo(new Ct(1,0,0,-1,0,0),xn)),yn=xn.join(" ")+` Tm
`):yn=R(Fr)+" "+R(Br)+` Td
`,yn},wa=0;wa<Be.length;wa++){switch(Ho="",fu){case 1:du=(Pn?"<":"(")+Be[wa][0]+(Pn?">":")"),kd=parseFloat(Be[wa][1]),Id=parseFloat(Be[wa][2]);break;case 0:du=(Pn?"<":"(")+Be[wa]+(Pn?">":")"),kd=Uo(F),Id=zo(J)}kl!==void 0&&kl[wa]!==void 0&&(Ho=kl[wa]+` Tw
`),wa===0?S.push(Ho+Hh(kd,Id,Tn)+du):fu===0?S.push(Ho+du):fu===1&&S.push(Ho+Hh(kd,Id,Tn)+du)}S=fu===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var so=`BT
/`;return so+=Fe+" "+Ue+` Tf
`,so+=R(Ue*Vo)+` TL
`,so+=au+`
`,so+=di,so+=S,Q(so+="ET"),p[Fe]=!0,Ir};var C2=h.__private__.clip=h.clip=function(S){return Q(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return C2("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Q("n"),this};var to=h.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return to(S)&&(u=S),this};var Ap=h.__private__.getStyle=h.getStyle=function(S){var F=u;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},Cp=h.close=function(){return Q("h"),this};h.stroke=function(){return Q("S"),this},h.fill=function(S){return Al("f",S),this},h.fillEvenOdd=function(S){return Al("f*",S),this},h.fillStroke=function(S){return Al("B",S),this},h.fillStrokeEvenOdd=function(S){return Al("B*",S),this};var Al=function(S,F){jr(F)==="object"?j2(F,S):Q(S)},kh=function(S){S===null||N===_&&S===void 0||(S=Ap(S),Q(S))};function E2(S,F,J,oe,he){var Oe=new uf(F||this.boundingBox,J||this.xStep,oe||this.yStep,this.gState,he||this.matrix);Oe.stream=this.stream;var Be=S+"$$"+this.cloneIndex+++"$$";return Va(Be,Oe),Oe}var j2=function(S,F){var J=Zt[S.key],oe=St[J];if(oe instanceof _u)Q("q"),Q(k2(F)),oe.gState&&h.setGState(oe.gState),Q(S.matrix.toString()+" cm"),Q("/"+J+" sh"),Q("Q");else if(oe instanceof uf){var he=new Ct(1,0,0,-1,0,ya());S.matrix&&(he=he.multiply(S.matrix||Fo),J=E2.call(oe,S.key,S.boundingBox,S.xStep,S.yStep,he).id),Q("q"),Q("/Pattern cs"),Q("/"+J+" scn"),oe.gState&&h.setGState(oe.gState),Q(F),Q("Q")}},k2=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ih=h.moveTo=function(S,F){return Q(R(L(S))+" "+R(B(F))+" m"),this},nu=h.lineTo=function(S,F){return Q(R(L(S))+" "+R(B(F))+" l"),this},Cl=h.curveTo=function(S,F,J,oe,he,Oe){return Q([R(L(S)),R(B(F)),R(L(J)),R(B(oe)),R(L(he)),R(B(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,F,J,oe,he){if(isNaN(S)||isNaN(F)||isNaN(J)||isNaN(oe)||!to(he))throw new Error("Invalid arguments passed to jsPDF.line");return N===w?this.lines([[J-S,oe-F]],S,F,[1,1],he||"S"):this.lines([[J-S,oe-F]],S,F,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,F,J,oe,he,Oe){var Be,lt,mt,Tt,Bt,pr,Jr,Tn,Ir,Mn,Pn,di;if(typeof S=="number"&&(di=J,J=F,F=S,S=di),oe=oe||[1,1],Oe=Oe||!1,isNaN(F)||isNaN(J)||!Array.isArray(S)||!Array.isArray(oe)||!to(he)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ih(F,J),Be=oe[0],lt=oe[1],Tt=S.length,Mn=F,Pn=J,mt=0;mt<Tt;mt++)(Bt=S[mt]).length===2?(Mn=Bt[0]*Be+Mn,Pn=Bt[1]*lt+Pn,nu(Mn,Pn)):(pr=Bt[0]*Be+Mn,Jr=Bt[1]*lt+Pn,Tn=Bt[2]*Be+Mn,Ir=Bt[3]*lt+Pn,Mn=Bt[4]*Be+Mn,Pn=Bt[5]*lt+Pn,Cl(pr,Jr,Tn,Ir,Mn,Pn));return Oe&&Cp(),kh(he),this},h.path=function(S){for(var F=0;F<S.length;F++){var J=S[F],oe=J.c;switch(J.op){case"m":Ih(oe[0],oe[1]);break;case"l":nu(oe[0],oe[1]);break;case"c":Cl.apply(this,oe);break;case"h":Cp()}}return this},h.__private__.rect=h.rect=function(S,F,J,oe,he){if(isNaN(S)||isNaN(F)||isNaN(J)||isNaN(oe)||!to(he))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w&&(oe=-oe),Q([R(L(S)),R(B(F)),R(L(J)),R(L(oe)),"re"].join(" ")),kh(he),this},h.__private__.triangle=h.triangle=function(S,F,J,oe,he,Oe,Be){if(isNaN(S)||isNaN(F)||isNaN(J)||isNaN(oe)||isNaN(he)||isNaN(Oe)||!to(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-S,oe-F],[he-J,Oe-oe],[S-he,F-Oe]],S,F,[1,1],Be,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,F,J,oe,he,Oe,Be){if(isNaN(S)||isNaN(F)||isNaN(J)||isNaN(oe)||isNaN(he)||isNaN(Oe)||!to(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*J),Oe=Math.min(Oe,.5*oe),this.lines([[J-2*he,0],[he*lt,0,he,Oe-Oe*lt,he,Oe],[0,oe-2*Oe],[0,Oe*lt,-he*lt,Oe,-he,Oe],[2*he-J,0],[-he*lt,0,-he,-Oe*lt,-he,-Oe],[0,2*Oe-oe],[0,-Oe*lt,he*lt,-Oe,he,-Oe]],S+he,F,[1,1],Be,!0),this},h.__private__.ellipse=h.ellipse=function(S,F,J,oe,he){if(isNaN(S)||isNaN(F)||isNaN(J)||isNaN(oe)||!to(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*J,Be=4/3*(Math.SQRT2-1)*oe;return Ih(S+J,F),Cl(S+J,F-Be,S+Oe,F-oe,S,F-oe),Cl(S-Oe,F-oe,S-J,F-Be,S-J,F),Cl(S-J,F+Be,S-Oe,F+oe,S,F+oe),Cl(S+Oe,F+oe,S+J,F+Be,S+J,F),kh(he),this},h.__private__.circle=h.circle=function(S,F,J,oe){if(isNaN(S)||isNaN(F)||isNaN(J)||!to(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,J,J,oe)},h.setFont=function(S,F,J){return J&&(F=T(F,J)),Fe=_p(S,F,{disableWarning:!1}),this};var I2=h.__private__.getFont=h.getFont=function(){return rt[_p.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,F,J={};for(S in kt)if(kt.hasOwnProperty(S))for(F in J[S]=[],kt[S])kt[S].hasOwnProperty(F)&&J[S].push(F);return J},h.addFont=function(S,F,J,oe,he){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(J=T(J,oe)),xp.call(this,S,F,J,he=he||"Identity-H")};var iu,Th=t.lineWidth||.200025,Dt=h.__private__.getLineWidth=h.getLineWidth=function(){return Th},T2=h.__private__.setLineWidth=h.setLineWidth=function(S){return Th=S,Q(R(L(S))+" w"),this};h.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(J){return R(L(J))}).join(" "),F=R(L(F)),Q("["+S+"] "+F+" d"),this};var P2=h.__private__.getLineHeight=h.getLineHeight=function(){return Ue*iu};h.__private__.getLineHeight=h.getLineHeight=function(){return Ue*iu};var O2=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(iu=S),this},R2=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return iu};O2(t.lineHeight);var Uo=h.__private__.getHorizontalCoordinate=function(S){return L(S)},zo=h.__private__.getVerticalCoordinate=function(S){return N===_?S:Rt[W].mediaBox.topRightY-Rt[W].mediaBox.bottomLeftY-L(S)},D2=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return R(Uo(S))},L2=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return R(zo(S))},wd=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Js(wd)},h.__private__.setStrokeColor=h.setDrawColor=function(S,F,J,oe){return wd=vs({ch1:S,ch2:F,ch3:J,ch4:oe,pdfColorType:"draw",precision:2}),Q(wd),this};var Ph=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Js(Ph)},h.__private__.setFillColor=h.setFillColor=function(S,F,J,oe){return Ph=vs({ch1:S,ch2:F,ch3:J,ch4:oe,pdfColorType:"fill",precision:2}),Q(Ph),this};var au=t.textColor||"0 g",bd=h.__private__.getTextColor=h.getTextColor=function(){return Js(au)};h.__private__.setTextColor=h.setTextColor=function(S,F,J,oe){return au=vs({ch1:S,ch2:F,ch3:J,ch4:oe,pdfColorType:"text",precision:3}),this};var _d=t.charSpace,M2=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(_d||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _d=S,this};var Oh=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var F=h.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oh=F,Q(F+" J"),this};var Rh=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var F=h.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rh=F,Q(F+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(R(L(S))+" M"),this},h.GState=pg,h.setGState=function(S){(S=typeof S=="string"?Mt[mn[S]]:su(null,S)).equals(Ln)||(Q("/"+S.id+" gs"),Ln=S)};var su=function(S,F){if(!S||!mn[S]){var J=!1;for(var oe in Mt)if(Mt.hasOwnProperty(oe)&&Mt[oe].equals(F)){J=!0;break}if(J)F=Mt[oe];else{var he="GS"+(Object.keys(Mt).length+1).toString(10);Mt[he]=F,F.id=he}return S&&(mn[S]=F.id),xr.publish("addGState",F),F}};h.addGState=function(S,F){return su(S,F),this},h.saveGraphicsState=function(){return Q("q"),tr.push({key:Fe,size:Ue,color:au}),this},h.restoreGraphicsState=function(){Q("Q");var S=tr.pop();return Fe=S.key,Ue=S.size,au=S.color,Ln=null,this},h.setCurrentTransformationMatrix=function(S){return Q(S.toString()+" cm"),this},h.comment=function(S){return Q("#"+S),this};var ou=function(S,F){var J=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(Oe){isNaN(Oe)||(J=parseFloat(Oe))}});var oe=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Oe){isNaN(Oe)||(oe=parseFloat(Oe))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Oe){he=Oe.toString()}}),this},Dh=function(S,F,J,oe){ou.call(this,S,F),this.type="rect";var he=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Be){isNaN(Be)||(he=parseFloat(Be))}});var Oe=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Be){isNaN(Be)||(Oe=parseFloat(Be))}}),this},Nd=function(){this.page=Or,this.currentPage=W,this.pages=je.slice(0),this.pagesContext=Rt.slice(0),this.x=$e,this.y=cr,this.matrix=Vt,this.width=Mh(W),this.height=ya(W),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Nd.prototype.restore=function(){Or=this.page,W=this.currentPage,Rt=this.pagesContext,je=this.pages,$e=this.x,cr=this.y,Vt=this.matrix,Fh(W,this.width),ro(W,this.height),Ee=this.outputDestination};var Lh=function(S,F,J,oe,he){Qs.push(new Nd),Or=W=0,je=[],$e=S,cr=F,Vt=he,Ch([J,oe])};for(var lu in h.beginFormObject=function(S,F,J,oe,he){return Lh(S,F,J,oe,he),this},h.endFormObject=function(S){return function(F){if(Lo[F])Qs.pop().restore();else{var J=new Nd,oe="Xo"+(Object.keys(Si).length+1).toString(10);J.id=oe,Lo[F]=oe,Si[oe]=J,xr.publish("addFormObject",J),Qs.pop().restore()}}(S),this},h.doFormObject=function(S,F){var J=Si[Lo[S]];return Q("q"),Q(F.toString()+" cm"),Q("/"+J.id+" Do"),Q("Q"),this},h.getFormObject=function(S){var F=Si[Lo[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},h.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(wu(tu(Bo()),S),typeof wu.unload=="function"&&Pt.setTimeout&&setTimeout(wu.unload,911),this):new Promise(function(J,oe){try{var he=wu(tu(Bo()),S);typeof wu.unload=="function"&&Pt.setTimeout&&setTimeout(wu.unload,911),J(he)}catch(Oe){oe(Oe.message)}})},yt.API)yt.API.hasOwnProperty(lu)&&(lu==="events"&&yt.API.events.length?function(S,F){var J,oe,he;for(he=F.length-1;he!==-1;he--)J=F[he][0],oe=F[he][1],S.subscribe.apply(S,[J].concat(typeof oe=="function"?[oe]:oe))}(xr,yt.API.events):h[lu]=yt.API[lu]);var Mh=h.getPageWidth=function(S){return(Rt[S=S||W].mediaBox.topRightX-Rt[S].mediaBox.bottomLeftX)/Ge},Fh=h.setPageWidth=function(S,F){Rt[S].mediaBox.topRightX=F*Ge+Rt[S].mediaBox.bottomLeftX},ya=h.getPageHeight=function(S){return(Rt[S=S||W].mediaBox.topRightY-Rt[S].mediaBox.bottomLeftY)/Ge},ro=h.setPageHeight=function(S,F){Rt[S].mediaBox.topRightY=F*Ge+Rt[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:Ha,getStyle:Ap,getFont:I2,getFontSize:Ye,getCharSpace:M2,getTextColor:bd,getLineHeight:P2,getLineHeightFactor:R2,getLineWidth:Dt,write:at,getHorizontalCoordinate:Uo,getVerticalCoordinate:zo,getCoordinateString:D2,getVerticalCoordinateString:L2,collections:{},newObject:cn,newAdditionalObject:Qc,newObjectDeferred:Qn,newObjectDeferredBegin:ui,getFilters:gs,putStream:$a,events:xr,scaleFactor:Ge,pageSize:{getWidth:function(){return Mh(W)},setWidth:function(S){Fh(W,S)},getHeight:function(){return ya(W)},setHeight:function(S){ro(W,S)}},encryptionOptions:d,encryption:vn,getEncryptor:function(S){return d!==null?vn.encryptor(S,0):function(F){return F}},output:xs,getNumberOfPages:bp,pages:je,out:Q,f2:j,f3:E,getPageInfo:jh,getPageInfoByObjId:S2,getCurrentPageInfo:A2,getPDFVersion:v,Point:ou,Rectangle:Dh,Matrix:Ct,hasHotfix:ru},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Mh(W)},set:function(S){Fh(W,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ya(W)},set:function(S){ro(W,S)},enumerable:!0,configurable:!0}),(function(S){for(var F=0,J=gt.length;F<J;F++){var oe=xp.call(this,S[F][0],S[F][1],S[F][2],gt[F][3],!0);f===!1&&(p[oe]=!0);var he=S[F][0].split("-");gp({id:oe,fontName:he[0],fontStyle:he[1]||""})}xr.publish("addFonts",{fonts:rt,dictionary:kt})}).call(h,gt),Fe="F1",yp(i,r),xr.publish("initialized"),h}$d.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},$d.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$d.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},$d.prototype.processOwnerPassword=function(t,e){return k5(j5(e).substr(0,5),t)},$d.prototype.encryptor=function(t,e){var r=j5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return k5(r,n)}},pg.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||jr(t)!==jr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},yt.API={events:[]},yt.version="3.0.2";var hn=yt.API,G3=1,md=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(t){return t.toFixed(2)},Hl=function(t){return t.toFixed(5)};hn.__acroform__={};var xa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$A=function(t){return t*G3},uo=function(t){var e=new bT,r=st.internal.getHeight(t)||0,n=st.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Lt(n)),Number(Lt(r))],e},_Z=hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},NZ=hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},SZ=hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},An=hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SZ(t,e-1)},Cn=hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _Z(t,e-1)},En=hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NZ(t,e-1)},AZ=hn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},CZ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=I5(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Lt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=uo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},I5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var a=r,s=st.internal.getHeight(t)||0;s=s<0?-s:s;var o=st.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(j,E,L){if(j+1<i.length){var B=E+" "+i[j+1][0];return Tm(B,t,L).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,f=Tm("3",t,a).height,p=t.multiline?s-a:(s-f)/2,h=p+=2,g=0,v=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tm(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var N=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(w+2)+2>s)continue e;x+=i[_][b],N=!0,v=_,_--}else{x=(x+=i[_][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var k=parseInt(_),D=l(k,x,a),T=_>=i.length-1;if(D&&!T){x+=" ",b=0;continue}if(D||T){if(T)v=k;else if(t.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(w+2)+2>s)continue e;v=k}}for(var R="",P=g;P<=v;P++){var O=i[P];if(t.multiline){if(P===v){R+=O[b]+" ",b=(b+1)%O.length;continue}if(P===g){R+=O[O.length-1]+" ";continue}}R+=O[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=Tm(R,t,a).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Lt(u)+" "+Lt(h)+` Td
`,e+="("+md(R)+`) Tj
`,e+=-Lt(u)+` 0 Td
`,h=-(a+2),d=0,g=N?v:v+1,w++,x=""}break}return n.text=e,n.fontSize=a,n},Tm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},EZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jZ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},kZ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(EZ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new _T,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&jZ(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=AZ(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=st.createDefaultAppearanceStream(o),jr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=CZ(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(v,b){for(var x in v)if(v.hasOwnProperty(x)){var w=x,_=v[x];b.internal.newObjectDeferredBegin(_.objId,!0),jr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},wT=hn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),jr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+md(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ay=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+md(n(t))+")"},bo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bo.prototype.toString=function(){return this.objId+" 0 R"},bo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},bo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:wT(i,this.objId,this.scope)}):i instanceof bo?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var bT=function(){bo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xa(bT,bo);var _T=function(){bo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+md(r(t))+")"}},set:function(r){t=r}})};xa(_T,bo);var Zs=function t(){bo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!An(e,3)},set:function(x){x?this.F=Cn(e,3):this.F=En(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof mg)return;a="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+md(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/G3:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof mg||this instanceof Vu))return Ay(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ai==0?Ay(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof ai==0?x.substr(0,1)==="("?zd(x.substr(1,x.length-2)):zd(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?zd(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof ai==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ai==0?Ay(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof ai==0?x.substr(0,1)==="("?zd(x.substr(1,x.length-2)):zd(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ai==1?zd(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof ai==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){x=!!x,v=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,1)},set:function(x){x?this.Ff=Cn(this.Ff,1):this.Ff=En(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,2)},set:function(x){x?this.Ff=Cn(this.Ff,2):this.Ff=En(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,3)},set:function(x){x?this.Ff=Cn(this.Ff,3):this.Ff=En(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};xa(Zs,bo);var Af=function(){Zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wT(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,u=[];l=s.exec(a);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,18)},set:function(r){r?this.Ff=Cn(this.Ff,18):this.Ff=En(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Cn(this.Ff,19):this.Ff=En(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,20)},set:function(r){r?(this.Ff=Cn(this.Ff,20),e.sort()):this.Ff=En(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,22)},set:function(r){r?this.Ff=Cn(this.Ff,22):this.Ff=En(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,23)},set:function(r){r?this.Ff=Cn(this.Ff,23):this.Ff=En(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,27)},set:function(r){r?this.Ff=Cn(this.Ff,27):this.Ff=En(this.Ff,27)}}),this.hasAppearanceStream=!1};xa(Af,Zs);var Cf=function(){Af.call(this),this.fontName="helvetica",this.combo=!1};xa(Cf,Af);var Ef=function(){Cf.call(this),this.combo=!0};xa(Ef,Cf);var sv=function(){Ef.call(this),this.edit=!0};xa(sv,Ef);var ai=function(){Zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,15)},set:function(r){r?this.Ff=Cn(this.Ff,15):this.Ff=En(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,16)},set:function(r){r?this.Ff=Cn(this.Ff,16):this.Ff=En(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,17)},set:function(r){r?this.Ff=Cn(this.Ff,17):this.Ff=En(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,26)},set:function(r){r?this.Ff=Cn(this.Ff,26):this.Ff=En(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+md(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){jr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};xa(ai,Zs);var ov=function(){ai.call(this),this.pushButton=!0};xa(ov,ai);var jf=function(){ai.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xa(jf,ai);var mg=function(){var t,e;Zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+md(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){jr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=st.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xa(mg,Zs),jf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},jf.prototype.createOption=function(t){var e=new mg;return e.Parent=this,e.optionName=t,this.Kids.push(e),IZ.call(this.scope,e),e};var lv=function(){ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=st.CheckBox.createAppearanceStream()};xa(lv,ai);var Vu=function(){Zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,13)},set:function(e){e?this.Ff=Cn(this.Ff,13):this.Ff=En(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,21)},set:function(e){e?this.Ff=Cn(this.Ff,21):this.Ff=En(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,23)},set:function(e){e?this.Ff=Cn(this.Ff,23):this.Ff=En(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,24)},set:function(e){e?this.Ff=Cn(this.Ff,24):this.Ff=En(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,25)},set:function(e){e?this.Ff=Cn(this.Ff,25):this.Ff=En(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,26)},set:function(e){e?this.Ff=Cn(this.Ff,26):this.Ff=En(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xa(Vu,Zs);var cv=function(){Vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!An(this.Ff,14)},set:function(t){t?this.Ff=Cn(this.Ff,14):this.Ff=En(this.Ff,14)}}),this.password=!0};xa(cv,Vu);var st={CheckBox:{createAppearanceStream:function(){return{N:{On:st.CheckBox.YesNormal},D:{On:st.CheckBox.YesPushDown,Off:st.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=I5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Lt(st.internal.getWidth(t))+" "+Lt(st.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Lt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=st.internal.getHeight(t),s=st.internal.getWidth(t),o=I5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Lt(s)+" "+Lt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Lt(s-1)+" "+Lt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Lt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(st.internal.getWidth(t))+" "+Lt(st.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:st.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=st.RadioButton.Circle.YesNormal,e.D[t]=st.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var r=[],n=st.internal.getWidth(t)<=st.internal.getHeight(t)?st.internal.getWidth(t)/4:st.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=st.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hl(st.internal.getWidth(t)/2)+" "+Hl(st.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=[],n=st.internal.getWidth(t)<=st.internal.getHeight(t)?st.internal.getWidth(t)/4:st.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*st.internal.Bezier_C).toFixed(5)),s=Number((n*st.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hl(st.internal.getWidth(t)/2)+" "+Hl(st.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hl(st.internal.getWidth(t)/2)+" "+Hl(st.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=[],n=st.internal.getWidth(t)<=st.internal.getHeight(t)?st.internal.getWidth(t)/4:st.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*st.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hl(st.internal.getWidth(t)/2)+" "+Hl(st.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:st.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=st.RadioButton.Cross.YesNormal,e.D[t]=st.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var r=[],n=st.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Lt(st.internal.getWidth(t)-2)+" "+Lt(st.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=st.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(st.internal.getWidth(t))+" "+Lt(st.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lt(st.internal.getWidth(t)-2)+" "+Lt(st.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(st.internal.getWidth(t))+" "+Lt(st.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};st.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=st.internal.getWidth(t),r=st.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},st.internal.getWidth=function(t){var e=0;return jr(t)==="object"&&(e=$A(t.Rect[2])),e},st.internal.getHeight=function(t){var e=0;return jr(t)==="object"&&(e=$A(t.Rect[3])),e};var IZ=hn.addField=function(t){if(kZ(this,t),!(t instanceof Zs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};hn.AcroFormChoiceField=Af,hn.AcroFormListBox=Cf,hn.AcroFormComboBox=Ef,hn.AcroFormEditBox=sv,hn.AcroFormButton=ai,hn.AcroFormPushButton=ov,hn.AcroFormRadioButton=jf,hn.AcroFormCheckBox=lv,hn.AcroFormTextField=Vu,hn.AcroFormPasswordField=cv,hn.AcroFormAppearance=st,hn.AcroForm={ChoiceField:Af,ListBox:Cf,ComboBox:Ef,EditBox:sv,Button:ai,PushButton:ov,RadioButton:jf,CheckBox:lv,TextField:Vu,PasswordField:cv,Appearance:st},yt.AcroForm={ChoiceField:Af,ListBox:Cf,ComboBox:Ef,EditBox:sv,Button:ai,PushButton:ov,RadioButton:jf,CheckBox:lv,TextField:Vu,PasswordField:cv,Appearance:st};function NT(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(j,E){var L,B,te,re,se,H=r;if((E=E||r)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(D(j))for(se in n)for(te=n[se],L=0;L<te.length;L+=1){for(re=!0,B=0;B<te[L].length;B+=1)if(te[L][B]!==void 0&&te[L][B]!==j[B]){re=!1;break}if(re===!0){H=se;break}}else for(se in n)for(te=n[se],L=0;L<te.length;L+=1){for(re=!0,B=0;B<te[L].length;B+=1)if(te[L][B]!==void 0&&te[L][B]!==j.charCodeAt(B)){re=!1;break}if(re===!0){H=se;break}}return H===r&&E!==r&&(H=E),H},a=function j(E){for(var L=this.internal.write,B=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:E.width}),re.push({key:"Height",value:E.height}),E.colorSpace===x.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===x.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var se="",H=0,ne=E.transparency.length;H<ne;H++)se+=E.transparency[H]+" "+E.transparency[H]+" ";re.push({key:"Mask",value:"["+se+"]"})}E.sMask!==void 0&&re.push({key:"SMask",value:E.objectId+1+" 0 R"});var ge=E.filter!==void 0?["/"+E.filter]:void 0;if(B({data:E.data,additionalKeyValues:re,alreadyAppliedFilters:ge,objectId:E.objectId}),L("endobj"),"sMask"in E&&E.sMask!==void 0){var _e=(E.predictor!=null?"/Predictor "+E.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+E.width,U={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:_e,data:E.sMask};"filter"in E&&(U.filter=E.filter),j.call(this,U)}if(E.colorSpace===x.INDEXED){var W=this.internal.newObject();B({data:R(new Uint8Array(E.palette)),objectId:W}),L("endobj")}},s=function(){var j=this.internal.collections[e+"images"];for(var E in j)a.call(this,j[E])},o=function(){var j,E=this.internal.collections[e+"images"],L=this.internal.write;for(var B in E)L("/I"+(j=E[B]).index,j.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var j=this.internal.collections[e+"images"];return l.call(this),j},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(j){return typeof t["process"+j.toUpperCase()]=="function"},p=function(j){return jr(j)==="object"&&j.nodeType===1},h=function(j,E){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var L=""+j.getAttribute("src");if(L.indexOf("data:image/")===0)return av(unescape(L).split("base64,").pop());var B=t.loadFile(L,!0);if(B!==void 0)return B}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var te;switch(E){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return av(j.toDataURL(te,1).split("base64,").pop())}},g=function(j){var E=this.internal.collections[e+"images"];if(E){for(var L in E)if(j===E[L].alias)return E[L]}},v=function(j,E,L){return j||E||(j=-96,E=-96),j<0&&(j=-1*L.width*72/j/this.internal.scaleFactor),E<0&&(E=-1*L.height*72/E/this.internal.scaleFactor),j===0&&(j=E*L.width/L.height),E===0&&(E=j*L.height/L.width),[j,E]},b=function(j,E,L,B,te,re){var se=v.call(this,L,B,te),H=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ge=u.call(this);if(L=se[0],B=se[1],ge[te.index]=te,re){re*=Math.PI/180;var _e=Math.cos(re),U=Math.sin(re),W=function(ie){return ie.toFixed(4)},Y=[W(_e),W(U),W(-1*U),W(_e),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,H(j),ne(E+B),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([H(L),"0","0",H(B),"0","0","cm"].join(" "))):this.internal.write([H(L),"0","0",H(B),H(j),ne(E+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(j){var E,L,B=0;if(typeof j=="string")for(L=j.length,E=0;E<L;E++)B=(B<<5)-B+j.charCodeAt(E),B|=0;else if(D(j))for(L=j.byteLength/2,E=0;E<L;E++)B=(B<<5)-B+j[E],B|=0;return B},N=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var E=!0;return j.length===0&&(E=!1),j.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(E=!1),E},k=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var E=j.indexOf(",");return E<0?null:j.substring(0,E).trim().endsWith("base64")?j.substring(E+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(j){for(var E=j.length,L=new Uint8Array(E),B=0;B<E;B++)L[B]=j.charCodeAt(B);return L},R=t.__addimage__.arrayBufferToBinaryString=function(j){for(var E="",L=D(j)?j:new Uint8Array(j),B=0;B<L.length;B+=8192)E+=String.fromCharCode.apply(null,L.subarray(B,B+8192));return E};t.addImage=function(){var j,E,L,B,te,re,se,H,ne;if(typeof arguments[1]=="number"?(E=r,L=arguments[1],B=arguments[2],te=arguments[3],re=arguments[4],se=arguments[5],H=arguments[6],ne=arguments[7]):(E=arguments[1],L=arguments[2],B=arguments[3],te=arguments[4],re=arguments[5],se=arguments[6],H=arguments[7],ne=arguments[8]),jr(j=arguments[0])==="object"&&!p(j)&&"imageData"in j){var ge=j;j=ge.imageData,E=ge.format||E||r,L=ge.x||L||0,B=ge.y||B||0,te=ge.w||ge.width||te,re=ge.h||ge.height||re,se=ge.alias||se,H=ge.compression||H,ne=ge.rotation||ge.angle||ne}var _e=this.internal.getFilters();if(H===void 0&&_e.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(L)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=P.call(this,j,E,se,H);return b.call(this,L,B,te,re,U,ne),this};var P=function(j,E,L,B){var te,re,se;if(typeof j=="string"&&i(j)===r){j=unescape(j);var H=O(j,!1);(H!==""||(H=t.loadFile(j,!0))!==void 0)&&(j=H)}if(p(j)&&(j=h(j,E)),E=i(j,E),!f(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((se=L)==null||se.length===0)&&(L=function(ne){return typeof ne=="string"||D(ne)?_(ne):D(ne.data)?_(ne.data):null}(j)),(te=g.call(this,L))||(j instanceof Uint8Array||E==="RGBA"||(re=j,j=T(j)),te=this["process"+E.toUpperCase()](j,d.call(this),L,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:w.NONE}(B),re)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},O=t.__addimage__.convertBase64ToBinaryString=function(j,E){E=typeof E!="boolean"||E;var L,B="";if(typeof j=="string"){var te;L=(te=k(j))!==null&&te!==void 0?te:j;try{B=av(L)}catch(re){if(E)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};t.getImageProperties=function(j){var E,L,B="";if(p(j)&&(j=h(j)),typeof j=="string"&&i(j)===r&&((B=O(j,!1))===""&&(B=t.loadFile(j)||""),j=B),L=i(j),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(j instanceof Uint8Array||(j=T(j)),!(E=this["process"+L.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=L,E}})(yt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(v.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(x(w))+") >>",v.content=a;var _=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var b=0,x=r,w="",_=0;for(b=0;b<v.length;b+=1)x[v.charCodeAt(b)]!==void 0?(_++,typeof(x=x[v.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(x),x=r,_=0),b===v.length-1&&(x=r,w+=v.charAt(b-(_-1)),b-=_-1,_=0)):(x=r,w+=v.charAt(b-_),b-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,b,x){return s(v)?a(v)===!1?-1:!u(v)||!s(b)&&!s(x)||!s(x)&&o(b)||o(v)&&!s(b)||o(v)&&l(b)||o(v)&&o(b)?0:d(v)&&s(b)&&!o(b)&&s(x)&&u(x)?3:o(v)||!s(x)?1:2:-1},h=function(v){var b=0,x=0,w=0,_="",N="",k="",D=(v=v||"").split("\\s+"),T=[];for(b=0;b<D.length;b+=1){for(T.push(""),x=0;x<D[b].length;x+=1)_=D[b][x],N=D[b][x-1],k=D[b][x+1],s(_)?(w=p(_,N,k),T[b]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):T[b]+=_;T[b]=f(T[b])}return T.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var w=0;for(x=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?x.push([h(b[w][0]),b[w][1],b[w][2]]):x.push([h(b[w])]);v=x}else v=h(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])}(yt.API),yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,N){return _.concat(b.splitTextToSize(N,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(v=this.getStringUnitWidth(l[w],{font:f})*d)&&(h=v);return h!==0&&(g=l.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,v,b,x=[],w=[],_=[],N={},k={},D=[],T=[],R=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,j=p.margins||Object.assign({width:this.getPageWidth()},e),E=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=B,this.setFontSize(O),f==null)w=x=Object.keys(d[0]),_=x.map(function(){return"left"});else if(Array.isArray(f)&&jr(f[0])==="object")for(x=f.map(function(ge){return ge.name}),w=f.map(function(ge){return ge.prompt||ge.name||""}),_=f.map(function(ge){return ge.align||"left"}),h=0;h<f.length;h+=1)k[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,_=x.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(N[b=x[h]]=d.map(function(ge){return ge[b]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[b],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)D.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[b]=Math.max.apply(null,D)+E+E,D=[]}if(P){var te={};for(h=0;h<x.length;h+=1)te[x[h]]={},te[x[h]].text=w[h],te[x[h]].align=_[h];var re=o.call(this,te,k);T=x.map(function(ge){return new a(l,u,k[ge],re,te[ge].text,void 0,te[ge].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var se=f.reduce(function(ge,_e){return ge[_e.name]=_e.align,ge},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var H=o.call(this,d[h],k);for(v=0;v<x.length;v+=1){var ne=d[h][x[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:v,data:ne},this),s.call(this,new a(l,u,k[x[v]],H,ne,h+2,se[x[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(yt.API);var ST={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T5=NT(AT),CT=[100,200,300,400,500,600,700,800,900],TZ=NT(CT);function Cy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return ST[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof T5[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function HA(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var PZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function XA(t){return t.trimLeft()}function OZ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function RZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Pm,YA,ZA,Vd,Om,KA,QA,JA,Ey=["times"];function eC(t,e,r,n){var i=4,a=rC;switch(n){case yt.API.image_compression.FAST:i=1,a=tC;break;case yt.API.image_compression.MEDIUM:i=6,a=nC;break;case yt.API.image_compression.SLOW:i=9,a=iC}t=function(o,l,u,d){for(var f,p=o.length/l,h=new Uint8Array(o.length+p),g=[DZ,tC,rC,nC,iC],v=0;v<p;v+=1){var b=v*l,x=o.subarray(b,b+l);if(d)h.set(d(x,u,f),b+v);else{for(var w=g.length,_=[],N=0;N<w;N+=1)_[N]=g[N](x,u,f);var k=MZ(_.concat());h.set(_[k],b+v)}f=x}return h}(t,e,r,a);var s=x5(t,{level:i});return yt.API.__addimage__.arrayBufferToBinaryString(s)}function DZ(t){var e=Array.apply([],t);return e.unshift(0),e}function tC(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function rC(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function nC(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function iC(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=LZ(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function LZ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function MZ(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function jy(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return ET(t,i)>>a&s}function aC(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(t,a,ET(t,a)&~(o<<s)&65535|l)}function ET(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function FZ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],1&v||(p=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,N=t[e++],k=N>>6&1,D=1<<1+(7&N),T=o,R=l,P=!1;N>>7&&(P=!0,T=e,R=D,e+=3*D);var O=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}d.push({x:b,y:x,width:w,height:_,has_local_palette:P,palette_offset:T,palette_size:R,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!k,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,L){var B=this.frameInfo(E),te=B.width*B.height,re=new Uint8Array(te);sC(t,B.data_offset,re,te);var se=B.palette_offset,H=B.transparent_index;H===null&&(H=256);var ne=B.width,ge=r-ne,_e=ne,U=4*(B.y*r+B.x),W=4*((B.y+B.height)*r+B.x),Y=U,ie=4*ge;B.interlaced===!0&&(ie+=4*r*7);for(var ue=8,ae=0,xe=re.length;ae<xe;++ae){var ve=re[ae];if(_e===0&&(_e=ne,(Y+=ie)>=W&&(ie=4*ge+4*r*(ue-1),Y=U+(ne+ge)*(ue<<1),ue>>=1)),ve===H)Y+=4;else{var Ce=t[se+3*ve],je=t[se+3*ve+1],Le=t[se+3*ve+2];L[Y++]=Le,L[Y++]=je,L[Y++]=Ce,L[Y++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(E,L){var B=this.frameInfo(E),te=B.width*B.height,re=new Uint8Array(te);sC(t,B.data_offset,re,te);var se=B.palette_offset,H=B.transparent_index;H===null&&(H=256);var ne=B.width,ge=r-ne,_e=ne,U=4*(B.y*r+B.x),W=4*((B.y+B.height)*r+B.x),Y=U,ie=4*ge;B.interlaced===!0&&(ie+=4*r*7);for(var ue=8,ae=0,xe=re.length;ae<xe;++ae){var ve=re[ae];if(_e===0&&(_e=ne,(Y+=ie)>=W&&(ie=4*ge+4*r*(ue-1),Y=U+(ne+ge)*(ue<<1),ue>>=1)),ve===H)Y+=4;else{var Ce=t[se+3*ve],je=t[se+3*ve+1],Le=t[se+3*ve+2];L[Y++]=Ce,L[Y++]=je,L[Y++]=Le,L[Y++]=255}--_e}}}function sC(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,u=(1<<l)-1,d=0,f=0,p=0,h=t[e++],g=new Int32Array(4096),v=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var b=f&u;if(f>>=l,d-=l,b!==a){if(b===s)break;for(var x=b<o?b:v,w=0,_=x;_>a;)_=g[_]>>8,++w;var N=_;if(p+w+(x!==b?1:0)>n)return void Dr.log("Warning, gif stream longer than expected.");r[p++]=N;var k=p+=w;for(x!==b&&(r[p++]=N),_=x;w--;)_=g[_],r[--k]=255&_,_>>=8;v!==null&&o<4096&&(g[o++]=v<<8|N,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=b}else o=s+1,u=(1<<(l=i+1))-1,v=null}return p!==n&&Dr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ky(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),v=[],b=0,x=7,w=new Array(64),_=new Array(64),N=new Array(64),k=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(U,W){for(var Y=0,ie=0,ue=new Array,ae=1;ae<=16;ae++){for(var xe=1;xe<=U[ae];xe++)ue[W[ie]]=[],ue[W[ie]][0]=Y,ue[W[ie]][1]=ae,ie++,Y++;Y*=2}return ue}function se(U){for(var W=U[0],Y=U[1]-1;Y>=0;)W&1<<Y&&(b|=1<<x),Y--,--x<0&&(b==255?(H(255),H(0)):H(b),x=7,b=0)}function H(U){v.push(U)}function ne(U){H(U>>8&255),H(255&U)}function ge(U,W,Y,ie,ue){for(var ae,xe=ue[0],ve=ue[240],Ce=function(Ue,pt){var Ye,ee,G,de,Ae,Se,ke,Re,Fe,Ge,$e=0;for(Fe=0;Fe<8;++Fe){Ye=Ue[$e],ee=Ue[$e+1],G=Ue[$e+2],de=Ue[$e+3],Ae=Ue[$e+4],Se=Ue[$e+5],ke=Ue[$e+6];var cr=Ye+(Re=Ue[$e+7]),Vt=Ye-Re,rt=ee+ke,kt=ee-ke,tr=G+Se,St=G-Se,Zt=de+Ae,Mt=de-Ae,mn=cr+Zt,Ln=cr-Zt,Or=rt+tr,Rt=rt-tr;Ue[$e]=mn+Or,Ue[$e+4]=mn-Or;var xr=.707106781*(Rt+Ln);Ue[$e+2]=Ln+xr,Ue[$e+6]=Ln-xr;var Kc=.382683433*((mn=Mt+St)-(Rt=kt+Vt)),Si=.5411961*mn+Kc,Lo=1.306562965*Rt+Kc,Qs=.707106781*(Or=St+kt),Ct=Vt+Qs,Mo=Vt-Qs;Ue[$e+5]=Mo+Si,Ue[$e+3]=Mo-Si,Ue[$e+1]=Ct+Lo,Ue[$e+7]=Ct-Lo,$e+=8}for($e=0,Fe=0;Fe<8;++Fe){Ye=Ue[$e],ee=Ue[$e+8],G=Ue[$e+16],de=Ue[$e+24],Ae=Ue[$e+32],Se=Ue[$e+40],ke=Ue[$e+48];var Fo=Ye+(Re=Ue[$e+56]),Va=Ye-Re,qa=ee+ke,cn=ee-ke,Qn=G+Se,ui=G-Se,Qc=de+Ae,Sl=de-Ae,ms=Fo+Qc,Js=Fo-Qc,vs=qa+Qn,gs=qa-Qn;Ue[$e]=ms+vs,Ue[$e+32]=ms-vs;var $a=.707106781*(gs+Js);Ue[$e+16]=Js+$a,Ue[$e+48]=Js-$a;var Jc=.382683433*((ms=Sl+ui)-(gs=cn+Va)),eo=.5411961*ms+Jc,eu=1.306562965*gs+Jc,vd=.707106781*(vs=ui+cn),gd=Va+vd,xd=Va-vd;Ue[$e+40]=xd+eo,Ue[$e+24]=xd-eo,Ue[$e+8]=gd+eu,Ue[$e+56]=gd-eu,$e++}for(Fe=0;Fe<64;++Fe)Ge=Ue[Fe]*pt[Fe],h[Fe]=Ge>0?Ge+.5|0:Ge-.5|0;return h}(U,W),je=0;je<64;++je)g[T[je]]=Ce[je];var Le=g[0]-Y;Y=g[0],Le==0?se(ie[0]):(se(ie[p[ae=32767+Le]]),se(f[ae]));for(var Ee=63;Ee>0&&g[Ee]==0;)Ee--;if(Ee==0)return se(xe),Y;for(var me,Q=1;Q<=Ee;){for(var at=Q;g[Q]==0&&Q<=Ee;)++Q;var wt=Q-at;if(wt>=16){me=wt>>4;for(var gt=1;gt<=me;++gt)se(ve);wt&=15}ae=32767+g[Q],se(ue[(wt<<4)+p[ae]]),se(f[ae]),Q++}return Ee!=63&&se(xe),Y}function _e(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ue=s((Y[ie]*W+50)/100);ue=Math.min(Math.max(ue,1),255),o[T[ie]]=ue}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ve=s((ae[xe]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[T[xe]]=ve}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Le=0;Le<8;Le++)for(var Ee=0;Ee<8;Ee++)u[je]=1/(o[T[je]]*Ce[Le]*Ce[Ee]*8),d[je]=1/(l[T[je]]*Ce[Le]*Ce[Ee]*8),je++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,W){W&&_e(W),v=new Array,b=0,x=7,ne(65496),ne(65504),ne(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ne(1),ne(1),H(0),H(0),function(){ne(65499),ne(132),H(0);for(var ee=0;ee<64;ee++)H(o[ee]);H(1);for(var G=0;G<64;G++)H(l[G])}(),function(ee,G){ne(65472),ne(17),H(8),ne(G),ne(ee),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(U.width,U.height),function(){ne(65476),ne(418),H(0);for(var ee=0;ee<16;ee++)H(R[ee+1]);for(var G=0;G<=11;G++)H(P[G]);H(16);for(var de=0;de<16;de++)H(O[de+1]);for(var Ae=0;Ae<=161;Ae++)H(j[Ae]);H(1);for(var Se=0;Se<16;Se++)H(E[Se+1]);for(var ke=0;ke<=11;ke++)H(L[ke]);H(17);for(var Re=0;Re<16;Re++)H(B[Re+1]);for(var Fe=0;Fe<=161;Fe++)H(te[Fe])}(),ne(65498),ne(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Y=0,ie=0,ue=0;b=0,x=7,this.encode.displayName="_encode_";for(var ae,xe,ve,Ce,je,Le,Ee,me,Q,at=U.data,wt=U.width,gt=U.height,Ue=4*wt,pt=0;pt<gt;){for(ae=0;ae<Ue;){for(je=Ue*pt+ae,Ee=-1,me=0,Q=0;Q<64;Q++)Le=je+(me=Q>>3)*Ue+(Ee=4*(7&Q)),pt+me>=gt&&(Le-=Ue*(pt+1+me-gt)),ae+Ee>=Ue&&(Le-=ae+Ee-Ue+4),xe=at[Le++],ve=at[Le++],Ce=at[Le++],w[Q]=(D[xe]+D[ve+256|0]+D[Ce+512|0]>>16)-128,_[Q]=(D[xe+768|0]+D[ve+1024|0]+D[Ce+1280|0]>>16)-128,N[Q]=(D[xe+1280|0]+D[ve+1536|0]+D[Ce+1792|0]>>16)-128;Y=ge(w,u,Y,e,n),ie=ge(_,d,ie,r,i),ue=ge(N,d,ue,r,i),ae+=32}pt+=8}if(x>=0){var Ye=[];Ye[1]=x+1,Ye[0]=(1<<x+1)-1,se(Ye)}return ne(65497),new Uint8Array(v)},t=t||50,function(){for(var U=String.fromCharCode,W=0;W<256;W++)k[W]=U(W)}(),e=re(R,P),r=re(E,L),n=re(O,j),i=re(B,te),function(){for(var U=1,W=2,Y=1;Y<=15;Y++){for(var ie=U;ie<W;ie++)p[32767+ie]=Y,f[32767+ie]=[],f[32767+ie][1]=Y,f[32767+ie][0]=ie;for(var ue=-(W-1);ue<=-U;ue++)p[32767+ue]=Y,f[32767+ue]=[],f[32767+ue][1]=Y,f[32767+ue][0]=W-1+ue;U<<=1,W<<=1}}(),function(){for(var U=0;U<256;U++)D[U]=19595*U,D[U+256|0]=38470*U,D[U+512|0]=7471*U+32768,D[U+768|0]=-11059*U,D[U+1024|0]=-21709*U,D[U+1280|0]=32768*U+8421375,D[U+1536|0]=-27439*U,D[U+1792|0]=-5329*U}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function As(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oC(t){function e(P){if(!P)throw Error("assert :P")}function r(P,O,j){for(var E=0;4>E;E++)if(P[O+E]!=j.charCodeAt(E))return!0;return!1}function n(P,O,j,E,L){for(var B=0;B<L;B++)P[O+B]=j[E+B]}function i(P,O,j,E){for(var L=0;L<E;L++)P[O+L]=j}function a(P){return new Int32Array(P)}function s(P,O){for(var j=[],E=0;E<P;E++)j.push(new O);return j}function o(P,O){var j=[];return function E(L,B,te){for(var re=te[B],se=0;se<re&&(L.push(te.length>B+1?[]:new O),!(te.length<B+1));se++)E(L[se],B+1,te)}(j,0,P),j}var l=function(){var P=this;function O(m,y){for(var A=1<<y-1>>>0;m&A;)A>>>=1;return A?(m&A-1)+A:m}function j(m,y,A,I,M){e(!(I%A));do m[y+(I-=A)]=M;while(0<I)}function E(m,y,A,I,M){if(e(2328>=M),512>=M)var z=a(512);else if((z=a(M))==null)return 0;return function(V,q,$,Z,ce,be){var K,fe,pe=q,Te=1<<$,we=a(16),Pe=a(16);for(e(ce!=0),e(Z!=null),e(V!=null),e(0<$),fe=0;fe<ce;++fe){if(15<Z[fe])return 0;++we[Z[fe]]}if(we[0]==ce)return 0;for(Pe[1]=0,K=1;15>K;++K){if(we[K]>1<<K)return 0;Pe[K+1]=Pe[K]+we[K]}for(fe=0;fe<ce;++fe)K=Z[fe],0<Z[fe]&&(be[Pe[K]++]=fe);if(Pe[15]==1)return(Z=new L).g=0,Z.value=be[0],j(V,pe,1,Te,Z),Te;var De,ze=-1,Me=Te-1,xt=0,it=1,qt=1,ut=1<<$;for(fe=0,K=1,ce=2;K<=$;++K,ce<<=1){if(it+=qt<<=1,0>(qt-=we[K]))return 0;for(;0<we[K];--we[K])(Z=new L).g=K,Z.value=be[fe++],j(V,pe+xt,ce,ut,Z),xt=O(xt,K)}for(K=$+1,ce=2;15>=K;++K,ce<<=1){if(it+=qt<<=1,0>(qt-=we[K]))return 0;for(;0<we[K];--we[K]){if(Z=new L,(xt&Me)!=ze){for(pe+=ut,De=1<<(ze=K)-$;15>ze&&!(0>=(De-=we[ze]));)++ze,De<<=1;Te+=ut=1<<(De=ze-$),V[q+(ze=xt&Me)].g=De+$,V[q+ze].value=pe-q-ze}Z.g=K-$,Z.value=be[fe++],j(V,pe+(xt>>$),ce,ut,Z),xt=O(xt,K)}}return it!=2*Pe[15]-1?0:Te}(m,y,A,I,M,z)}function L(){this.value=this.g=0}function B(){this.value=this.g=0}function te(){this.G=s(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(no,B)}function re(m,y,A,I){e(m!=null),e(y!=null),e(2147483648>I),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=A,m.Jd=y,m.Yc=A+I,m.Zc=4<=I?A+I-4+1:A,xe(m)}function se(m,y){for(var A=0;0<y--;)A|=Ce(m,128)<<y;return A}function H(m,y){var A=se(m,y);return ve(m)?-A:A}function ne(m,y,A,I){var M,z=0;for(e(m!=null),e(y!=null),e(4294967288>I),m.Sb=I,m.Ra=0,m.u=0,m.h=0,4<I&&(I=4),M=0;M<I;++M)z+=y[A+M]<<8*M;m.Ra=z,m.bb=I,m.oa=y,m.pa=A}function ge(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Tl-8>>>0,++m.bb,m.u-=8;ie(m)&&(m.h=1,m.u=0)}function _e(m,y){if(e(0<=y),!m.h&&y<=qh){var A=Y(m)&Il[y];return m.u+=y,ge(m),A}return m.h=1,m.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&Tl-1)>>>0}function ie(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Tl}function ue(m,y){m.u=y,m.h=ie(m)}function ae(m){m.u>=gn&&(e(m.u>=gn),ge(m))}function xe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ve(m){return se(m,1)}function Ce(m,y){var A=m.Ca;0>m.b&&xe(m);var I=m.b,M=A*y>>>8,z=(m.I>>>I>M)+0;for(z?(A-=M,m.I-=M+1<<I>>>0):A=M+1,I=A,M=0;256<=I;)M+=8,I>>=8;return I=7^M+B2[I],m.b-=I,m.Ca=(A<<I)-1,z}function je(m,y,A){m[y+0]=A>>24&255,m[y+1]=A>>16&255,m[y+2]=A>>8&255,m[y+3]=255&A}function Le(m,y){return m[y+0]|m[y+1]<<8}function Ee(m,y){return Le(m,y)|m[y+2]<<16}function me(m,y){return Le(m,y)|Le(m,y+2)<<16}function Q(m,y){var A=1<<y;return e(m!=null),e(0<y),m.X=a(A),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function at(m,y){e(m!=null),e(y!=null),e(m.Xa==y.Xa),n(y.X,0,m.X,0,1<<y.Xa)}function wt(){this.X=[],this.Xa=this.Mb=0}function gt(m,y,A,I){e(A!=null),e(I!=null);var M=A[0],z=I[0];return M==0&&(M=(m*z+y/2)/y),z==0&&(z=(y*M+m/2)/m),0>=M||0>=z?0:(A[0]=M,I[0]=z,1)}function Ue(m,y){return m+(1<<y)-1>>>y}function pt(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function Ye(m,y){P[y]=function(A,I,M,z,V,q,$){var Z;for(Z=0;Z<V;++Z){var ce=P[m](q[$+Z-1],M,z+Z);q[$+Z]=pt(A[I+Z],ce)}}}function ee(){this.ud=this.hd=this.jd=0}function G(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function de(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ae(m,y){return de(m+(m-y+.5>>1))}function Se(m,y,A){return Math.abs(y-A)-Math.abs(m-A)}function ke(m,y,A,I,M,z,V){for(I=z[V-1],A=0;A<M;++A)z[V+A]=I=pt(m[y+A],I)}function Re(m,y,A,I,M){var z;for(z=0;z<A;++z){var V=m[y+z],q=V>>8&255,$=16711935&($=($=16711935&V)+((q<<16)+q));I[M+z]=(4278255360&V)+$>>>0}}function Fe(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function Ge(m,y,A,I,M,z){var V;for(V=0;V<I;++V){var q=y[A+V],$=q>>>8,Z=q,ce=255&(ce=(ce=q>>>16)+((m.jd<<24>>24)*($<<24>>24)>>>5));Z=255&(Z=(Z+=(m.hd<<24>>24)*($<<24>>24)>>>5)+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),M[z+V]=(4278255360&q)+(ce<<16)+Z}}function $e(m,y,A,I,M){P[y]=function(z,V,q,$,Z,ce,be,K,fe){for($=be;$<K;++$)for(be=0;be<fe;++be)Z[ce++]=M(q[I(z[V++])])},P[m]=function(z,V,q,$,Z,ce,be){var K=8>>z.b,fe=z.Ea,pe=z.K[0],Te=z.w;if(8>K)for(z=(1<<z.b)-1,Te=(1<<K)-1;V<q;++V){var we,Pe=0;for(we=0;we<fe;++we)we&z||(Pe=I($[Z++])),ce[be++]=M(pe[Pe&Te]),Pe>>=K}else P["VP8LMapColor"+A]($,Z,pe,Te,ce,be,V,q,fe)}}function cr(m,y,A,I,M){for(A=y+A;y<A;){var z=m[y++];I[M++]=z>>16&255,I[M++]=z>>8&255,I[M++]=255&z}}function Vt(m,y,A,I,M){for(A=y+A;y<A;){var z=m[y++];I[M++]=z>>16&255,I[M++]=z>>8&255,I[M++]=255&z,I[M++]=z>>24&255}}function rt(m,y,A,I,M){for(A=y+A;y<A;){var z=(V=m[y++])>>16&240|V>>12&15,V=240&V|V>>28&15;I[M++]=z,I[M++]=V}}function kt(m,y,A,I,M){for(A=y+A;y<A;){var z=(V=m[y++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;I[M++]=z,I[M++]=V}}function tr(m,y,A,I,M){for(A=y+A;y<A;){var z=m[y++];I[M++]=255&z,I[M++]=z>>8&255,I[M++]=z>>16&255}}function St(m,y,A,I,M,z){if(z==0)for(A=y+A;y<A;)je(I,((z=m[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),M+=32;else n(I,M,m,y,A)}function Zt(m,y){P[y][0]=P[m+"0"],P[y][1]=P[m+"1"],P[y][2]=P[m+"2"],P[y][3]=P[m+"3"],P[y][4]=P[m+"4"],P[y][5]=P[m+"5"],P[y][6]=P[m+"6"],P[y][7]=P[m+"7"],P[y][8]=P[m+"8"],P[y][9]=P[m+"9"],P[y][10]=P[m+"10"],P[y][11]=P[m+"11"],P[y][12]=P[m+"12"],P[y][13]=P[m+"13"],P[y][14]=P[m+"0"],P[y][15]=P[m+"0"]}function Mt(m){return m==V2||m==q2||m==Dp||m==$2}function mn(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Or(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new Ln,this.sd=null}function Rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kc(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Si(m,y){var A=m.T,I=y.ba.f.RGBA,M=I.eb,z=I.fb+m.ka*I.A,V=Xa[y.ba.S],q=m.y,$=m.O,Z=m.f,ce=m.N,be=m.ea,K=m.W,fe=y.cc,pe=y.dc,Te=y.Mc,we=y.Nc,Pe=m.ka,De=m.ka+m.T,ze=m.U,Me=ze+1>>1;for(Pe==0?V(q,$,null,null,Z,ce,be,K,Z,ce,be,K,M,z,null,null,ze):(V(y.ec,y.fc,q,$,fe,pe,Te,we,Z,ce,be,K,M,z-I.A,M,z,ze),++A);Pe+2<De;Pe+=2)fe=Z,pe=ce,Te=be,we=K,ce+=m.Rc,K+=m.Rc,z+=2*I.A,V(q,($+=2*m.fa)-m.fa,q,$,fe,pe,Te,we,Z,ce,be,K,M,z-I.A,M,z,ze);return $+=m.fa,m.j+De<m.o?(n(y.ec,y.fc,q,$,ze),n(y.cc,y.dc,Z,ce,Me),n(y.Mc,y.Nc,be,K,Me),A--):1&De||V(q,$,null,null,Z,ce,be,K,Z,ce,be,K,M,z+I.A,null,null,ze),A}function Lo(m,y,A){var I=m.F,M=[m.J];if(I!=null){var z=m.U,V=y.ba.S,q=V==Rp||V==Dp;y=y.ba.f.RGBA;var $=[0],Z=m.ka;$[0]=m.T,m.Kb&&(Z==0?--$[0]:(--Z,M[0]-=m.width),m.j+m.ka+m.T==m.o&&($[0]=m.o-m.j-Z));var ce=y.eb;Z=y.fb+Z*y.A,m=v_(I,M[0],m.width,z,$,ce,Z+(q?0:3),y.A),e(A==$),m&&Mt(V)&&Gh(ce,Z,q,z,$,y.A)}return 0}function Qs(m){var y=m.ma,A=y.ba.S,I=11>A,M=A==Pp||A==Op||A==Rp||A==z2||A==12||Mt(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!na(y.Oa,m,M?11:12))return 0;if(M&&Mt(A)&&Bh(),m.da)alert("todo:use_scaling");else{if(I){if(y.Ib=Kc,m.Kb){if(A=m.U+1>>1,y.memory=a(m.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Si,Bh()}}else alert("todo:EmitYUV");M&&(y.Jb=Lo,I&&cu())}if(I&&!O_){for(m=0;256>m;++m)WP[m]=89858*(m-128)+Mp>>Lp,YP[m]=-22014*(m-128)+Mp,XP[m]=-45773*(m-128),GP[m]=113618*(m-128)+Mp>>Lp;for(m=Yh;m<G2;++m)y=76283*(m-16)+Mp>>Lp,ZP[m-Yh]=Fn(y,255),KP[m-Yh]=Fn(y+8>>4,15);O_=1}return 1}function Ct(m){var y=m.ma,A=m.U,I=m.T;return e(!(1&m.ka)),0>=A||0>=I?0:(A=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,A),y.Dc+=A,1)}function Mo(m){m.ma.memory=null}function Fo(m,y,A,I){return _e(m,8)!=47?0:(y[0]=_e(m,14)+1,A[0]=_e(m,14)+1,I[0]=_e(m,1),_e(m,3)!=0?0:!m.h)}function Va(m,y){if(4>m)return m+1;var A=m-2>>1;return(2+(1&m)<<A)+_e(y,A)+1}function qa(m,y){return 120<y?y-120:1<=(A=((A=PP[y-1])>>4)*m+(8-(15&A)))?A:1;var A}function cn(m,y,A){var I=Y(A),M=m[y+=255&I].g-8;return 0<M&&(ue(A,A.u+8),I=Y(A),y+=m[y].value,y+=I&(1<<M)-1),ue(A,A.u+m[y].g),m[y].value}function Qn(m,y,A){return A.g+=m.g,A.value+=m.value<<y>>>0,e(8>=A.g),m.g}function ui(m,y,A){var I=m.xc;return e((y=I==0?0:m.vc[m.md*(A>>I)+(y>>I)])<m.Wb),m.Ya[y]}function Qc(m,y,A,I){var M=m.ab,z=m.c*y,V=m.C;y=V+y;var q=A,$=I;for(I=m.Ta,A=m.Ua;0<M--;){var Z=m.gc[M],ce=V,be=y,K=q,fe=$,pe=($=I,q=A,Z.Ea);switch(e(ce<be),e(be<=Z.nc),Z.hc){case 2:jd(K,fe,(be-ce)*pe,$,q);break;case 0:var Te=ce,we=be,Pe=$,De=q,ze=(ut=Z).Ea;Te==0&&(io(K,fe,null,null,1,Pe,De),ke(K,fe+1,0,0,ze-1,Pe,De+1),fe+=ze,De+=ze,++Te);for(var Me=1<<ut.b,xt=Me-1,it=Ue(ze,ut.b),qt=ut.K,ut=ut.w+(Te>>ut.b)*it;Te<we;){var rr=qt,Bn=ut,$t=1;for(ao(K,fe,Pe,De-ze,1,Pe,De);$t<ze;){var dt=($t&~xt)+Me;dt>ze&&(dt=ze),(0,fu[rr[Bn++]>>8&15])(K,fe+ +$t,Pe,De+$t-ze,dt-$t,Pe,De+$t),$t=dt}fe+=ze,De+=ze,++Te&xt||(ut+=it)}be!=Z.nc&&n($,q-pe,$,q+(be-ce-1)*pe,pe);break;case 1:for(pe=K,we=fe,ze=(K=Z.Ea)-(De=K&~(Pe=(fe=1<<Z.b)-1)),Te=Ue(K,Z.b),Me=Z.K,Z=Z.w+(ce>>Z.b)*Te;ce<be;){for(xt=Me,it=Z,qt=new ee,ut=we+De,rr=we+K;we<ut;)Fe(xt[it++],qt),Ho(qt,pe,we,fe,$,q),we+=fe,q+=fe;we<rr&&(Fe(xt[it++],qt),Ho(qt,pe,we,ze,$,q),we+=ze,q+=ze),++ce&Pe||(Z+=Te)}break;case 3:if(K==$&&fe==q&&0<Z.b){for(we=$,K=pe=q+(be-ce)*pe-(De=(be-ce)*Ue(Z.Ea,Z.b)),fe=$,Pe=q,Te=[],De=(ze=De)-1;0<=De;--De)Te[De]=fe[Pe+De];for(De=ze-1;0<=De;--De)we[K+De]=Te[De];$h(Z,ce,be,$,pe,$,q)}else $h(Z,ce,be,K,fe,$,q)}q=I,$=A}$!=A&&n(I,A,q,$,z)}function Sl(m,y){var A=m.V,I=m.Ba+m.c*m.C,M=y-m.C;if(e(y<=m.l.o),e(16>=M),0<M){var z=m.l,V=m.Ta,q=m.Ua,$=z.width;if(Qc(m,M,A,I),M=q=[q],e((A=m.C)<(I=y)),e(z.v<z.va),I>z.o&&(I=z.o),A<z.j){var Z=z.j-A;A=z.j,M[0]+=Z*$}if(A>=I?A=0:(M[0]+=4*z.v,z.ka=A-z.j,z.U=z.va-z.v,z.T=I-A,A=1),A){if(q=q[0],11>(A=m.ca).S){var ce=A.f.RGBA,be=(I=A.S,M=z.U,z=z.T,Z=ce.eb,ce.A),K=z;for(ce=ce.fb+m.Ma*ce.A;0<K--;){var fe=V,pe=q,Te=M,we=Z,Pe=ce;switch(I){case Tp:Hh(fe,pe,Te,we,Pe);break;case Pp:wa(fe,pe,Te,we,Pe);break;case V2:wa(fe,pe,Te,we,Pe),Gh(we,Pe,0,Te,1,0);break;case N_:Br(fe,pe,Te,we,Pe);break;case Op:St(fe,pe,Te,we,Pe,1);break;case q2:St(fe,pe,Te,we,Pe,1),Gh(we,Pe,0,Te,1,0);break;case Rp:St(fe,pe,Te,we,Pe,0);break;case Dp:St(fe,pe,Te,we,Pe,0),Gh(we,Pe,1,Te,1,0);break;case z2:so(fe,pe,Te,we,Pe);break;case $2:so(fe,pe,Te,we,Pe),m_(we,Pe,Te,1,0);break;case S_:Fr(fe,pe,Te,we,Pe);break;default:e(0)}q+=$,ce+=be}m.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=A.height)}}m.C=y,e(m.C<=m.i)}function ms(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var A=m.Ya[y].G,I=m.Ya[y].H;if(0<A[1][I[1]+0].g||0<A[2][I[2]+0].g||0<A[3][I[3]+0].g)return 0}return 1}function Js(m,y,A,I,M,z){if(m.Z!=0){var V=m.qd,q=m.rd;for(e(Ol[m.Z]!=null);y<A;++y)Ol[m.Z](V,q,I,M,I,M,z),V=I,q=M,M+=z;m.qd=V,m.rd=q}}function vs(m,y){var A=m.l.ma,I=A.Z==0||A.Z==1?m.l.j:m.C;if(I=m.C<I?I:m.C,e(y<=m.l.o),y>I){var M=m.l.width,z=A.ca,V=A.tb+M*I,q=m.V,$=m.Ba+m.c*I,Z=m.gc;e(m.ab==1),e(Z[0].hc==3),Id(Z[0],I,y,q,$,z,V),Js(A,I,y,z,V,M)}m.C=m.Ma=y}function gs(m,y,A,I,M,z,V){var q=m.$/I,$=m.$%I,Z=m.m,ce=m.s,be=A+m.$,K=be;M=A+I*M;var fe=A+I*z,pe=280+ce.ua,Te=m.Pb?q:16777216,we=0<ce.ua?ce.Wa:null,Pe=ce.wc,De=be<fe?ui(ce,$,q):null;e(m.C<z),e(fe<=M);var ze=!1;e:for(;;){for(;ze||be<fe;){var Me=0;if(q>=Te){var xt=be-A;e((Te=m).Pb),Te.wd=Te.m,Te.xd=xt,0<Te.s.ua&&at(Te.s.Wa,Te.s.vb),Te=q+RP}if($&Pe||(De=ui(ce,$,q)),e(De!=null),De.Qb&&(y[be]=De.qb,ze=!0),!ze)if(ae(Z),De.jc){Me=Z,xt=y;var it=be,qt=De.pd[Y(Me)&no-1];e(De.jc),256>qt.g?(ue(Me,Me.u+qt.g),xt[it]=qt.value,Me=0):(ue(Me,Me.u+qt.g-256),e(256<=qt.value),Me=qt.value),Me==0&&(ze=!0)}else Me=cn(De.G[0],De.H[0],Z);if(Z.h)break;if(ze||256>Me){if(!ze)if(De.nd)y[be]=(De.qb|Me<<8)>>>0;else{if(ae(Z),ze=cn(De.G[1],De.H[1],Z),ae(Z),xt=cn(De.G[2],De.H[2],Z),it=cn(De.G[3],De.H[3],Z),Z.h)break;y[be]=(it<<24|ze<<16|Me<<8|xt)>>>0}if(ze=!1,++be,++$>=I&&($=0,++q,V!=null&&q<=z&&!(q%16)&&V(m,q),we!=null))for(;K<be;)Me=y[K++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me}else if(280>Me){if(Me=Va(Me-256,Z),xt=cn(De.G[4],De.H[4],Z),ae(Z),xt=qa(I,xt=Va(xt,Z)),Z.h)break;if(be-A<xt||M-be<Me)break e;for(it=0;it<Me;++it)y[be+it]=y[be+it-xt];for(be+=Me,$+=Me;$>=I;)$-=I,++q,V!=null&&q<=z&&!(q%16)&&V(m,q);if(e(be<=M),$&Pe&&(De=ui(ce,$,q)),we!=null)for(;K<be;)Me=y[K++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me}else{if(!(Me<pe))break e;for(ze=Me-280,e(we!=null);K<be;)Me=y[K++],we.X[(506832829*Me&4294967295)>>>we.Mb]=Me;Me=be,e(!(ze>>>(xt=we).Xa)),y[Me]=xt.X[ze],ze=!0}ze||e(Z.h==ie(Z))}if(m.Pb&&Z.h&&be<M)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&at(m.s.vb,m.s.Wa);else{if(Z.h)break e;V!=null&&V(m,q>z?z:q),m.a=0,m.$=be-A}return 1}return m.a=3,0}function $a(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,e(m!=null)}function Jc(){var m=new Jr;return m==null?null:(m.a=0,m.xb=E_,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),jd=Re,Ho=Ge,Hh=cr,wa=Vt,so=rt,Fr=kt,Br=tr,P.VP8LMapColor32b=kd,P.VP8LMapColor8b=du,m)}function eo(m,y,A,I,M){var z=1,V=[m],q=[y],$=I.m,Z=I.s,ce=null,be=0;e:for(;;){if(A)for(;z&&_e($,1);){var K=V,fe=q,pe=I,Te=1,we=pe.m,Pe=pe.gc[pe.ab],De=_e(we,2);if(pe.Oc&1<<De)z=0;else{switch(pe.Oc|=1<<De,Pe.hc=De,Pe.Ea=K[0],Pe.nc=fe[0],Pe.K=[null],++pe.ab,e(4>=pe.ab),De){case 0:case 1:Pe.b=_e(we,3)+2,Te=eo(Ue(Pe.Ea,Pe.b),Ue(Pe.nc,Pe.b),0,pe,Pe.K),Pe.K=Pe.K[0];break;case 3:var ze,Me=_e(we,8)+1,xt=16<Me?0:4<Me?1:2<Me?2:3;if(K[0]=Ue(Pe.Ea,xt),Pe.b=xt,ze=Te=eo(Me,1,0,pe,Pe.K)){var it,qt=Me,ut=Pe,rr=1<<(8>>ut.b),Bn=a(rr);if(Bn==null)ze=0;else{var $t=ut.K[0],dt=ut.w;for(Bn[0]=ut.K[0][0],it=1;it<1*qt;++it)Bn[it]=pt($t[dt+it],Bn[it-1]);for(;it<4*rr;++it)Bn[it]=0;ut.K[0]=null,ut.K[0]=Bn,ze=1}}Te=ze;break;case 2:break;default:e(0)}z=Te}}if(V=V[0],q=q[0],z&&_e($,1)&&!(z=1<=(be=_e($,4))&&11>=be)){I.a=3;break e}var Ze;if(Ze=z)t:{var wn,Ft,sr,$r=I,fi=V,Bi=q,un=be,Ai=A,Ui=$r.m,Un=$r.s,ur=[null],_r=1,dn=0,Nr=OP[un];r:for(;;){if(Ai&&_e(Ui,1)){var hi=_e(Ui,3)+2,bs=Ue(fi,hi),bn=Ue(Bi,hi),aa=bs*bn;if(!eo(bs,bn,0,$r,ur))break r;for(ur=ur[0],Un.xc=hi,wn=0;wn<aa;++wn){var Rr=ur[wn]>>8&65535;ur[wn]=Rr,Rr>=_r&&(_r=Rr+1)}}if(Ui.h)break r;for(Ft=0;5>Ft;++Ft){var zn=A_[Ft];!Ft&&0<un&&(zn+=1<<un),dn<zn&&(dn=zn)}var _a=s(_r*Nr,L),zi=_r,Na=s(zi,te);if(Na==null)var Sa=null;else e(65536>=zi),Sa=Na;var sa=a(dn);if(Sa==null||sa==null||_a==null){$r.a=1;break r}var Aa=_a;for(wn=sr=0;wn<_r;++wn){var Ur=Sa[wn],Ca=Ur.G,_s=Ur.H,hu=0,Xo=1,pi=0;for(Ft=0;5>Ft;++Ft){zn=A_[Ft],Ca[Ft]=Aa,_s[Ft]=sr,!Ft&&0<un&&(zn+=1<<un);i:{var Bp,X2=zn,Up=$r,Zh=sa,eO=Aa,tO=sr,Y2=0,Rl=Up.m,rO=_e(Rl,1);if(i(Zh,0,0,X2),rO){var nO=_e(Rl,1)+1,iO=_e(Rl,1),L_=_e(Rl,iO==0?1:8);Zh[L_]=1,nO==2&&(Zh[L_=_e(Rl,8)]=1);var zp=1}else{var M_=a(19),F_=_e(Rl,4)+4;if(19<F_){Up.a=3;var Vp=0;break i}for(Bp=0;Bp<F_;++Bp)M_[TP[Bp]]=_e(Rl,3);var Z2=void 0,Kh=void 0,B_=Up,aO=M_,qp=X2,U_=Zh,K2=0,Dl=B_.m,z_=8,V_=s(128,L);n:for(;E(V_,0,7,aO,19);){if(_e(Dl,1)){var sO=2+2*_e(Dl,3);if((Z2=2+_e(Dl,sO))>qp)break n}else Z2=qp;for(Kh=0;Kh<qp&&Z2--;){ae(Dl);var q_=V_[0+(127&Y(Dl))];ue(Dl,Dl.u+q_.g);var Pd=q_.value;if(16>Pd)U_[Kh++]=Pd,Pd!=0&&(z_=Pd);else{var oO=Pd==16,$_=Pd-16,lO=kP[$_],H_=_e(Dl,jP[$_])+lO;if(Kh+H_>qp)break n;for(var cO=oO?z_:0;0<H_--;)U_[Kh++]=cO}}K2=1;break n}K2||(B_.a=3),zp=K2}(zp=zp&&!Rl.h)&&(Y2=E(eO,tO,8,Zh,X2)),zp&&Y2!=0?Vp=Y2:(Up.a=3,Vp=0)}if(Vp==0)break r;if(Xo&&IP[Ft]==1&&(Xo=Aa[sr].g==0),hu+=Aa[sr].g,sr+=Vp,3>=Ft){var Qh,Q2=sa[0];for(Qh=1;Qh<zn;++Qh)sa[Qh]>Q2&&(Q2=sa[Qh]);pi+=Q2}}if(Ur.nd=Xo,Ur.Qb=0,Xo&&(Ur.qb=(Ca[3][_s[3]+0].value<<24|Ca[1][_s[1]+0].value<<16|Ca[2][_s[2]+0].value)>>>0,hu==0&&256>Ca[0][_s[0]+0].value&&(Ur.Qb=1,Ur.qb+=Ca[0][_s[0]+0].value<<8)),Ur.jc=!Ur.Qb&&6>pi,Ur.jc){var $p,Yo=Ur;for($p=0;$p<no;++$p){var Ll=$p,Ml=Yo.pd[Ll],Hp=Yo.G[0][Yo.H[0]+Ll];256<=Hp.value?(Ml.g=Hp.g+256,Ml.value=Hp.value):(Ml.g=0,Ml.value=0,Ll>>=Qn(Hp,8,Ml),Ll>>=Qn(Yo.G[1][Yo.H[1]+Ll],16,Ml),Ll>>=Qn(Yo.G[2][Yo.H[2]+Ll],0,Ml),Qn(Yo.G[3][Yo.H[3]+Ll],24,Ml))}}}Un.vc=ur,Un.Wb=_r,Un.Ya=Sa,Un.yc=_a,Ze=1;break t}Ze=0}if(!(z=Ze)){I.a=3;break e}if(0<be){if(Z.ua=1<<be,!Q(Z.Wa,be)){I.a=1,z=0;break e}}else Z.ua=0;var J2=I,W_=V,uO=q,ex=J2.s,tx=ex.xc;if(J2.c=W_,J2.i=uO,ex.md=Ue(W_,tx),ex.wc=tx==0?-1:(1<<tx)-1,A){I.xb=zP;break e}if((ce=a(V*q))==null){I.a=1,z=0;break e}z=(z=gs(I,ce,0,V,q,q,null))&&!$.h;break e}return z?(M!=null?M[0]=ce:(e(ce==null),e(A)),I.$=0,A||$a(Z)):$a(Z),z}function eu(m,y){var A=m.c*m.i,I=A+y+16*y;return e(m.c<=y),m.V=a(I),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+A+y,1)}function vd(m,y){var A=m.C,I=y-A,M=m.V,z=m.Ba+m.c*A;for(e(y<=m.l.o);0<I;){var V=16<I?16:I,q=m.l.ma,$=m.l.width,Z=$*V,ce=q.ca,be=q.tb+$*A,K=m.Ta,fe=m.Ua;Qc(m,V,M,z),g_(K,fe,ce,be,Z),Js(q,A,A+V,ce,be,$),I-=V,M+=V*m.c,A+=V}e(A==y),m.C=m.Ma=y}function gd(){this.ub=this.yd=this.td=this.Rb=0}function xd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _2(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ah(){this.Yb=function(){var m=[];return function y(A,I,M){for(var z=M[I],V=0;V<z&&(A.push(M.length>I+1?[]:0),!(M.length<I+1));V++)y(A[V],I+1,M)}(m,0,[3,11]),m}()}function gp(){this.jb=a(3),this.Wc=o([4,8],Ah),this.Xc=o([4,17],Ah)}function xp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ha(){this.ld=this.La=this.dd=this.tc=0}function Ch(){this.Na=this.la=0}function yp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Eh(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wp(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ha),this.Y=0,this.ya=Array(new Eh),this.aa=0,this.l=new yd}function bp(){this.y=a(16),this.f=a(8),this.ea=a(8)}function _p(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new gd,this.Kc=new xd,this.ed=new xp,this.Qa=new _2,this.Ic=this.$c=this.Aa=0,this.D=new wp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,U),this.ia=0,this.pb=s(4,yp),this.Pa=new gp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bp),this.Hd=0,this.rb=Array(new Ch),this.sb=0,this.wa=Array(new Ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Eh),this.L=this.aa=0,this.gd=o([4,2],Ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function N2(){var m=new _p;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Xh||(Xh=Bo)),m}function In(m,y,A){return m.a==0&&(m.a=y,m.sc=A,m.cb=0),0}function Np(m,y,A){return 3<=A&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function Sp(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return In(m,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,I=y.w,M=y.ha;if(4>M)return In(m,7,"Truncated header.");var z=A[I+0]|A[I+1]<<8|A[I+2]<<16,V=m.Od;if(V.Rb=!(1&z),V.td=z>>1&7,V.yd=z>>4&1,V.ub=z>>5,3<V.td)return In(m,3,"Incorrect keyframe parameters.");if(!V.yd)return In(m,4,"Frame not displayable.");I+=3,M-=3;var q=m.Kc;if(V.Rb){if(7>M)return In(m,7,"cannot parse picture header");if(!Np(A,I,M))return In(m,3,"Bad code word");q.c=16383&(A[I+4]<<8|A[I+3]),q.Td=A[I+4]>>6,q.i=16383&(A[I+6]<<8|A[I+5]),q.Ud=A[I+6]>>6,I+=7,M-=7,m.za=q.c+15>>4,m.Ub=q.i+15>>4,y.width=q.c,y.height=q.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,i((z=m.Pa).jb,0,255,z.jb.length),e((z=m.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(V.ub>M)return In(m,7,"bad partition length");re(z=m.m,A,I,V.ub),I+=V.ub,M-=V.ub,V.Rb&&(q.Ld=ve(z),q.Kd=ve(z)),q=m.Qa;var $,Z=m.Pa;if(e(z!=null),e(q!=null),q.Cb=ve(z),q.Cb){if(q.Bb=ve(z),ve(z)){for(q.Fb=ve(z),$=0;4>$;++$)q.Zb[$]=ve(z)?H(z,7):0;for($=0;4>$;++$)q.Lb[$]=ve(z)?H(z,6):0}if(q.Bb)for($=0;3>$;++$)Z.jb[$]=ve(z)?se(z,8):255}else q.Bb=0;if(z.Ka)return In(m,3,"cannot parse segment header");if((q=m.ed).zd=ve(z),q.Tb=se(z,6),q.wb=se(z,3),q.Pc=ve(z),q.Pc&&ve(z)){for(Z=0;4>Z;++Z)ve(z)&&(q.vd[Z]=H(z,6));for(Z=0;4>Z;++Z)ve(z)&&(q.od[Z]=H(z,6))}if(m.L=q.Tb==0?0:q.zd?1:2,z.Ka)return In(m,3,"cannot parse filter header");var ce=M;if(M=$=I,I=$+ce,q=ce,m.Xb=(1<<se(m.m,2))-1,ce<3*(Z=m.Xb))A=7;else{for($+=3*Z,q-=3*Z,ce=0;ce<Z;++ce){var be=A[M+0]|A[M+1]<<8|A[M+2]<<16;be>q&&(be=q),re(m.Jc[+ce],A,$,be),$+=be,q-=be,M+=3}re(m.Jc[+Z],A,$,q),A=$<I?0:5}if(A!=0)return In(m,A,"cannot parse partitions");for(A=se($=m.m,7),M=ve($)?H($,4):0,I=ve($)?H($,4):0,q=ve($)?H($,4):0,Z=ve($)?H($,4):0,$=ve($)?H($,4):0,ce=m.Qa,be=0;4>be;++be){if(ce.Cb){var K=ce.Zb[be];ce.Fb||(K+=A)}else{if(0<be){m.pb[be]=m.pb[0];continue}K=A}var fe=m.pb[be];fe.Sc[0]=H2[Fn(K+M,127)],fe.Sc[1]=W2[Fn(K+0,127)],fe.Eb[0]=2*H2[Fn(K+I,127)],fe.Eb[1]=101581*W2[Fn(K+q,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=H2[Fn(K+Z,117)],fe.Qc[1]=W2[Fn(K+$,127)],fe.lc=K+$}if(!V.Rb)return In(m,4,"Not a key frame.");for(ve(z),V=m.Pa,A=0;4>A;++A){for(M=0;8>M;++M)for(I=0;3>I;++I)for(q=0;11>q;++q)Z=Ce(z,BP[A][M][I][q])?se(z,8):MP[A][M][I][q],V.Wc[A][M].Yb[I][q]=Z;for(M=0;17>M;++M)V.Xc[A][M]=V.Wc[A][UP[M]]}return m.kc=ve(z),m.kc&&(m.Bd=se(z,8)),m.cb=1}function Bo(m,y,A,I,M,z,V){var q=y[M].Yb[A];for(A=0;16>M;++M){if(!Ce(m,q[A+0]))return M;for(;!Ce(m,q[A+1]);)if(q=y[++M].Yb[0],A=0,M==16)return 16;var $=y[M+1].Yb;if(Ce(m,q[A+2])){var Z=m,ce=0;if(Ce(Z,(K=q)[(be=A)+3]))if(Ce(Z,K[be+6])){for(q=0,be=2*(ce=Ce(Z,K[be+8]))+(K=Ce(Z,K[be+9+ce])),ce=0,K=DP[be];K[q];++q)ce+=ce+Ce(Z,K[q]);ce+=3+(8<<be)}else Ce(Z,K[be+7])?(ce=7+2*Ce(Z,165),ce+=Ce(Z,145)):ce=5+Ce(Z,159);else ce=Ce(Z,K[be+4])?3+Ce(Z,K[be+5]):2;q=$[2]}else ce=1,q=$[1];$=V+LP[M],0>(Z=m).b&&xe(Z);var be,K=Z.b,fe=(be=Z.Ca>>1)-(Z.I>>K)>>31;--Z.b,Z.Ca+=fe,Z.Ca|=1,Z.I-=(be+1&fe)<<K,z[$]=((ce^fe)-fe)*I[(0<M)+0]}return 16}function tu(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function xs(m,y,A,I,M){M=m[y+A+32*I]+(M>>3),m[y+A+32*I]=-256&M?0>M?0:255:M}function ru(m,y,A,I,M,z){xs(m,y,0,A,I+M),xs(m,y,1,A,I+z),xs(m,y,2,A,I-z),xs(m,y,3,A,I-M)}function vn(m){return(20091*m>>16)+m}function jh(m,y,A,I){var M,z=0,V=a(16);for(M=0;4>M;++M){var q=m[y+0]+m[y+8],$=m[y+0]-m[y+8],Z=(35468*m[y+4]>>16)-vn(m[y+12]),ce=vn(m[y+4])+(35468*m[y+12]>>16);V[z+0]=q+ce,V[z+1]=$+Z,V[z+2]=$-Z,V[z+3]=q-ce,z+=4,y++}for(M=z=0;4>M;++M)q=(m=V[z+0]+4)+V[z+8],$=m-V[z+8],Z=(35468*V[z+4]>>16)-vn(V[z+12]),xs(A,I,0,0,q+(ce=vn(V[z+4])+(35468*V[z+12]>>16))),xs(A,I,1,0,$+Z),xs(A,I,2,0,$-Z),xs(A,I,3,0,q-ce),z++,I+=32}function S2(m,y,A,I){var M=m[y+0]+4,z=35468*m[y+4]>>16,V=vn(m[y+4]),q=35468*m[y+1]>>16;ru(A,I,0,M+V,m=vn(m[y+1]),q),ru(A,I,1,M+z,m,q),ru(A,I,2,M-z,m,q),ru(A,I,3,M-V,m,q)}function A2(m,y,A,I,M){jh(m,y,A,I),M&&jh(m,y+16,A,I+4)}function C2(m,y,A,I){yn(m,y+0,A,I,1),yn(m,y+32,A,I+128,1)}function to(m,y,A,I){var M;for(m=m[y+0]+4,M=0;4>M;++M)for(y=0;4>y;++y)xs(A,I,y,M,m)}function Ap(m,y,A,I){m[y+0]&&oo(m,y+0,A,I),m[y+16]&&oo(m,y+16,A,I+4),m[y+32]&&oo(m,y+32,A,I+128),m[y+48]&&oo(m,y+48,A,I+128+4)}function Cp(m,y,A,I){var M,z=a(16);for(M=0;4>M;++M){var V=m[y+0+M]+m[y+12+M],q=m[y+4+M]+m[y+8+M],$=m[y+4+M]-m[y+8+M],Z=m[y+0+M]-m[y+12+M];z[0+M]=V+q,z[8+M]=V-q,z[4+M]=Z+$,z[12+M]=Z-$}for(M=0;4>M;++M)V=(m=z[0+4*M]+3)+z[3+4*M],q=z[1+4*M]+z[2+4*M],$=z[1+4*M]-z[2+4*M],Z=m-z[3+4*M],A[I+0]=V+q>>3,A[I+16]=Z+$>>3,A[I+32]=V-q>>3,A[I+48]=Z-$>>3,I+=64}function Al(m,y,A){var I,M=y-32,z=ba,V=255-m[M-1];for(I=0;I<A;++I){var q,$=z,Z=V+m[y-1];for(q=0;q<A;++q)m[y+q]=$[Z+m[M+q]];y+=32}}function kh(m,y){Al(m,y,4)}function E2(m,y){Al(m,y,8)}function j2(m,y){Al(m,y,16)}function k2(m,y){var A;for(A=0;16>A;++A)n(m,y+32*A,m,y-32,16)}function Ih(m,y){var A;for(A=16;0<A;--A)i(m,y,m[y-1],16),y+=32}function nu(m,y,A){var I;for(I=0;16>I;++I)i(y,A+32*I,m,16)}function Cl(m,y){var A,I=16;for(A=0;16>A;++A)I+=m[y-1+32*A]+m[y+A-32];nu(I>>5,m,y)}function I2(m,y){var A,I=8;for(A=0;16>A;++A)I+=m[y-1+32*A];nu(I>>4,m,y)}function iu(m,y){var A,I=8;for(A=0;16>A;++A)I+=m[y+A-32];nu(I>>4,m,y)}function Th(m,y){nu(128,m,y)}function Dt(m,y,A){return m+2*y+A+2>>2}function T2(m,y){var A,I=y-32;for(I=new Uint8Array([Dt(m[I-1],m[I+0],m[I+1]),Dt(m[I+0],m[I+1],m[I+2]),Dt(m[I+1],m[I+2],m[I+3]),Dt(m[I+2],m[I+3],m[I+4])]),A=0;4>A;++A)n(m,y+32*A,I,0,I.length)}function P2(m,y){var A=m[y-1],I=m[y-1+32],M=m[y-1+64],z=m[y-1+96];je(m,y+0,16843009*Dt(m[y-1-32],A,I)),je(m,y+32,16843009*Dt(A,I,M)),je(m,y+64,16843009*Dt(I,M,z)),je(m,y+96,16843009*Dt(M,z,z))}function O2(m,y){var A,I=4;for(A=0;4>A;++A)I+=m[y+A-32]+m[y-1+32*A];for(I>>=3,A=0;4>A;++A)i(m,y+32*A,I,4)}function R2(m,y){var A=m[y-1+0],I=m[y-1+32],M=m[y-1+64],z=m[y-1-32],V=m[y+0-32],q=m[y+1-32],$=m[y+2-32],Z=m[y+3-32];m[y+0+96]=Dt(I,M,m[y-1+96]),m[y+1+96]=m[y+0+64]=Dt(A,I,M),m[y+2+96]=m[y+1+64]=m[y+0+32]=Dt(z,A,I),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=Dt(V,z,A),m[y+3+64]=m[y+2+32]=m[y+1+0]=Dt(q,V,z),m[y+3+32]=m[y+2+0]=Dt($,q,V),m[y+3+0]=Dt(Z,$,q)}function Uo(m,y){var A=m[y+1-32],I=m[y+2-32],M=m[y+3-32],z=m[y+4-32],V=m[y+5-32],q=m[y+6-32],$=m[y+7-32];m[y+0+0]=Dt(m[y+0-32],A,I),m[y+1+0]=m[y+0+32]=Dt(A,I,M),m[y+2+0]=m[y+1+32]=m[y+0+64]=Dt(I,M,z),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=Dt(M,z,V),m[y+3+32]=m[y+2+64]=m[y+1+96]=Dt(z,V,q),m[y+3+64]=m[y+2+96]=Dt(V,q,$),m[y+3+96]=Dt(q,$,$)}function zo(m,y){var A=m[y-1+0],I=m[y-1+32],M=m[y-1+64],z=m[y-1-32],V=m[y+0-32],q=m[y+1-32],$=m[y+2-32],Z=m[y+3-32];m[y+0+0]=m[y+1+64]=z+V+1>>1,m[y+1+0]=m[y+2+64]=V+q+1>>1,m[y+2+0]=m[y+3+64]=q+$+1>>1,m[y+3+0]=$+Z+1>>1,m[y+0+96]=Dt(M,I,A),m[y+0+64]=Dt(I,A,z),m[y+0+32]=m[y+1+96]=Dt(A,z,V),m[y+1+32]=m[y+2+96]=Dt(z,V,q),m[y+2+32]=m[y+3+96]=Dt(V,q,$),m[y+3+32]=Dt(q,$,Z)}function D2(m,y){var A=m[y+0-32],I=m[y+1-32],M=m[y+2-32],z=m[y+3-32],V=m[y+4-32],q=m[y+5-32],$=m[y+6-32],Z=m[y+7-32];m[y+0+0]=A+I+1>>1,m[y+1+0]=m[y+0+64]=I+M+1>>1,m[y+2+0]=m[y+1+64]=M+z+1>>1,m[y+3+0]=m[y+2+64]=z+V+1>>1,m[y+0+32]=Dt(A,I,M),m[y+1+32]=m[y+0+96]=Dt(I,M,z),m[y+2+32]=m[y+1+96]=Dt(M,z,V),m[y+3+32]=m[y+2+96]=Dt(z,V,q),m[y+3+64]=Dt(V,q,$),m[y+3+96]=Dt(q,$,Z)}function L2(m,y){var A=m[y-1+0],I=m[y-1+32],M=m[y-1+64],z=m[y-1+96];m[y+0+0]=A+I+1>>1,m[y+2+0]=m[y+0+32]=I+M+1>>1,m[y+2+32]=m[y+0+64]=M+z+1>>1,m[y+1+0]=Dt(A,I,M),m[y+3+0]=m[y+1+32]=Dt(I,M,z),m[y+3+32]=m[y+1+64]=Dt(M,z,z),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=z}function wd(m,y){var A=m[y-1+0],I=m[y-1+32],M=m[y-1+64],z=m[y-1+96],V=m[y-1-32],q=m[y+0-32],$=m[y+1-32],Z=m[y+2-32];m[y+0+0]=m[y+2+32]=A+V+1>>1,m[y+0+32]=m[y+2+64]=I+A+1>>1,m[y+0+64]=m[y+2+96]=M+I+1>>1,m[y+0+96]=z+M+1>>1,m[y+3+0]=Dt(q,$,Z),m[y+2+0]=Dt(V,q,$),m[y+1+0]=m[y+3+32]=Dt(A,V,q),m[y+1+32]=m[y+3+64]=Dt(I,A,V),m[y+1+64]=m[y+3+96]=Dt(M,I,A),m[y+1+96]=Dt(z,M,I)}function Ph(m,y){var A;for(A=0;8>A;++A)n(m,y+32*A,m,y-32,8)}function au(m,y){var A;for(A=0;8>A;++A)i(m,y,m[y-1],8),y+=32}function bd(m,y,A){var I;for(I=0;8>I;++I)i(y,A+32*I,m,8)}function _d(m,y){var A,I=8;for(A=0;8>A;++A)I+=m[y+A-32]+m[y-1+32*A];bd(I>>4,m,y)}function M2(m,y){var A,I=4;for(A=0;8>A;++A)I+=m[y+A-32];bd(I>>3,m,y)}function Oh(m,y){var A,I=4;for(A=0;8>A;++A)I+=m[y-1+32*A];bd(I>>3,m,y)}function Rh(m,y){bd(128,m,y)}function su(m,y,A){var I=m[y-A],M=m[y+0],z=3*(M-I)+U2[1020+m[y-2*A]-m[y+A]],V=Ip[112+(z+4>>3)];m[y-A]=ba[255+I+Ip[112+(z+3>>3)]],m[y+0]=ba[255+M-V]}function ou(m,y,A,I){var M=m[y+0],z=m[y+A];return Ga[255+m[y-2*A]-m[y-A]]>I||Ga[255+z-M]>I}function Dh(m,y,A,I){return 4*Ga[255+m[y-A]-m[y+0]]+Ga[255+m[y-2*A]-m[y+A]]<=I}function Nd(m,y,A,I,M){var z=m[y-3*A],V=m[y-2*A],q=m[y-A],$=m[y+0],Z=m[y+A],ce=m[y+2*A],be=m[y+3*A];return 4*Ga[255+q-$]+Ga[255+V-Z]>I?0:Ga[255+m[y-4*A]-z]<=M&&Ga[255+z-V]<=M&&Ga[255+V-q]<=M&&Ga[255+be-ce]<=M&&Ga[255+ce-Z]<=M&&Ga[255+Z-$]<=M}function Lh(m,y,A,I){var M=2*I+1;for(I=0;16>I;++I)Dh(m,y+I,A,M)&&su(m,y+I,A)}function lu(m,y,A,I){var M=2*I+1;for(I=0;16>I;++I)Dh(m,y+I*A,1,M)&&su(m,y+I*A,1)}function Mh(m,y,A,I){var M;for(M=3;0<M;--M)Lh(m,y+=4*A,A,I)}function Fh(m,y,A,I){var M;for(M=3;0<M;--M)lu(m,y+=4,A,I)}function ya(m,y,A,I,M,z,V,q){for(z=2*z+1;0<M--;){if(Nd(m,y,A,z,V))if(ou(m,y,A,q))su(m,y,A);else{var $=m,Z=y,ce=A,be=$[Z-2*ce],K=$[Z-ce],fe=$[Z+0],pe=$[Z+ce],Te=$[Z+2*ce],we=27*(De=U2[1020+3*(fe-K)+U2[1020+be-pe]])+63>>7,Pe=18*De+63>>7,De=9*De+63>>7;$[Z-3*ce]=ba[255+$[Z-3*ce]+De],$[Z-2*ce]=ba[255+be+Pe],$[Z-ce]=ba[255+K+we],$[Z+0]=ba[255+fe-we],$[Z+ce]=ba[255+pe-Pe],$[Z+2*ce]=ba[255+Te-De]}y+=I}}function ro(m,y,A,I,M,z,V,q){for(z=2*z+1;0<M--;){if(Nd(m,y,A,z,V))if(ou(m,y,A,q))su(m,y,A);else{var $=m,Z=y,ce=A,be=$[Z-ce],K=$[Z+0],fe=$[Z+ce],pe=Ip[112+(4+(Te=3*(K-be))>>3)],Te=Ip[112+(Te+3>>3)],we=pe+1>>1;$[Z-2*ce]=ba[255+$[Z-2*ce]+we],$[Z-ce]=ba[255+be+Te],$[Z+0]=ba[255+K-pe],$[Z+ce]=ba[255+fe-we]}y+=I}}function S(m,y,A,I,M,z){ya(m,y,A,1,16,I,M,z)}function F(m,y,A,I,M,z){ya(m,y,1,A,16,I,M,z)}function J(m,y,A,I,M,z){var V;for(V=3;0<V;--V)ro(m,y+=4*A,A,1,16,I,M,z)}function oe(m,y,A,I,M,z){var V;for(V=3;0<V;--V)ro(m,y+=4,1,A,16,I,M,z)}function he(m,y,A,I,M,z,V,q){ya(m,y,M,1,8,z,V,q),ya(A,I,M,1,8,z,V,q)}function Oe(m,y,A,I,M,z,V,q){ya(m,y,1,M,8,z,V,q),ya(A,I,1,M,8,z,V,q)}function Be(m,y,A,I,M,z,V,q){ro(m,y+4*M,M,1,8,z,V,q),ro(A,I+4*M,M,1,8,z,V,q)}function lt(m,y,A,I,M,z,V,q){ro(m,y+4,1,M,8,z,V,q),ro(A,I+4,1,M,8,z,V,q)}function mt(){this.ba=new Or,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pr(){this.ua=0,this.Wa=new wt,this.vb=new wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new L}function Jr(){this.xb=this.a=0,this.l=new yd,this.ca=new Or,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pr,this.ab=0,this.gc=s(4,Bt),this.Oc=0}function Tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ir(m,y,A,I,M,z,V){for(m=m==null?0:m[y+0],y=0;y<V;++y)M[z+y]=m+A[I+y]&255,m=M[z+y]}function Mn(m,y,A,I,M,z,V){var q;if(m==null)Ir(null,null,A,I,M,z,V);else for(q=0;q<V;++q)M[z+q]=m[y+q]+A[I+q]&255}function Pn(m,y,A,I,M,z,V){if(m==null)Ir(null,null,A,I,M,z,V);else{var q,$=m[y+0],Z=$,ce=$;for(q=0;q<V;++q)Z=ce+($=m[y+q])-Z,ce=A[I+q]+(-256&Z?0>Z?0:255:Z)&255,Z=$,M[z+q]=ce}}function di(m,y,A,I){var M=y.width,z=y.o;if(e(m!=null&&y!=null),0>A||0>=I||A+I>z)return null;if(!m.Cc){if(m.ga==null){var V;if(m.ga=new Tn,(V=m.ga==null)||(V=y.width*y.o,e(m.Gb.length==0),m.Gb=a(V),m.Uc=0,m.Gb==null?V=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,V=1),V=!V),!V){V=m.ga;var q=m.Fa,$=m.P,Z=m.qc,ce=m.mb,be=m.nb,K=$+1,fe=Z-1,pe=V.l;if(e(q!=null&&ce!=null&&y!=null),Ol[0]=null,Ol[1]=Ir,Ol[2]=Mn,Ol[3]=Pn,V.ca=ce,V.tb=be,V.c=y.width,V.i=y.height,e(0<V.c&&0<V.i),1>=Z)y=0;else if(V.$a=3&q[$+0],V.Z=q[$+0]>>2&3,V.Lc=q[$+0]>>4&3,$=q[$+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||$)y=0;else if(pe.put=Ct,pe.ac=Qs,pe.bc=Mo,pe.ma=V,pe.width=y.width,pe.height=y.height,pe.Da=y.Da,pe.v=y.v,pe.va=y.va,pe.j=y.j,pe.o=y.o,V.$a)e:{e(V.$a==1),y=Jc();t:for(;;){if(y==null){y=0;break e}if(e(V!=null),V.mc=y,y.c=V.c,y.i=V.i,y.l=V.l,y.l.ma=V,y.l.width=V.c,y.l.height=V.i,y.a=0,ne(y.m,q,K,fe),!eo(V.c,V.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&ms(y.s)?(V.ic=1,q=y.c*y.i,y.Ta=null,y.Ua=0,y.V=a(q),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(V.ic=0,y=eu(y,V.c)),!y))break t;y=1;break e}V.mc=null,y=0}else y=fe>=V.c*V.i;V=!y}if(V)return null;m.ga.Lc!=1?m.Ga=0:I=z-A}e(m.ga!=null),e(A+I<=z);e:{if(y=(q=m.ga).c,z=q.l.o,q.$a==0){if(K=m.rc,fe=m.Vc,pe=m.Fa,$=m.P+1+A*y,Z=m.mb,ce=m.nb+A*y,e($<=m.P+m.qc),q.Z!=0)for(e(Ol[q.Z]!=null),V=0;V<I;++V)Ol[q.Z](K,fe,pe,$,Z,ce,y),K=Z,fe=ce,ce+=y,$+=y;else for(V=0;V<I;++V)n(Z,ce,pe,$,y),K=Z,fe=ce,ce+=y,$+=y;m.rc=K,m.Vc=fe}else{if(e(q.mc!=null),y=A+I,e((V=q.mc)!=null),e(y<=V.i),V.C>=y)y=1;else if(q.ic||cu(),q.ic){q=V.V,K=V.Ba,fe=V.c;var Te=V.i,we=(pe=1,$=V.$/fe,Z=V.$%fe,ce=V.m,be=V.s,V.$),Pe=fe*Te,De=fe*y,ze=be.wc,Me=we<De?ui(be,Z,$):null;e(we<=Pe),e(y<=Te),e(ms(be));t:for(;;){for(;!ce.h&&we<De;){if(Z&ze||(Me=ui(be,Z,$)),e(Me!=null),ae(ce),256>(Te=cn(Me.G[0],Me.H[0],ce)))q[K+we]=Te,++we,++Z>=fe&&(Z=0,++$<=y&&!($%16)&&vs(V,$));else{if(!(280>Te)){pe=0;break t}Te=Va(Te-256,ce);var xt,it=cn(Me.G[4],Me.H[4],ce);if(ae(ce),!(we>=(it=qa(fe,it=Va(it,ce)))&&Pe-we>=Te)){pe=0;break t}for(xt=0;xt<Te;++xt)q[K+we+xt]=q[K+we+xt-it];for(we+=Te,Z+=Te;Z>=fe;)Z-=fe,++$<=y&&!($%16)&&vs(V,$);we<De&&Z&ze&&(Me=ui(be,Z,$))}e(ce.h==ie(ce))}vs(V,$>y?y:$);break t}!pe||ce.h&&we<Pe?(pe=0,V.a=ce.h?5:3):V.$=we,y=pe}else y=gs(V,V.V,V.Ba,V.c,V.i,y,vd);if(!y){I=0;break e}}A+I>=z&&(m.Cc=1),I=1}if(!I)return null;if(m.Cc&&((I=m.ga)!=null&&(I.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+A*M}function Vo(m,y,A,I,M,z){for(;0<M--;){var V,q=m,$=y+(A?1:0),Z=m,ce=y+(A?0:3);for(V=0;V<I;++V){var be=Z[ce+4*V];be!=255&&(be*=32897,q[$+4*V+0]=q[$+4*V+0]*be>>23,q[$+4*V+1]=q[$+4*V+1]*be>>23,q[$+4*V+2]=q[$+4*V+2]*be>>23)}y+=z}}function El(m,y,A,I,M){for(;0<I--;){var z;for(z=0;z<A;++z){var V=m[y+2*z+0],q=15&(Z=m[y+2*z+1]),$=4369*q,Z=(240&Z|Z>>4)*$>>16;m[y+2*z+0]=(240&V|V>>4)*$>>16&240|(15&V|V<<4)*$>>16>>4&15,m[y+2*z+1]=240&Z|q}y+=M}}function F2(m,y,A,I,M,z,V,q){var $,Z,ce=255;for(Z=0;Z<M;++Z){for($=0;$<I;++$){var be=m[y+$];z[V+4*$]=be,ce&=be}y+=A,V+=q}return ce!=255}function Ep(m,y,A,I,M){var z;for(z=0;z<M;++z)A[I+z]=m[y+z]>>8}function cu(){Gh=Vo,m_=El,v_=F2,g_=Ep}function ys(m,y,A){P[m]=function(I,M,z,V,q,$,Z,ce,be,K,fe,pe,Te,we,Pe,De,ze){var Me,xt=ze-1>>1,it=q[$+0]|Z[ce+0]<<16,qt=be[K+0]|fe[pe+0]<<16;e(I!=null);var ut=3*it+qt+131074>>2;for(y(I[M+0],255&ut,ut>>16,Te,we),z!=null&&(ut=3*qt+it+131074>>2,y(z[V+0],255&ut,ut>>16,Pe,De)),Me=1;Me<=xt;++Me){var rr=q[$+Me]|Z[ce+Me]<<16,Bn=be[K+Me]|fe[pe+Me]<<16,$t=it+rr+qt+Bn+524296,dt=$t+2*(rr+qt)>>3;ut=dt+it>>1,it=($t=$t+2*(it+Bn)>>3)+rr>>1,y(I[M+2*Me-1],255&ut,ut>>16,Te,we+(2*Me-1)*A),y(I[M+2*Me-0],255&it,it>>16,Te,we+(2*Me-0)*A),z!=null&&(ut=$t+qt>>1,it=dt+Bn>>1,y(z[V+2*Me-1],255&ut,ut>>16,Pe,De+(2*Me-1)*A),y(z[V+2*Me+0],255&it,it>>16,Pe,De+(2*Me+0)*A)),it=rr,qt=Bn}1&ze||(ut=3*it+qt+131074>>2,y(I[M+ze-1],255&ut,ut>>16,Te,we+(ze-1)*A),z!=null&&(ut=3*qt+it+131074>>2,y(z[V+ze-1],255&ut,ut>>16,Pe,De+(ze-1)*A)))}}function Bh(){Xa[Tp]=VP,Xa[Pp]=j_,Xa[N_]=qP,Xa[Op]=k_,Xa[Rp]=I_,Xa[z2]=T_,Xa[S_]=$P,Xa[V2]=j_,Xa[q2]=k_,Xa[Dp]=I_,Xa[$2]=T_}function Sd(m){return m&~HP?0>m?0:255:m>>P_}function jl(m,y){return Sd((19077*m>>8)+(26149*y>>8)-14234)}function Jn(m,y,A){return Sd((19077*m>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function qo(m,y){return Sd((19077*m>>8)+(33050*y>>8)-17685)}function $o(m,y,A,I,M){I[M+0]=jl(m,A),I[M+1]=Jn(m,y,A),I[M+2]=qo(m,y)}function Ad(m,y,A,I,M){I[M+0]=qo(m,y),I[M+1]=Jn(m,y,A),I[M+2]=jl(m,A)}function Uh(m,y,A,I,M){var z=Jn(m,y,A);y=z<<3&224|qo(m,y)>>3,I[M+0]=248&jl(m,A)|z>>5,I[M+1]=y}function Fi(m,y,A,I,M){var z=240&qo(m,y)|15;I[M+0]=240&jl(m,A)|Jn(m,y,A)>>4,I[M+1]=z}function jp(m,y,A,I,M){I[M+0]=255,$o(m,y,A,I,M+1)}function Cd(m,y,A,I,M){Ad(m,y,A,I,M),I[M+3]=255}function kp(m,y,A,I,M){$o(m,y,A,I,M),I[M+3]=255}function Fn(m,y){return 0>m?0:m>y?y:m}function Wa(m,y,A){P[m]=function(I,M,z,V,q,$,Z,ce,be){for(var K=ce+(-2&be)*A;ce!=K;)y(I[M+0],z[V+0],q[$+0],Z,ce),y(I[M+1],z[V+0],q[$+0],Z,ce+A),M+=2,++V,++$,ce+=2*A;1&be&&y(I[M+0],z[V+0],q[$+0],Z,ce)}}function zh(m,y,A){return A==0?m==0?y==0?6:5:y==0?4:0:A}function Vh(m,y,A,I,M){switch(m>>>30){case 3:yn(y,A,I,M,0);break;case 2:Wo(y,A,I,M);break;case 1:oo(y,A,I,M)}}function kl(m,y){var A,I,M=y.M,z=y.Nb,V=m.oc,q=m.pc+40,$=m.oc,Z=m.pc+584,ce=m.oc,be=m.pc+600;for(A=0;16>A;++A)V[q+32*A-1]=129;for(A=0;8>A;++A)$[Z+32*A-1]=129,ce[be+32*A-1]=129;for(0<M?V[q-1-32]=$[Z-1-32]=ce[be-1-32]=129:(i(V,q-32-1,127,21),i($,Z-32-1,127,9),i(ce,be-32-1,127,9)),I=0;I<m.za;++I){var K=y.ya[y.aa+I];if(0<I){for(A=-1;16>A;++A)n(V,q+32*A-4,V,q+32*A+12,4);for(A=-1;8>A;++A)n($,Z+32*A-4,$,Z+32*A+4,4),n(ce,be+32*A-4,ce,be+32*A+4,4)}var fe=m.Gd,pe=m.Hd+I,Te=K.ad,we=K.Hc;if(0<M&&(n(V,q-32,fe[pe].y,0,16),n($,Z-32,fe[pe].f,0,8),n(ce,be-32,fe[pe].ea,0,8)),K.Za){var Pe=V,De=q-32+16;for(0<M&&(I>=m.za-1?i(Pe,De,fe[pe].y[15],4):n(Pe,De,fe[pe+1].y,0,4)),A=0;4>A;A++)Pe[De+128+A]=Pe[De+256+A]=Pe[De+384+A]=Pe[De+0+A];for(A=0;16>A;++A,we<<=2)Pe=V,De=q+R_[A],ws[K.Ob[A]](Pe,De),Vh(we,Te,16*+A,Pe,De)}else if(Pe=zh(I,M,K.Ob[0]),Pl[Pe](V,q),we!=0)for(A=0;16>A;++A,we<<=2)Vh(we,Te,16*+A,V,q+R_[A]);for(A=K.Gc,Pe=zh(I,M,K.Dd),Go[Pe]($,Z),Go[Pe](ce,be),we=Te,Pe=$,De=Z,255&(K=0|A)&&(170&K?Td(we,256,Pe,De):Wh(we,256,Pe,De)),K=ce,we=be,255&(A>>=8)&&(170&A?Td(Te,320,K,we):Wh(Te,320,K,we)),M<m.Ub-1&&(n(fe[pe].y,0,V,q+480,16),n(fe[pe].f,0,$,Z+224,8),n(fe[pe].ea,0,ce,be+224,8)),A=8*z*m.B,fe=m.sa,pe=m.ta+16*I+16*z*m.R,Te=m.qa,K=m.ra+8*I+A,we=m.Ha,Pe=m.Ia+8*I+A,A=0;16>A;++A)n(fe,pe+A*m.R,V,q+32*A,16);for(A=0;8>A;++A)n(Te,K+A*m.B,$,Z+32*A,8),n(we,Pe+A*m.B,ce,be+32*A,8)}}function Ed(m,y,A,I,M,z,V,q,$){var Z=[0],ce=[0],be=0,K=$!=null?$.kd:0,fe=$??new Tt;if(m==null||12>A)return 7;fe.data=m,fe.w=y,fe.ha=A,y=[y],A=[A],fe.gb=[fe.gb];e:{var pe=y,Te=A,we=fe.gb;if(e(m!=null),e(Te!=null),e(we!=null),we[0]=0,12<=Te[0]&&!r(m,pe[0],"RIFF")){if(r(m,pe[0]+8,"WEBP")){we=3;break e}var Pe=me(m,pe[0]+4);if(12>Pe||4294967286<Pe){we=3;break e}if(K&&Pe>Te[0]-8){we=7;break e}we[0]=Pe,pe[0]+=12,Te[0]-=12}we=0}if(we!=0)return we;for(Pe=0<fe.gb[0],A=A[0];;){e:{var De=m;Te=y,we=A;var ze=Z,Me=ce,xt=pe=[0];if((ut=be=[be])[0]=0,8>we[0])we=7;else{if(!r(De,Te[0],"VP8X")){if(me(De,Te[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var it=me(De,Te[0]+8),qt=1+Ee(De,Te[0]+12);if(2147483648<=qt*(De=1+Ee(De,Te[0]+15))){we=3;break e}xt!=null&&(xt[0]=it),ze!=null&&(ze[0]=qt),Me!=null&&(Me[0]=De),Te[0]+=18,we[0]-=18,ut[0]=1}we=0}}if(be=be[0],pe=pe[0],we!=0)return we;if(Te=!!(2&pe),!Pe&&be)return 3;if(z!=null&&(z[0]=!!(16&pe)),V!=null&&(V[0]=Te),q!=null&&(q[0]=0),V=Z[0],pe=ce[0],be&&Te&&$==null){we=0;break}if(4>A){we=7;break}if(Pe&&be||!Pe&&!be&&!r(m,y[0],"ALPH")){A=[A],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{it=m,we=y,Pe=A;var ut=fe.gb;ze=fe.na,Me=fe.P,xt=fe.Sa,qt=22,e(it!=null),e(Pe!=null),De=we[0];var rr=Pe[0];for(e(ze!=null),e(xt!=null),ze[0]=null,Me[0]=null,xt[0]=0;;){if(we[0]=De,Pe[0]=rr,8>rr){we=7;break e}var Bn=me(it,De+4);if(4294967286<Bn){we=3;break e}var $t=8+Bn+1&-2;if(qt+=$t,0<ut&&qt>ut){we=3;break e}if(!r(it,De,"VP8 ")||!r(it,De,"VP8L")){we=0;break e}if(rr[0]<$t){we=7;break e}r(it,De,"ALPH")||(ze[0]=it,Me[0]=De+8,xt[0]=Bn),De+=$t,rr-=$t}}if(A=A[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],we!=0)break}A=[A],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(ut=m,we=y,Pe=A,ze=fe.gb[0],Me=fe.Ja,xt=fe.xa,it=we[0],De=!r(ut,it,"VP8 "),qt=!r(ut,it,"VP8L"),e(ut!=null),e(Pe!=null),e(Me!=null),e(xt!=null),8>Pe[0])we=7;else{if(De||qt){if(ut=me(ut,it+4),12<=ze&&ut>ze-12){we=3;break e}if(K&&ut>Pe[0]-8){we=7;break e}Me[0]=ut,we[0]+=8,Pe[0]-=8,xt[0]=qt}else xt[0]=5<=Pe[0]&&ut[it+0]==47&&!(ut[it+4]>>5),Me[0]=Pe[0];we=0}if(A=A[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],y=y[0],we!=0)break;if(4294967286<fe.Ja)return 3;if(q==null||Te||(q[0]=fe.xa?2:1),V=[V],pe=[pe],fe.xa){if(5>A){we=7;break}q=V,K=pe,Te=z,m==null||5>A?m=0:5<=A&&m[y+0]==47&&!(m[y+4]>>5)?(Pe=[0],ut=[0],ze=[0],ne(Me=new W,m,y,A),Fo(Me,Pe,ut,ze)?(q!=null&&(q[0]=Pe[0]),K!=null&&(K[0]=ut[0]),Te!=null&&(Te[0]=ze[0]),m=1):m=0):m=0}else{if(10>A){we=7;break}q=pe,m==null||10>A||!Np(m,y+3,A-3)?m=0:(K=m[y+0]|m[y+1]<<8|m[y+2]<<16,Te=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=fe.Ja||!Te||!m?m=0:(V&&(V[0]=Te),q&&(q[0]=m),m=1))}if(!m||(V=V[0],pe=pe[0],be&&(Z[0]!=V||ce[0]!=pe)))return 3;$!=null&&($[0]=fe,$.offset=y-$.w,e(4294967286>y-$.w),e($.offset==$.ha-A));break}return we==0||we==7&&be&&$==null?(z!=null&&(z[0]|=fe.na!=null&&0<fe.na.length),I!=null&&(I[0]=V),M!=null&&(M[0]=pe),0):we}function na(m,y,A){var I=y.width,M=y.height,z=0,V=0,q=I,$=M;if(y.Da=m!=null&&0<m.Da,y.Da&&(q=m.cd,$=m.bd,z=m.v,V=m.j,11>A||(z&=-2,V&=-2),0>z||0>V||0>=q||0>=$||z+q>I||V+$>M))return 0;if(y.v=z,y.j=V,y.va=z+q,y.o=V+$,y.U=q,y.T=$,y.da=m!=null&&0<m.da,y.da){if(!gt(q,$,A=[m.ib],z=[m.hb]))return 0;y.ib=A[0],y.hb=z[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*I/4&&y.hb<3*M/4,y.Kb=0),1}function ia(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function uu(m,y,A,I){if(I==null||0>=m||0>=y)return 2;if(A!=null){if(A.Da){var M=A.cd,z=A.bd,V=-2&A.v,q=-2&A.j;if(0>V||0>q||0>=M||0>=z||V+M>m||q+z>y)return 2;m=M,y=z}if(A.da){if(!gt(m,y,M=[A.ib],z=[A.hb]))return 2;m=M[0],y=z[0]}}I.width=m,I.height=y;e:{var $=I.width,Z=I.height;if(m=I.S,0>=$||0>=Z||!(m>=Tp&&13>m))m=2;else{if(0>=I.Rd&&I.sd==null){V=z=M=y=0;var ce=(q=$*D_[m])*Z;if(11>m||(z=(Z+1)/2*(y=($+1)/2),m==12&&(V=(M=$)*Z)),(Z=a(ce+2*z+V))==null){m=1;break e}I.sd=Z,11>m?(($=I.f.RGBA).eb=Z,$.fb=0,$.A=q,$.size=ce):(($=I.f.kb).y=Z,$.O=0,$.fa=q,$.Fd=ce,$.f=Z,$.N=0+ce,$.Ab=y,$.Cd=z,$.ea=Z,$.W=0+ce+z,$.Db=y,$.Ed=z,m==12&&($.F=Z,$.J=0+ce+2*z),$.Tc=V,$.lb=M)}if(y=1,M=I.S,z=I.width,V=I.height,M>=Tp&&13>M)if(11>M)m=I.f.RGBA,y&=(q=Math.abs(m.A))*(V-1)+z<=m.size,y&=q>=z*D_[M],y&=m.eb!=null;else{m=I.f.kb,q=(z+1)/2,ce=(V+1)/2,$=Math.abs(m.fa),Z=Math.abs(m.Ab);var be=Math.abs(m.Db),K=Math.abs(m.lb),fe=K*(V-1)+z;y&=$*(V-1)+z<=m.Fd,y&=Z*(ce-1)+q<=m.Cd,y=(y&=be*(ce-1)+q<=m.Ed)&$>=z&Z>=q&be>=q,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,M==12&&(y&=K>=z,y&=fe<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||A!=null&&A.fd&&(m=ia(I)),m}var no=64,Il=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qh=24,Tl=32,gn=8,B2=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(m){return m},P.Predictor2=function(m,y,A){return y[A+0]},P.Predictor3=function(m,y,A){return y[A+1]},P.Predictor4=function(m,y,A){return y[A-1]},P.Predictor5=function(m,y,A){return G(G(m,y[A+1]),y[A+0])},P.Predictor6=function(m,y,A){return G(m,y[A-1])},P.Predictor7=function(m,y,A){return G(m,y[A+0])},P.Predictor8=function(m,y,A){return G(y[A-1],y[A+0])},P.Predictor9=function(m,y,A){return G(y[A+0],y[A+1])},P.Predictor10=function(m,y,A){return G(G(m,y[A-1]),G(y[A+0],y[A+1]))},P.Predictor11=function(m,y,A){var I=y[A+0];return 0>=Se(I>>24&255,m>>24&255,(y=y[A-1])>>24&255)+Se(I>>16&255,m>>16&255,y>>16&255)+Se(I>>8&255,m>>8&255,y>>8&255)+Se(255&I,255&m,255&y)?I:m},P.Predictor12=function(m,y,A){var I=y[A+0];return(de((m>>24&255)+(I>>24&255)-((y=y[A-1])>>24&255))<<24|de((m>>16&255)+(I>>16&255)-(y>>16&255))<<16|de((m>>8&255)+(I>>8&255)-(y>>8&255))<<8|de((255&m)+(255&I)-(255&y)))>>>0},P.Predictor13=function(m,y,A){var I=y[A-1];return(Ae((m=G(m,y[A+0]))>>24&255,I>>24&255)<<24|Ae(m>>16&255,I>>16&255)<<16|Ae(m>>8&255,I>>8&255)<<8|Ae(255&m,255&I))>>>0};var io=P.PredictorAdd0;P.PredictorAdd1=ke,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var ao=P.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var jd,$h=P.ColorIndexInverseTransform,kd=P.MapARGB,Id=P.VP8LColorIndexInverseTransformAlpha,du=P.MapAlpha,fu=P.VP8LPredictorsAdd=[];fu.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ho,Hh,wa,so,Fr,Br,xn,yn,Wo,Td,oo,Wh,n_,i_,a_,s_,o_,l_,c_,u_,d_,f_,h_,p_,Gh,m_,v_,g_,x_=a(511),y_=a(2041),w_=a(225),b_=a(767),__=0,U2=y_,Ip=w_,ba=b_,Ga=x_,Tp=0,Pp=1,N_=2,Op=3,Rp=4,z2=5,S_=6,V2=7,q2=8,Dp=9,$2=10,jP=[2,3,7],kP=[3,3,11],A_=[280,256,256,256,40],IP=[0,1,1,1,0],TP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],OP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],RP=8,H2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],W2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xh=null,DP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],C_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],UP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Pl=[],ws=[],Go=[],zP=1,E_=2,Ol=[],Xa=[];ys("UpsampleRgbLinePair",$o,3),ys("UpsampleBgrLinePair",Ad,3),ys("UpsampleRgbaLinePair",kp,4),ys("UpsampleBgraLinePair",Cd,4),ys("UpsampleArgbLinePair",jp,4),ys("UpsampleRgba4444LinePair",Fi,2),ys("UpsampleRgb565LinePair",Uh,2);var VP=P.UpsampleRgbLinePair,qP=P.UpsampleBgrLinePair,j_=P.UpsampleRgbaLinePair,k_=P.UpsampleBgraLinePair,I_=P.UpsampleArgbLinePair,T_=P.UpsampleRgba4444LinePair,$P=P.UpsampleRgb565LinePair,Lp=16,Mp=1<<Lp-1,Yh=-227,G2=482,P_=6,HP=(256<<P_)-1,O_=0,WP=a(256),GP=a(256),XP=a(256),YP=a(256),ZP=a(G2-Yh),KP=a(G2-Yh);Wa("YuvToRgbRow",$o,3),Wa("YuvToBgrRow",Ad,3),Wa("YuvToRgbaRow",kp,4),Wa("YuvToBgraRow",Cd,4),Wa("YuvToArgbRow",jp,4),Wa("YuvToRgba4444Row",Fi,2),Wa("YuvToRgb565Row",Uh,2);var R_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fp=[0,2,8],QP=[8,7,6,4,4,2,2,2,1,1,1,1],JP=1;this.WebPDecodeRGBA=function(m,y,A,I,M){var z=Pp,V=new mt,q=new Or;V.ba=q,q.S=z,q.width=[q.width],q.height=[q.height];var $=q.width,Z=q.height,ce=new Rt;if(ce==null||m==null)var be=2;else e(ce!=null),be=Ed(m,y,A,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(be!=0?$=0:($!=null&&($[0]=ce.width[0]),Z!=null&&(Z[0]=ce.height[0]),$=1),$){q.width=q.width[0],q.height=q.height[0],I!=null&&(I[0]=q.width),M!=null&&(M[0]=q.height);e:{if(I=new yd,(M=new Tt).data=m,M.w=y,M.ha=A,M.kd=1,y=[0],e(M!=null),((m=Ed(M.data,M.w,M.ha,null,null,null,y,null,M))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(e(V!=null),I.data=M.data,I.w=M.w+M.offset,I.ha=M.ha-M.offset,I.put=Ct,I.ac=Qs,I.bc=Mo,I.ma=V,M.xa){if((m=Jc())==null){V=1;break e}if(function(K,fe){var pe=[0],Te=[0],we=[0];t:for(;;){if(K==null)return 0;if(fe==null)return K.a=2,0;if(K.l=fe,K.a=0,ne(K.m,fe.data,fe.w,fe.ha),!Fo(K.m,pe,Te,we)){K.a=3;break t}if(K.xb=E_,fe.width=pe[0],fe.height=Te[0],!eo(pe[0],Te[0],1,K,null))break t;return 1}return e(K.a!=0),0}(m,I)){if(I=(y=uu(I.width,I.height,V.Oa,V.ba))==0){t:{I=m;r:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((A=I.l)!=null),e((M=A.ma)!=null),I.xb!=0){if(I.ca=M.ba,I.tb=M.tb,e(I.ca!=null),!na(M.Oa,A,Op)){I.a=2;break r}if(!eu(I,A.width)||A.da)break r;if((A.da||Mt(I.ca.S))&&cu(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&cu()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Q(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!gs(I,I.V,I.Ba,I.c,I.i,A.o,Sl))break r;M.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(y=m.a)}else y=m.a}else{if((m=new N2)==null){V=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,Sp(m,I)){if((y=uu(I.width,I.height,V.Oa,V.ba))==0){if(m.Aa=0,A=V.Oa,e((M=m)!=null),A!=null){if(0<($=0>($=A.Md)?0:100<$?255:255*$/100)){for(Z=ce=0;4>Z;++Z)12>(be=M.pb[Z]).lc&&(be.ia=$*QP[0>be.lc?0:be.lc]>>3),ce|=be.ia;ce&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=A.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(K,fe){if(K==null)return 0;if(fe==null)return In(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!Sp(K,fe))return 0;if(e(K.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(K.L=0);var pe=Fp[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=fe.v-pe>>4,K.zb=fe.j-pe>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=fe.o+15+pe>>4,K.Hb=fe.va+15+pe>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var Te=K.ed;for(pe=0;4>pe;++pe){var we;if(K.Qa.Cb){var Pe=K.Qa.Lb[pe];K.Qa.Fb||(Pe+=Te.Tb)}else Pe=Te.Tb;for(we=0;1>=we;++we){var De=K.gd[pe][we],ze=Pe;if(Te.Pc&&(ze+=Te.vd[0],we&&(ze+=Te.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Me=ze;0<Te.wb&&(Me=4<Te.wb?Me>>2:Me>>1)>9-Te.wb&&(Me=9-Te.wb),1>Me&&(Me=1),De.dd=Me,De.tc=2*ze+Me,De.ld=40<=ze?2:15<=ze?1:0}else De.tc=0;De.La=we}}}pe=0}else In(K,6,"Frame setup failed"),pe=K.a;if(pe=pe==0){if(pe){K.$c=0,0<K.Aa||(K.Ic=JP);t:{pe=K.Ic,Te=4*(Me=K.za);var xt=32*Me,it=Me+1,qt=0<K.L?Me*(0<K.Aa?2:1):0,ut=(K.Aa==2?2:1)*Me;if((De=Te+832+(we=3*(16*pe+Fp[K.L])/2*xt)+(Pe=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=De)pe=0;else{if(De>K.Vb){if(K.Vb=0,K.Ec=a(De),K.Fc=0,K.Ec==null){pe=In(K,1,"no memory during frame initialization.");break t}K.Vb=De}De=K.Ec,ze=K.Fc,K.Ac=De,K.Bc=ze,ze+=Te,K.Gd=s(xt,bp),K.Hd=0,K.rb=s(it+1,Ch),K.sb=1,K.wa=qt?s(qt,Ha):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=Me),e(!0),K.oc=De,K.pc=ze,ze+=832,K.ya=s(ut,Eh),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=Me),K.R=16*Me,K.B=8*Me,Me=(xt=Fp[K.L])*K.R,xt=xt/2*K.B,K.sa=De,K.ta=ze+Me,K.qa=K.sa,K.ra=K.ta+16*pe*K.R+xt,K.Ha=K.qa,K.Ia=K.ra+8*pe*K.B+xt,K.$c=0,ze+=we,K.mb=Pe?De:null,K.nb=Pe?ze:null,e(ze+Pe<=K.Fc+K.Vb),tu(K),i(K.Ac,K.Bc,0,Te),pe=1}}if(pe){if(fe.ka=0,fe.y=K.sa,fe.O=K.ta,fe.f=K.qa,fe.N=K.ra,fe.ea=K.Ha,fe.Vd=K.Ia,fe.fa=K.R,fe.Rc=K.B,fe.F=null,fe.J=0,!__){for(pe=-255;255>=pe;++pe)x_[255+pe]=0>pe?-pe:pe;for(pe=-1020;1020>=pe;++pe)y_[1020+pe]=-128>pe?-128:127<pe?127:pe;for(pe=-112;112>=pe;++pe)w_[112+pe]=-16>pe?-16:15<pe?15:pe;for(pe=-255;510>=pe;++pe)b_[255+pe]=0>pe?0:255<pe?255:pe;__=1}xn=Cp,yn=A2,Td=C2,oo=to,Wh=Ap,Wo=S2,n_=S,i_=F,a_=he,s_=Oe,o_=J,l_=oe,c_=Be,u_=lt,d_=Lh,f_=lu,h_=Mh,p_=Fh,ws[0]=O2,ws[1]=kh,ws[2]=T2,ws[3]=P2,ws[4]=R2,ws[5]=zo,ws[6]=Uo,ws[7]=D2,ws[8]=wd,ws[9]=L2,Pl[0]=Cl,Pl[1]=j2,Pl[2]=k2,Pl[3]=Ih,Pl[4]=I2,Pl[5]=iu,Pl[6]=Th,Go[0]=_d,Go[1]=E2,Go[2]=Ph,Go[3]=au,Go[4]=Oh,Go[5]=M2,Go[6]=Rh,pe=1}else pe=0}pe&&(pe=function(rr,Bn){for(rr.M=0;rr.M<rr.Va;++rr.M){var $t,dt=rr.Jc[rr.M&rr.Xb],Ze=rr.m,wn=rr;for($t=0;$t<wn.za;++$t){var Ft=Ze,sr=wn,$r=sr.Ac,fi=sr.Bc+4*$t,Bi=sr.zc,un=sr.ya[sr.aa+$t];if(sr.Qa.Bb?un.$b=Ce(Ft,sr.Pa.jb[0])?2+Ce(Ft,sr.Pa.jb[2]):Ce(Ft,sr.Pa.jb[1]):un.$b=0,sr.kc&&(un.Ad=Ce(Ft,sr.Bd)),un.Za=!Ce(Ft,145)+0,un.Za){var Ai=un.Ob,Ui=0;for(sr=0;4>sr;++sr){var Un,ur=Bi[0+sr];for(Un=0;4>Un;++Un){ur=FP[$r[fi+Un]][ur];for(var _r=C_[Ce(Ft,ur[0])];0<_r;)_r=C_[2*_r+Ce(Ft,ur[_r])];ur=-_r,$r[fi+Un]=ur}n(Ai,Ui,$r,fi,4),Ui+=4,Bi[0+sr]=ur}}else ur=Ce(Ft,156)?Ce(Ft,128)?1:3:Ce(Ft,163)?2:0,un.Ob[0]=ur,i($r,fi,ur,4),i(Bi,0,ur,4);un.Dd=Ce(Ft,142)?Ce(Ft,114)?Ce(Ft,183)?1:3:2:0}if(wn.m.Ka)return In(rr,7,"Premature end-of-partition0 encountered.");for(;rr.ja<rr.za;++rr.ja){if(wn=dt,Ft=(Ze=rr).rb[Ze.sb-1],$r=Ze.rb[Ze.sb+Ze.ja],$t=Ze.ya[Ze.aa+Ze.ja],fi=Ze.kc?$t.Ad:0)Ft.la=$r.la=0,$t.Za||(Ft.Na=$r.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var dn,Nr;if(Ft=$r,$r=wn,fi=Ze.Pa.Xc,Bi=Ze.ya[Ze.aa+Ze.ja],un=Ze.pb[Bi.$b],sr=Bi.ad,Ai=0,Ui=Ze.rb[Ze.sb-1],ur=Un=0,i(sr,Ai,0,384),Bi.Za)var hi=0,bs=fi[3];else{_r=a(16);var bn=Ft.Na+Ui.Na;if(bn=Xh($r,fi[1],bn,un.Eb,0,_r,0),Ft.Na=Ui.Na=(0<bn)+0,1<bn)xn(_r,0,sr,Ai);else{var aa=_r[0]+3>>3;for(_r=0;256>_r;_r+=16)sr[Ai+_r]=aa}hi=1,bs=fi[0]}var Rr=15&Ft.la,zn=15&Ui.la;for(_r=0;4>_r;++_r){var _a=1&zn;for(aa=Nr=0;4>aa;++aa)Rr=Rr>>1|(_a=(bn=Xh($r,bs,bn=_a+(1&Rr),un.Sc,hi,sr,Ai))>hi)<<7,Nr=Nr<<2|(3<bn?3:1<bn?2:sr[Ai+0]!=0),Ai+=16;Rr>>=4,zn=zn>>1|_a<<7,Un=(Un<<8|Nr)>>>0}for(bs=Rr,hi=zn>>4,dn=0;4>dn;dn+=2){for(Nr=0,Rr=Ft.la>>4+dn,zn=Ui.la>>4+dn,_r=0;2>_r;++_r){for(_a=1&zn,aa=0;2>aa;++aa)bn=_a+(1&Rr),Rr=Rr>>1|(_a=0<(bn=Xh($r,fi[2],bn,un.Qc,0,sr,Ai)))<<3,Nr=Nr<<2|(3<bn?3:1<bn?2:sr[Ai+0]!=0),Ai+=16;Rr>>=2,zn=zn>>1|_a<<5}ur|=Nr<<4*dn,bs|=Rr<<4<<dn,hi|=(240&zn)<<dn}Ft.la=bs,Ui.la=hi,Bi.Hc=Un,Bi.Gc=ur,Bi.ia=43690&ur?0:un.ia,fi=!(Un|ur)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[$t.$b][$t.Za],Ze.wa[Ze.Y+Ze.ja].La|=!fi),wn.Ka)return In(rr,7,"Premature end-of-file encountered.")}if(tu(rr),Ze=Bn,wn=1,$t=(dt=rr).D,Ft=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if($t.M=dt.M,$t.uc=Ft,kl(dt,$t),wn=1,$t=(Nr=dt.D).Nb,Ft=(ur=Fp[dt.L])*dt.R,$r=ur/2*dt.B,_r=16*$t*dt.R,aa=8*$t*dt.B,fi=dt.sa,Bi=dt.ta-Ft+_r,un=dt.qa,sr=dt.ra-$r+aa,Ai=dt.Ha,Ui=dt.Ia-$r+aa,zn=(Rr=Nr.M)==0,Un=Rr>=dt.Va-1,dt.Aa==2&&kl(dt,Nr),Nr.uc)for(_a=(bn=dt).D.M,e(bn.D.uc),Nr=bn.yb;Nr<bn.Hb;++Nr){hi=Nr,bs=_a;var zi=(Na=(pi=bn).D).Nb;dn=pi.R;var Na=Na.wa[Na.Y+hi],Sa=pi.sa,sa=pi.ta+16*zi*dn+16*hi,Aa=Na.dd,Ur=Na.tc;if(Ur!=0)if(e(3<=Ur),pi.L==1)0<hi&&f_(Sa,sa,dn,Ur+4),Na.La&&p_(Sa,sa,dn,Ur),0<bs&&d_(Sa,sa,dn,Ur+4),Na.La&&h_(Sa,sa,dn,Ur);else{var Ca=pi.B,_s=pi.qa,hu=pi.ra+8*zi*Ca+8*hi,Xo=pi.Ha,pi=pi.Ia+8*zi*Ca+8*hi;zi=Na.ld,0<hi&&(i_(Sa,sa,dn,Ur+4,Aa,zi),s_(_s,hu,Xo,pi,Ca,Ur+4,Aa,zi)),Na.La&&(l_(Sa,sa,dn,Ur,Aa,zi),u_(_s,hu,Xo,pi,Ca,Ur,Aa,zi)),0<bs&&(n_(Sa,sa,dn,Ur+4,Aa,zi),a_(_s,hu,Xo,pi,Ca,Ur+4,Aa,zi)),Na.La&&(o_(Sa,sa,dn,Ur,Aa,zi),c_(_s,hu,Xo,pi,Ca,Ur,Aa,zi))}}if(dt.ia&&alert("todo:DitherRow"),Ze.put!=null){if(Nr=16*Rr,Rr=16*(Rr+1),zn?(Ze.y=dt.sa,Ze.O=dt.ta+_r,Ze.f=dt.qa,Ze.N=dt.ra+aa,Ze.ea=dt.Ha,Ze.W=dt.Ia+aa):(Nr-=ur,Ze.y=fi,Ze.O=Bi,Ze.f=un,Ze.N=sr,Ze.ea=Ai,Ze.W=Ui),Un||(Rr-=ur),Rr>Ze.o&&(Rr=Ze.o),Ze.F=null,Ze.J=null,dt.Fa!=null&&0<dt.Fa.length&&Nr<Rr&&(Ze.J=di(dt,Ze,Nr,Rr-Nr),Ze.F=dt.mb,Ze.F==null&&Ze.F.length==0)){wn=In(dt,3,"Could not decode alpha data.");break t}Nr<Ze.j&&(ur=Ze.j-Nr,Nr=Ze.j,e(!(1&ur)),Ze.O+=dt.R*ur,Ze.N+=dt.B*(ur>>1),Ze.W+=dt.B*(ur>>1),Ze.F!=null&&(Ze.J+=Ze.width*ur)),Nr<Rr&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,Ze.F!=null&&(Ze.J+=Ze.v),Ze.ka=Nr-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Rr-Nr,wn=Ze.put(Ze))}$t+1!=dt.Ic||Un||(n(dt.sa,dt.ta-Ft,fi,Bi+16*dt.R,Ft),n(dt.qa,dt.ra-$r,un,sr+8*dt.B,$r),n(dt.Ha,dt.Ia-$r,Ai,Ui+8*dt.B,$r))}if(!wn)return In(rr,6,"Output aborted.")}return 1}(K,fe)),fe.bc!=null&&fe.bc(fe),pe&=1}return pe?(K.cb=0,pe):0})(m,I)||(y=m.a)}}else y=m.a}y==0&&V.Oa!=null&&V.Oa.fd&&(y=ia(V.ba))}V=y}z=V!=0?null:11>z?q.f.RGBA.eb:q.f.kb.y}else z=null;return z};var D_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,O){for(var j="",E=0;E<4;E++)j+=String.fromCharCode(P[O++]);return j}function d(P,O){return P[O+0]|P[O+1]<<8}function f(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16)>>>0}function p(P,O){return(P[O+0]|P[O+1]<<8|P[O+2]<<16|P[O+3]<<24)>>>0}new l;var h=[0],g=[0],v=[],b=new l,x=t,w=function(P,O){var j={},E=0,L=!1,B=0,te=0;if(j.frames=[],!function(U,W){for(var Y=0;Y<4;Y++)if(U[W+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(P,O)){for(p(P,O+=4),O+=8;O<P.length;){var re=u(P,O),se=p(P,O+=4);O+=4;var H=se+(1&se);switch(re){case"VP8 ":case"VP8L":j.frames[E]===void 0&&(j.frames[E]={}),(_e=j.frames[E]).src_off=L?te:O-8,_e.src_size=B+se+8,E++,L&&(L=!1,B=0,te=0);break;case"VP8X":(_e=j.header={}).feature_flags=P[O];var ne=O+4;_e.canvas_width=1+f(P,ne),ne+=3,_e.canvas_height=1+f(P,ne),ne+=3;break;case"ALPH":L=!0,B=H+8,te=O-8;break;case"ANIM":(_e=j.header).bgcolor=p(P,O),ne=O+4,_e.loop_count=d(P,ne),ne+=2;break;case"ANMF":var ge,_e;(_e=j.frames[E]={}).offset_x=2*f(P,O),O+=3,_e.offset_y=2*f(P,O),O+=3,_e.width=1+f(P,O),O+=3,_e.height=1+f(P,O),O+=3,_e.duration=f(P,O),O+=3,ge=P[O++],_e.dispose=1&ge,_e.blend=ge>>1&1}re!="ANMF"&&(O+=H)}return j}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,N=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],g=[_.canvas_width];for(var k=0;k<N.length&&N[k].blend!=0;k++);}var D=N[0],T=b.WebPDecodeRGBA(x,D.src_off,D.src_size,g,h);D.rgba=T,D.imgwidth=g[0],D.imgheight=h[0];for(var R=0;R<g[0]*h[0]*4;R++)v[R]=T[R];return this.width=g,this.height=h,this.data=v,this}(function(t){var e,r,n,i,a,s,o,l,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=U;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(me){Y=!!me}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(me){ie=!!me}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(me){isNaN(me)||(ue=me)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(me){isNaN(me)||(ae=me)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(me){var Q;typeof me=="number"?Q=[me,me,me,me]:((Q=new Array(4))[0]=me[0],Q[1]=me.length>=2?me[1]:Q[0],Q[2]=me.length>=3?me[2]:Q[0],Q[3]=me.length>=4?me[3]:Q[1]),u.margin=Q}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(me){xe=me}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(me){ve=me}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(me){Ce=me}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(me){me instanceof d&&(u=me)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(me){u.path=me}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(me){je=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Q;Q=p(me),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Q=p(me);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var Le=null,Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(me){Le=null,Ee=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Q;if(this.ctx.font=me,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(me))!==null){var at=Q[1];Q[2];var wt=Q[3],gt=Q[4];Q[5];var Ue=Q[6],pt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(pt==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:pt==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var Ye=function(Ge){var $e,cr,Vt=[],rt=Ge.trim();if(rt==="")return Ey;if(rt in WA)return[WA[rt]];for(;rt!=="";){switch(cr=null,$e=(rt=XA(rt)).charAt(0)){case'"':case"'":cr=OZ(rt.substring(1),$e);break;default:cr=RZ(rt)}if(cr===null||(Vt.push(cr[0]),(rt=XA(cr[1]))!==""&&rt.charAt(0)!==","))return Ey;rt=rt.replace(/^,/,"")}return Vt}(Ue);if(this.fontFaces){var ee=function(Ge,$e){if(Le===null){var cr=function(Vt){var rt=[];return Object.keys(Vt).forEach(function(kt){Vt[kt].forEach(function(tr){var St=null;switch(tr){case"bold":St={family:kt,weight:"bold"};break;case"italic":St={family:kt,style:"italic"};break;case"bolditalic":St={family:kt,weight:"bold",style:"italic"};break;case"":case"normal":St={family:kt}}St!==null&&(St.ref={name:kt,style:tr},rt.push(St))})}),rt}(Ge.getFontList());Le=function(Vt){for(var rt={},kt=0;kt<Vt.length;++kt){var tr=Cy(Vt[kt]),St=tr.family,Zt=tr.stretch,Mt=tr.style,mn=tr.weight;rt[St]=rt[St]||{},rt[St][Zt]=rt[St][Zt]||{},rt[St][Zt][Mt]=rt[St][Zt][Mt]||{},rt[St][Zt][Mt][mn]=tr}return rt}(cr.concat($e))}return Le}(this.pdf,this.fontFaces),G=Ye.map(function(Ge){return{family:Ge,stretch:"normal",weight:wt,style:at}}),de=function(Ge,$e,cr){for(var Vt=(cr=cr||{}).defaultFontFamily||"times",rt=Object.assign({},PZ,cr.genericFontFamilies||{}),kt=null,tr=null,St=0;St<$e.length;++St)if(rt[(kt=Cy($e[St])).family]&&(kt.family=rt[kt.family]),Ge.hasOwnProperty(kt.family)){tr=Ge[kt.family];break}if(!(tr=tr||Ge[Vt]))throw new Error("Could not find a font-family for the rule '"+GA(kt)+"' and default family '"+Vt+"'.");if(tr=function(Zt,Mt){if(Mt[Zt])return Mt[Zt];var mn=T5[Zt],Ln=mn<=T5.normal?-1:1,Or=HA(Mt,AT,mn,Ln);if(!Or)throw new Error("Could not find a matching font-stretch value for "+Zt);return Or}(kt.stretch,tr),tr=function(Zt,Mt){if(Mt[Zt])return Mt[Zt];for(var mn=ST[Zt],Ln=0;Ln<mn.length;++Ln)if(Mt[mn[Ln]])return Mt[mn[Ln]];throw new Error("Could not find a matching font-style for "+Zt)}(kt.style,tr),!(tr=function(Zt,Mt){if(Mt[Zt])return Mt[Zt];if(Zt===400&&Mt[500])return Mt[500];if(Zt===500&&Mt[400])return Mt[400];var mn=TZ[Zt],Ln=HA(Mt,CT,mn,Zt<400?-1:1);if(!Ln)throw new Error("Could not find a matching font-weight for value "+Zt);return Ln}(kt.weight,tr)))throw new Error("Failed to resolve a font for the rule '"+GA(kt)+"'.");return tr}(ee,G);this.pdf.setFont(de.ref.name,de.ref.style)}else{var Ae="";(wt==="bold"||parseInt(wt,10)>=700||at==="bold")&&(Ae="bold"),at==="italic"&&(Ae+="italic"),Ae.length===0&&(Ae="normal");for(var Se="",ke={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<Ye.length;Re++){if(this.pdf.internal.getFont(Ye[Re],Ae,{noFallback:!0,disableWarning:!0})!==void 0){Se=Ye[Re];break}if(Ae==="bolditalic"&&this.pdf.internal.getFont(Ye[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Se=Ye[Re],Ae="bold";else if(this.pdf.internal.getFont(Ye[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Se=Ye[Re],Ae="normal";break}}if(Se===""){for(var Fe=0;Fe<Ye.length;Fe++)if(ke[Ye[Fe]]){Se=ke[Ye[Fe]];break}}Se=Se===""?"Times":Se,this.pdf.setFont(Se,Ae)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};f.prototype.setLineDash=function(U){this.lineDash=U},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(U,W){if(isNaN(U)||isNaN(W))throw Dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(U,W)},f.prototype.closePath=function(){var U=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&jr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){U=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},f.prototype.lineTo=function(U,W){if(isNaN(U)||isNaN(W))throw Dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(U,W,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(U)||isNaN(W))throw Dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new s(Y,ie)),ae=this.ctx.transform.applyToPoint(new s(U,W));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.bezierCurveTo=function(U,W,Y,ie,ue,ae){if(isNaN(ue)||isNaN(ae)||isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie))throw Dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(ue,ae)),ve=this.ctx.transform.applyToPoint(new s(U,W)),Ce=this.ctx.transform.applyToPoint(new s(Y,ie));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ce.x,y2:Ce.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},f.prototype.arc=function(U,W,Y,ie,ue,ae){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie)||isNaN(ue))throw Dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(U,W));U=xe.x,W=xe.y;var ve=this.ctx.transform.applyToPoint(new s(0,Y)),Ce=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(ve.x-Ce.x,2)+Math.pow(ve.y-Ce.y,2))}Math.abs(ue-ie)>=2*Math.PI&&(ie=0,ue=2*Math.PI),this.path.push({type:"arc",x:U,y:W,radius:Y,startAngle:ie,endAngle:ue,counterclockwise:ae})},f.prototype.arcTo=function(U,W,Y,ie,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function(U,W,Y,ie){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie))throw Dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,W),this.lineTo(U+Y,W),this.lineTo(U+Y,W+ie),this.lineTo(U,W+ie),this.lineTo(U,W),this.lineTo(U+Y,W),this.lineTo(U,W)},f.prototype.fillRect=function(U,W,Y,ie){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie))throw Dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,W,Y,ie),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function(U,W,Y,ie){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie))throw Dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(U,W,Y,ie),this.stroke())},f.prototype.clearRect=function(U,W,Y,ie){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie))throw Dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,W,Y,ie))},f.prototype.save=function(U){U=typeof U!="boolean"||U;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var W,Y,ie,ue;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))W=0,Y=0,ie=0,ue=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ae!==null)W=parseInt(ae[1]),Y=parseInt(ae[2]),ie=parseInt(ae[3]),ue=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)W=parseInt(ae[1]),Y=parseInt(ae[2]),ie=parseInt(ae[3]),ue=parseFloat(ae[4]);else{if(ue=1,typeof U=="string"&&U.charAt(0)!=="#"){var xe=new gT(U);U=xe.ok?xe.toHex():"#000000"}U.length===4?(W=U.substring(1,2),W+=W,Y=U.substring(2,3),Y+=Y,ie=U.substring(3,4),ie+=ie):(W=U.substring(1,3),Y=U.substring(3,5),ie=U.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:W,g:Y,b:ie,a:ue,style:U}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(U,W,Y,ie){if(isNaN(W)||isNaN(Y)||typeof U!="string")throw Dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!h.call(this)){var ue=H(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:U,x:W,y:Y,scale:ae,angle:ue,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(U,W,Y,ie){if(isNaN(W)||isNaN(Y)||typeof U!="string")throw Dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ie=isNaN(ie)?void 0:ie;var ue=H(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;E.call(this,{text:U,x:W,y:Y,scale:ae,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(U){if(typeof U!="string")throw Dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,ie=W.internal.getFontSize(),ue=W.getStringUnitWidth(U)*ie/W.internal.scaleFactor;return new function(ae){var xe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ue*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(U,W){if(isNaN(U)||isNaN(W))throw Dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(U,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(U){if(isNaN(U))throw Dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(U,W){if(isNaN(U)||isNaN(W))throw Dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,U,W);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(U,W,Y,ie,ue,ae){if(isNaN(U)||isNaN(W)||isNaN(Y)||isNaN(ie)||isNaN(ue)||isNaN(ae))throw Dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(U,W,Y,ie,ue,ae);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(U,W,Y,ie,ue,ae){U=isNaN(U)?1:U,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,ue=isNaN(ue)?0:ue,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(U,W,Y,ie,ue,ae)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(U,W,Y,ie,ue,ae,xe,ve,Ce){var je=this.pdf.getImageProperties(U),Le=1,Ee=1,me=1,Q=1;ie!==void 0&&ve!==void 0&&(me=ve/ie,Q=Ce/ue,Le=je.width/ie*ve/ie,Ee=je.height/ue*Ce/ue),ae===void 0&&(ae=W,xe=Y,W=0,Y=0),ie!==void 0&&ve===void 0&&(ve=ie,Ce=ue),ie===void 0&&ve===void 0&&(ve=je.width,Ce=je.height);for(var at,wt=this.ctx.transform.decompose(),gt=H(wt.rotate.shx),Ue=new l,pt=(Ue=(Ue=(Ue=Ue.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new o(ae-W*me,xe-Y*Q,ie*Le,ue*Ee)),Ye=b.call(this,pt),ee=[],G=0;G<Ye.length;G+=1)ee.indexOf(Ye[G])===-1&&ee.push(Ye[G]);if(_(ee),this.autoPaging)for(var de=ee[0],Ae=ee[ee.length-1],Se=de;Se<Ae+1;Se++){this.pdf.setPage(Se);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Se===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Se===1?0:Fe+(Se-2)*Ge;if(this.ctx.clip_path.length!==0){var cr=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(at,this.posX+this.margin[3],-$e+Re+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=cr}var Vt=JSON.parse(JSON.stringify(pt));Vt=w([Vt],this.posX+this.margin[3],-$e+Re+this.ctx.prevPageLastElemOffset)[0];var rt=(Se>de||Se<Ae)&&v.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ge,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,gt),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,gt)};var b=function(U,W,Y){var ie=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ie.push(Math.floor((U.y+ue)/Y)+1);break;case"arc":ie.push(Math.floor((U.y+ue-U.radius)/Y)+1),ie.push(Math.floor((U.y+ue+U.radius)/Y)+1);break;case"qct":var ae=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ie.push(Math.floor((ae.y+ue)/Y)+1),ie.push(Math.floor((ae.y+ae.h+ue)/Y)+1);break;case"bct":var xe=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ie.push(Math.floor((xe.y+ue)/Y)+1),ie.push(Math.floor((xe.y+xe.h+ue)/Y)+1);break;case"rect":ie.push(Math.floor((U.y+ue)/Y)+1),ie.push(Math.floor((U.y+U.h+ue)/Y)+1)}for(var ve=0;ve<ie.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ve];)x.call(this);return ie},x=function(){var U=this.fillStyle,W=this.strokeStyle,Y=this.font,ie=this.lineCap,ue=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=W,this.font=Y,this.lineCap=ie,this.lineWidth=ue,this.lineJoin=ae},w=function(U,W,Y){for(var ie=0;ie<U.length;ie++)switch(U[ie].type){case"bct":U[ie].x2+=W,U[ie].y2+=Y;case"qct":U[ie].x1+=W,U[ie].y1+=Y;default:U[ie].x+=W,U[ie].y+=Y}return U},_=function(U){return U.sort(function(W,Y){return W-Y})},N=function(U,W){for(var Y,ie,ue=this.fillStyle,ae=this.strokeStyle,xe=this.lineCap,ve=this.lineWidth,Ce=Math.abs(ve*this.ctx.transform.scaleX),je=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),me=[],Q=0;Q<Ee.length;Q++)if(Ee[Q].x!==void 0)for(var at=b.call(this,Ee[Q]),wt=0;wt<at.length;wt+=1)me.indexOf(at[wt])===-1&&me.push(at[wt]);for(var gt=0;gt<me.length;gt++)for(;this.pdf.internal.getNumberOfPages()<me[gt];)x.call(this);if(_(me),this.autoPaging)for(var Ue=me[0],pt=me[me.length-1],Ye=Ue;Ye<pt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ue,this.strokeStyle=ae,this.lineCap=xe,this.lineWidth=Ce,this.lineJoin=je;var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],G=Ye===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Ye===1?0:de+(Ye-2)*Ae;if(this.ctx.clip_path.length!==0){var ke=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-Se+G+this.ctx.prevPageLastElemOffset),k.call(this,U,!0),this.path=ke}if(ie=JSON.parse(JSON.stringify(Le)),this.path=w(ie,this.posX+this.margin[3],-Se+G+this.ctx.prevPageLastElemOffset),W===!1||Ye===0){var Re=(Ye>Ue||Ye<pt)&&v.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,Ae,null).clip().discardPath()),k.call(this,U,W),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Ce,k.call(this,U,W),this.lineWidth=ve;this.path=Le},k=function(U,W){if((U!=="stroke"||W||!g.call(this))&&(U==="stroke"||W||!h.call(this))){for(var Y,ie,ue=[],ae=this.path,xe=0;xe<ae.length;xe++){var ve=ae[xe];switch(ve.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ce=ue.length;if(ae[xe-1]&&!isNaN(ae[xe-1].x)&&(Y=[ve.x-ae[xe-1].x,ve.y-ae[xe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ue[Ce-1].close!==!0&&ue[Ce-1].begin!==!0){ue[Ce-1].deltas.push(Y),ue[Ce-1].abs.push(ve);break}}break;case"bct":Y=[ve.x1-ae[xe-1].x,ve.y1-ae[xe-1].y,ve.x2-ae[xe-1].x,ve.y2-ae[xe-1].y,ve.x-ae[xe-1].x,ve.y-ae[xe-1].y],ue[ue.length-1].deltas.push(Y);break;case"qct":var je=ae[xe-1].x+2/3*(ve.x1-ae[xe-1].x),Le=ae[xe-1].y+2/3*(ve.y1-ae[xe-1].y),Ee=ve.x+2/3*(ve.x1-ve.x),me=ve.y+2/3*(ve.y1-ve.y),Q=ve.x,at=ve.y;Y=[je-ae[xe-1].x,Le-ae[xe-1].y,Ee-ae[xe-1].x,me-ae[xe-1].y,Q-ae[xe-1].x,at-ae[xe-1].y],ue[ue.length-1].deltas.push(Y);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(ve)}}ie=W?null:U==="stroke"?"stroke":"fill";for(var wt=!1,gt=0;gt<ue.length;gt++)if(ue[gt].arc)for(var Ue=ue[gt].abs,pt=0;pt<Ue.length;pt++){var Ye=Ue[pt];Ye.type==="arc"?R.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,W,!wt):L.call(this,Ye.x,Ye.y),wt=!0}else if(ue[gt].close===!0)this.pdf.internal.out("h"),wt=!1;else if(ue[gt].begin!==!0){var ee=ue[gt].start.x,G=ue[gt].start.y;B.call(this,ue[gt].deltas,ee,G),wt=!0}ie&&P.call(this,ie),W&&O.call(this)}},D=function(U){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Y;case"top":return U+W-Y;case"hanging":return U+W-2*Y;case"middle":return U+W/2-Y;default:return U}},T=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(W,Y){this.colorStops.push([W,Y])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(U,W,Y,ie,ue,ae,xe,ve,Ce){for(var je=re.call(this,Y,ie,ue,ae),Le=0;Le<je.length;Le++){var Ee=je[Le];Le===0&&(Ce?j.call(this,Ee.x1+U,Ee.y1+W):L.call(this,Ee.x1+U,Ee.y1+W)),te.call(this,U,W,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ve?O.call(this):P.call(this,xe)},P=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(U,W){this.pdf.internal.out(r(U)+" "+n(W)+" m")},E=function(U){var W;switch(U.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Y=this.pdf.getTextDimensions(U.text),ie=D.call(this,U.y),ue=T.call(this,ie)-Y.h,ae=this.ctx.transform.applyToPoint(new s(U.x,ie)),xe=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ce,je,Le,Ee=this.ctx.transform.applyToRectangle(new o(U.x,ie,Y.w,Y.h)),me=ve.applyToRectangle(new o(U.x,ue,Y.w,Y.h)),Q=b.call(this,me),at=[],wt=0;wt<Q.length;wt+=1)at.indexOf(Q[wt])===-1&&at.push(Q[wt]);if(_(at),this.autoPaging)for(var gt=at[0],Ue=at[at.length-1],pt=gt;pt<Ue+1;pt++){this.pdf.setPage(pt);var Ye=pt===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],G=this.pdf.internal.pageSize.height-this.margin[2],de=G-this.margin[0],Ae=this.pdf.internal.pageSize.width-this.margin[1],Se=Ae-this.margin[3],ke=pt===1?0:ee+(pt-2)*de;if(this.ctx.clip_path.length!==0){var Re=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ce,this.posX+this.margin[3],-1*ke+Ye),k.call(this,"fill",!0),this.path=Re}var Fe=w([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-ke+Ye+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*U.scale),Le=this.lineWidth,this.lineWidth=Le*U.scale);var Ge=this.autoPaging!=="text";if(Ge||Fe.y+Fe.h<=G){if(Ge||Fe.y>=Ye&&Fe.x<=Ae){var $e=Ge?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ae-Fe.x)[0],cr=w([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ke+Ye+this.ctx.prevPageLastElemOffset)[0],Vt=Ge&&(pt>gt||pt<Ue)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,de,null).clip().discardPath()),this.pdf.text($e,cr.x,cr.y,{angle:U.angle,align:W,renderingMode:U.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Fe.y<G&&(this.ctx.prevPageLastElemOffset+=G-Fe.y);U.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Le)}else U.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*U.scale),Le=this.lineWidth,this.lineWidth=Le*U.scale),this.pdf.text(U.text,ae.x+this.posX,ae.y+this.posY,{angle:U.angle,align:W,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Le)},L=function(U,W,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(r(U+Y)+" "+n(W+ie)+" l")},B=function(U,W,Y){return this.pdf.lines(U,W,Y,null,null)},te=function(U,W,Y,ie,ue,ae,xe,ve){this.pdf.internal.out([e(i(Y+U)),e(a(ie+W)),e(i(ue+U)),e(a(ae+W)),e(i(xe+U)),e(a(ve+W)),"c"].join(" "))},re=function(U,W,Y,ie){for(var ue=2*Math.PI,ae=Math.PI/2;W>Y;)W-=ue;var xe=Math.abs(Y-W);xe<ue&&ie&&(xe=ue-xe);for(var ve=[],Ce=ie?-1:1,je=W;xe>1e-5;){var Le=je+Ce*Math.min(xe,ae);ve.push(se.call(this,U,je,Le)),xe-=Math.abs(Le-je),je=Le}return ve},se=function(U,W,Y){var ie=(Y-W)/2,ue=U*Math.cos(ie),ae=U*Math.sin(ie),xe=ue,ve=-ae,Ce=xe*xe+ve*ve,je=Ce+xe*ue+ve*ae,Le=4/3*(Math.sqrt(2*Ce*je)-je)/(xe*ae-ve*ue),Ee=xe-Le*ve,me=ve+Le*xe,Q=Ee,at=-me,wt=ie+W,gt=Math.cos(wt),Ue=Math.sin(wt);return{x1:U*Math.cos(W),y1:U*Math.sin(W),x2:Ee*gt-me*Ue,y2:Ee*Ue+me*gt,x3:Q*gt-at*Ue,y3:Q*Ue+at*gt,x4:U*Math.cos(Y),y4:U*Math.sin(Y)}},H=function(U){return 180*U/Math.PI},ne=function(U,W,Y,ie,ue,ae){var xe=U+.5*(Y-U),ve=W+.5*(ie-W),Ce=ue+.5*(Y-ue),je=ae+.5*(ie-ae),Le=Math.min(U,ue,xe,Ce),Ee=Math.max(U,ue,xe,Ce),me=Math.min(W,ae,ve,je),Q=Math.max(W,ae,ve,je);return new o(Le,me,Ee-Le,Q-me)},ge=function(U,W,Y,ie,ue,ae,xe,ve){var Ce,je,Le,Ee,me,Q,at,wt,gt,Ue,pt,Ye,ee,G,de=Y-U,Ae=ie-W,Se=ue-Y,ke=ae-ie,Re=xe-ue,Fe=ve-ae;for(je=0;je<41;je++)gt=(at=(Le=U+(Ce=je/40)*de)+Ce*((me=Y+Ce*Se)-Le))+Ce*(me+Ce*(ue+Ce*Re-me)-at),Ue=(wt=(Ee=W+Ce*Ae)+Ce*((Q=ie+Ce*ke)-Ee))+Ce*(Q+Ce*(ae+Ce*Fe-Q)-wt),je==0?(pt=gt,Ye=Ue,ee=gt,G=Ue):(pt=Math.min(pt,gt),Ye=Math.min(Ye,Ue),ee=Math.max(ee,gt),G=Math.max(G,Ue));return new o(Math.round(pt),Math.round(Ye),Math.round(ee-pt),Math.round(G-Ye))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,W,Y=(U=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(yt.API),function(t){var e=function(s){var o,l,u,d,f,p,h,g,v,b;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(b=f%85))/85)-(v=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,v+33,b+33)):l.push(122);return function(x,w){for(var _=w;_>0;_--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,d,f,p=String,h="length",g=255,v="charCodeAt",b="slice",x="replace";for(s[b](-2),s=s[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[b](s[h]%5||5))[h];f>d;d+=5)l=52200625*(s[v](d)-33)+614125*(s[v](d+1)-33)+7225*(s[v](d+2)-33)+85*(s[v](d+3)-33)+(s[v](d+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,_){for(var N=_;N>0;N--)w.pop()}(u,o[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=x5(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(yt.API),function(t){t.loadFile=function(e,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var v=g.length,b=[],x=String.fromCharCode;for(p=0;p<v;p+=1)b.push(x(255&g.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(yt.API),function(t){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):Nf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):Nf(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=jr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},a=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],v=g.src.find(function(b){return b.format==="truetype"});v&&u.addFont(v.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(o,l,u){if(jr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,v=0,b=0;if(h.hasOwnProperty(p))v=h[p][1]/f,b=h[p][0]/f;else try{v=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cy):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(yt.API),yt.API.addJS=function(t){return ZA=t,this.internal.events.subscribe("postPutResources",function(){Pm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pm!==void 0&&YA!==void 0&&this.internal.out("/Names <</JavaScript "+Pm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(yt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=h,e.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),v={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(yt.API),yt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=gZ(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,u=a.palette,d=a.depth;i=u&&l===1?function(T){for(var R=T.width,P=T.height,O=T.data,j=T.palette,E=T.depth,L=!1,B=[],te=[],re=void 0,se=!1,H=0,ne=0;ne<j.length;ne++){var ge=$S(j[ne],4),_e=ge[0],U=ge[1],W=ge[2],Y=ge[3];B.push(_e,U,W),Y!=null&&(Y===0?(H++,te.length<1&&te.push(ne)):Y<255&&(se=!0))}if(se||H>1){L=!0,te=void 0;var ie=R*P;re=new Uint8Array(ie);for(var ue=new DataView(O.buffer),ae=0;ae<ie;ae++){var xe=jy(ue,ae,E),ve=$S(j[xe],4)[3];re[ae]=ve}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:O,alphaBytes:re,needSMask:L,palette:B,mask:te}}(a):l===2||l===4?function(T){for(var R=T.data,P=T.width,O=T.height,j=T.channels,E=T.depth,L=j===2?"DeviceGray":"DeviceRGB",B=j-1,te=P*O,re=B,se=te*re,H=1*te,ne=Math.ceil(se*E/8),ge=Math.ceil(H*E/8),_e=new Uint8Array(ne),U=new Uint8Array(ge),W=new DataView(R.buffer),Y=new DataView(_e.buffer),ie=new DataView(U.buffer),ue=!1,ae=0;ae<te;ae++){for(var xe=ae*j,ve=0;ve<re;ve++)aC(Y,jy(W,xe+ve,E),ae*re+ve,E);var Ce=jy(W,xe+re,E);Ce<(1<<E)-1&&(ue=!0),aC(ie,Ce,1*ae,E)}return{colorSpace:L,colorsPerPixel:B,colorBytes:_e,alphaBytes:U,needSMask:ue}}(a):function(T){var R=T.data,P=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:R instanceof Uint8Array?R:new Uint8Array(R.buffer),needSMask:!1}}(a);var f,p,h,g=i,v=g.colorSpace,b=g.colorsPerPixel,x=g.colorBytes,w=g.alphaBytes,_=g.needSMask,N=g.palette,k=g.mask,D=null;return n!==yt.API.image_compression.NONE&&typeof x5=="function"?(D=function(T){var R;switch(T){case yt.API.image_compression.FAST:R=11;break;case yt.API.image_compression.MEDIUM:R=13;break;case yt.API.image_compression.SLOW:R=14;break;default:R=12}return R}(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(D," "),t=eC(x,s*b,b,n),_&&(h=eC(w,s,1,n))):(f=void 0,p="",t=x,_&&(h=w)),p+="/Colors ".concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:f,decodeParameters:p,transparency:k,palette:N,sMask:h,predictor:D,width:s,height:o,bitsPerComponent:d,colorSpace:v}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new FZ(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new ky(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(yt.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Dr.log("bit decode error:"+r)}},As.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},As.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},As.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},As.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},As.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new As(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new ky(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(yt.API),oC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new oC(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},u=new ky(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(yt.API),yt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];a[o++]=d,a[o++]=f,a[o++]=p,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vd=yt.API,Om=Vd.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,g=0,v=o[0]||l,b=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(p=f&&jr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,b.push((o[n]||v)/l+p)),g=n;return b},KA=Vd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Vd.processArabic&&(t=Vd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Om.apply(this,arguments).reduce(function(a,s){return a+s},0)},QA=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},JA=function(t,e,r){r||(r={});var n,i,a,s,o,l,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,v=t.split(" "),b=Om.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),w=[];v.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(k,D){return(D&&k.length?`
`:"")+k})):w.push(N[0])}),v=w,l=KA.apply(this,[x,r])}for(a=0,s=v.length;a<s;a++){var _=0;if(n=v[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),p+h+(g=(i=Om.apply(this,[n,r])).reduce(function(N,k){return N+k},0))>e||_){if(g>e){for(o=QA.apply(this,[n,i,e-(p+h),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);g=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,k){return N+k},0)}else d=[n];f.push(d),p=g+l,h=b}else d.push(n),p+=h+g,h=b}return u=l?function(N,k){return(k?x:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},Vd.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(JA.apply(this,[n[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var h,g,v,b,x=["{"];for(var w in p){if(h=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=s(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(v=s(h).slice(3),b="-"):(v=s(h).slice(2),b=""),v=b+v.slice(0,-1)+i[v.slice(-1)];else{if(jr(h)!=="object")throw new Error("Don't know what to do with value type "+jr(h)+".");v=o(h)}x.push(g+v)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,v,b,x={},w=1,_=x,N=[],k="",D="",T=p.length-1,R=1;R<T;R+=1)(b=p[R])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(N.push([_,v]),_={},v=void 0):b=="}"?((g=N.pop())[0][g[1]]=_,v=void 0,_=g[0]):b=="-"?w=-1:v===void 0?n.hasOwnProperty(b)?(k+=n[b],v=parseInt(k,16)*w,w=1,k=""):k+=b:n.hasOwnProperty(b)?(D+=n[b],_[v]=parseInt(D,16)*w,w=1,v=void 0,D=""):D+=b;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var v=d.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(yt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(av(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(yt),yt.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw Dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Pt.canvg?Promise.resolve(Pt.canvg):Nf(()=>import("./index.es-BK5RAQQA.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},yt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},yt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,f=0;function p(g,v){var b,x=!1;for(b=0;b<g.length;b+=1)g[b]===v&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(jr(t)==="object"){for(i in t)if(a=t[i],p(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?v.push("/"+g+" /"+r[g].value):v.push("/"+g+" "+r[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(yt.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=a.length;f<p;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var s,o,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(a).sort(function(h,g){return h-g})).length;f<p;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var v=u();d({data:h,addLength1:!0,objectId:v}),l("endobj");var b=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hd(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hd(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Hd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var v=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Hd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Hd(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,u=a.y,d=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,v=h,b="",x=0,w="",_=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(w=o,v=h,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)g[v].metadata.hasOwnProperty("cmap")&&(s=g[v].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),s||w[x].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?b+=w[x]:b+="";var N="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?N=p(b,v).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(N=r(b,g[v])),f.isHex=!0,{text:N,x:l,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},l,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(yt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,u,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var N=function(j){var E=j.charCodeAt(),L=E>>8,B=v[L];return B!==void 0?f[256*B+(255&E)]:L===252||L===253?"AL":x.test(L)?"L":L===8?"R":"N"},k=function(j){for(var E,L=0;L<j.length;L++){if((E=N(j.charAt(L)))==="L")return!1;if(E==="R")return!0}return!1},D=function(j,E,L,B){var te,re,se,H,ne=E[B];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ne="AN");break;case"AL":w=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":B<1||B+1>=E.length||(te=L[B-1])!=="EN"&&te!=="AN"||(re=E[B+1])!=="EN"&&re!=="AN"?ne="N":w&&(re="AN"),ne=re===te?re:"N";break;case"ES":ne=(te=B>0?L[B-1]:"B")==="EN"&&B+1<E.length&&E[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&L[B-1]==="EN"){ne="EN";break}if(w){ne="N";break}for(se=B+1,H=E.length;se<H&&E[se]==="ET";)se++;ne=se<H&&E[se]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(H=E.length,se=B+1;se<H&&E[se]==="NSM";)se++;if(se<H){var ge=j[B],_e=ge>=1425&&ge<=2303||ge===64286;if(te=E[se],_e&&(te==="R"||te==="AL")){ne="R";break}}}ne=B<1||(te=E[B-1])==="B"?"N":L[B-1];break;case"B":w=!1,i=!0,ne=_;break;case"S":a=!0,ne="N"}return ne},T=function(j,E,L){var B=j.split("");return L&&R(B,L,{hiLevel:_}),B.reverse(),E&&E.reverse(),B.join("")},R=function(j,E,L){var B,te,re,se,H,ne=-1,ge=j.length,_e=0,U=[],W=_?h:p,Y=[];for(w=!1,i=!1,a=!1,te=0;te<ge;te++)Y[te]=N(j[te]);for(re=0;re<ge;re++){if(H=_e,U[re]=D(j,Y,U,re),B=240&(_e=W[H][g[U[re]]]),_e&=15,E[re]=se=W[_e][5],B>0)if(B===16){for(te=ne;te<re;te++)E[te]=1;ne=-1}else ne=-1;if(W[_e][6])ne===-1&&(ne=re);else if(ne>-1){for(te=ne;te<re;te++)E[te]=se;ne=-1}Y[re]==="B"&&(E[re]=0),L.hiLevel|=se}a&&function(ie,ue,ae){for(var xe=0;xe<ae;xe++)if(ie[xe]==="S"){ue[xe]=_;for(var ve=xe-1;ve>=0&&ie[ve]==="WS";ve--)ue[ve]=_}}(Y,E,ge)},P=function(j,E,L,B,te){if(!(te.hiLevel<j)){if(j===1&&_===1&&!i)return E.reverse(),void(L&&L.reverse());for(var re,se,H,ne,ge=E.length,_e=0;_e<ge;){if(B[_e]>=j){for(H=_e+1;H<ge&&B[H]>=j;)H++;for(ne=_e,se=H-1;ne<se;ne++,se--)re=E[ne],E[ne]=E[se],E[se]=re,L&&(re=L[ne],L[ne]=L[se],L[se]=re);_e=H}_e++}}},O=function(j,E,L){var B=j.split(""),te={hiLevel:_};return L||(L=[]),R(B,L,te),function(re,se,H){if(H.hiLevel!==0&&d)for(var ne,ge=0;ge<re.length;ge++)se[ge]===1&&(ne=b.indexOf(re[ge]))>=0&&(re[ge]=b[ne+1])}(B,L,te),P(2,B,E,L,te),P(1,B,E,L,te),B.join("")};return this.__bidiEngine__.doBidiReorder=function(j,E,L){if(function(te,re){if(re)for(var se=0;se<te.length;se++)re[se]=se;o===void 0&&(o=k(te)),u===void 0&&(u=k(te))}(j,E),s||!l||u)if(s&&l&&o^u)_=o?1:0,j=T(j,E,L);else if(!s&&l&&u)_=o?1:0,j=O(j,E,L),j=T(j,E);else if(!s||o||l||u){if(s&&!l&&o^u)j=T(j,E),o?(_=0,j=O(j,E,L)):(_=1,j=O(j,E,L),j=T(j,E));else if(s&&o&&!l&&u)_=1,j=O(j,E,L),j=T(j,E);else if(!s&&!l&&o^u){var B=d;o?(_=1,j=O(j,E,L),_=0,d=!1,j=O(j,E,L),d=B):(_=0,j=O(j,E,L),j=T(j,E),_=1,d=!1,j=O(j,E,L),d=B,j=T(j,E))}}else _=0,j=O(j,E,L);else _=o?1:0,j=O(j,E,L);return j},this.__bidiEngine__.setOptions=function(j){j&&(s=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,d=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Uc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new JZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new BZ(this.contents),this.head=new zZ(this),this.name=new WZ(this),this.cmap=new jT(this),this.toUnicode={},this.hhea=new VZ(this),this.maxp=new GZ(this),this.hmtx=new XZ(this),this.post=new $Z(this),this.os2=new qZ(this),this.loca=new QZ(this),this.glyf=new YZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ks,Uc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),BZ=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,u,d,f,p,h,g,v;for(v in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),d=16*h-f,(i=new Uc).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(d),a=16*h,u=i.pos+a,o=null,g=[],r)for(p=r[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),g=g.concat(p),v==="head"&&(o=u),u+=p.length;u%4;)g.push(0),u++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=kT.call(r);r.length%4;)r.push(0);for(a=new Uc(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),UZ={}.hasOwnProperty,Do=function(t,e){for(var r in e)UZ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ks=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var zZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Uc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),lC=function(){function t(e,r){var n,i,a,s,o,l,u,d,f,p,h,g,v,b,x,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var N,k;for(k=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)k.push(e.readUInt16());return k}(),e.pos+=2,v=function(){var N,k;for(k=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)k.push(e.readUInt16());return k}(),u=function(){var N,k;for(k=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)k.push(e.readUInt16());return k}(),d=function(){var N,k;for(k=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)k.push(e.readUInt16());return k}(),i=(this.length-e.pos+this.offset)/2,o=function(){var N,k;for(k=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)k.push(e.readUInt16());return k}(),l=x=0,_=a.length;x<_;l=++x)for(b=a[l],n=w=g=v[l];g<=b?w<=b:w>=b;n=g<=b?++w:--w)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-g)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,i,a,s,o,l,u,d,f,p,h,g,v,b,x,w,_,N,k,D,T,R,P,O,j,E,L,B,te,re,se,H,ne,ge,_e,U,W,Y,ie,ue,ae,xe,ve,Ce,je,Le;switch(B=new Uc,s=Object.keys(e).sort(function(Ee,me){return Ee-me}),r){case"macroman":for(v=0,b=function(){var Ee=[];for(g=0;g<256;++g)Ee.push(0);return Ee}(),w={0:0},a={},te=0,ne=s.length;te<ne;te++)w[ve=e[i=s[te]]]==null&&(w[ve]=++v),a[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(b),{charMap:a,subtable:B.data,maxGlyphID:v+1};case"unicode":for(E=[],f=[],_=0,w={},n={},x=u=null,re=0,ge=s.length;re<ge;re++)w[k=e[i=s[re]]]==null&&(w[k]=++_),n[i]={old:k,new:w[k]},o=w[k]-i,x!=null&&o===u||(x&&f.push(x),E.push(i),u=o),x=i;for(x&&f.push(x),f.push(65535),E.push(65535),O=2*(P=E.length),R=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(R/2)/Math.LN2,T=2*P-R,l=[],D=[],h=[],g=se=0,_e=E.length;se<_e;g=++se){if(j=E[g],d=f[g],j===65535){l.push(0),D.push(0);break}if(j-(L=n[j].new)>=32768)for(l.push(0),D.push(2*(h.length+P-g)),i=H=j;j<=d?H<=d:H>=d;i=j<=d?++H:--H)h.push(n[i].new);else l.push(L-j),D.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*P+2*h.length),B.writeUInt16(0),B.writeUInt16(O),B.writeUInt16(R),B.writeUInt16(p),B.writeUInt16(T),ae=0,U=f.length;ae<U;ae++)i=f[ae],B.writeUInt16(i);for(B.writeUInt16(0),xe=0,W=E.length;xe<W;xe++)i=E[xe],B.writeUInt16(i);for(Ce=0,Y=l.length;Ce<Y;Ce++)o=l[Ce],B.writeUInt16(o);for(je=0,ie=D.length;je<ie;je++)N=D[je],B.writeUInt16(N);for(Le=0,ue=h.length;Le<ue;Le++)v=h[Le],B.writeUInt16(v);return{charMap:n,subtable:B.data,maxGlyphID:_+1}}},t}(),jT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new lC(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=lC.encode(e,r),(i=new Uc).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),VZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),qZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),$Z=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),HZ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,u,d,f,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=d=0,f=n.length;d<f;a=++d)i=n[a],e.pos=i.offset,u=e.readString(i.length),s=new HZ(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),GZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),XZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),kT=[].slice,YZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,u,d,f;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new Uc(r.read(i))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=s===-1?new KZ(o,u,f,l,d):new ZZ(o,s,u,f,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),ZZ=function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),KZ=function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Uc(kT.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),QZ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Do(t,Ks),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),JZ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,u,d,f,p,h,g,v,b,x;for(i in n=jT.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(l=x[i]).old]=l.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return d=function(w){var _,N;for(_ in N={},w)N[w[_]]=_;return N}(h),f=Object.keys(d).sort(function(w,_){return w-_}),v=function(){var w,_,N;for(N=[],w=0,_=f.length;w<_;w++)o=f[w],N.push(d[o]);return N}(),a=this.font.glyf.encode(s,v,h),u=this.font.loca.encode(a.offsets,v),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();yt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e}();async function Iy(t){const{jobCard:e,garage:r,serviceCharge:n,invoiceNumber:i}=t;console.log("PDF Generator - Received jobCard data:",e);const a=e.customer_name||e.customerName||"N/A",s=e.bike_number||e.bikeNumber||"N/A",o=e.phone||"N/A",l=e.spare_parts||e.spareParts||[],u=new yt,d=u.internal.pageSize.width;let f=40;u.setTextColor(0,0,0),u.setFontSize(22),u.setFont("helvetica","bold"),u.text(r.name,d/2,f,{align:"center"}),f+=25,u.setFontSize(14),u.setFont("helvetica","normal"),u.text(r.phone||"",d/2,f,{align:"center"}),f+=50,u.setFontSize(24),u.setFont("helvetica","bold"),u.text("INVOICE",d/2,f,{align:"center"}),f+=40,u.setFontSize(12),u.setFont("helvetica","normal"),u.text(`Invoice Number: ${i}`,20,f),f+=20,u.text(`Date: ${new Date().toLocaleDateString("en-GB")}`,20,f),f+=20,u.text(`Customer: ${a}`,20,f),f+=20,u.text(`Phone: ${o}`,20,f),f+=20,u.text(`Bike Number: ${s}`,20,f),f+=40,u.setFont("helvetica","bold"),u.text("Services & Parts:",20,f),f+=25,u.setFont("helvetica","normal");const p=e.complaint||e.complaint||"Service Only";u.text(p,20,f),f+=20;let h=0;l&&Array.isArray(l)&&l.length>0&&l.forEach(x=>{const w=x.price*x.quantity;h+=w,u.text(`${x.name} (Qty: ${x.quantity})`,20,f),f+=18}),f+=30,u.setFont("helvetica","normal"),u.setFontSize(12),u.text("Parts Total:",20,f);const g=`Rs.${h.toFixed(2)}`;u.text(g,d-80,f,{align:"right"}),f+=20,u.text("Service Charge:",20,f);const v=`Rs.${n.toFixed(2)}`;u.text(v,d-80,f,{align:"right"}),f+=25,u.setFont("helvetica","bold"),u.setFontSize(14),u.text("Total Amount:",20,f);const b=`Rs.${(h+n).toFixed(2)}`;return u.text(b,d-80,f,{align:"right"}),f+=50,u.setFont("helvetica","normal"),u.setFontSize(14),u.text(`Thank you for choosing ${r.name}!`,d/2,f,{align:"center"}),f+=25,u.setFontSize(12),u.text("Visit us again for all your bike service needs",d/2,f,{align:"center"}),u.output("blob")}function cC(t){const e=Date.now().toString(36),r=Math.random().toString(36).substring(2,8);return`${t}-${e}-${r}`}function uC(t){return`${window.location.origin}/invoice/download/${t}`}function eK(t,e){const r=`    .     PDF  .

${e}`,i=`https://wa.me/${t.replace(/[^\d+]/g,"")}?text=${encodeURIComponent(r)}`;window.open(i,"_blank")}function tK(t){window.location.href=`tel:${t}`}function rK(){const{jobCardId:t}=Rb(),[,e]=ln(),{garage:r}=Mr(),{toast:n}=ci(),i=ra(),[a,s]=C.useState(0),[o,l]=C.useState(!1),[u,d]=C.useState(""),[f,p]=C.useState(""),{data:h,isLoading:g}=Wt({queryKey:["/api/garages",r==null?void 0:r.id,"job-cards",t],queryFn:async()=>!(r!=null&&r.id)||!t?null:(await Ke("GET",`/api/garages/${r.id}/job-cards/${t}`)).json(),enabled:!!(r!=null&&r.id)&&!!t});C.useEffect(()=>{h!=null&&h.service_charge&&s(Number(h.service_charge)||0)},[h]);const v=Dn({mutationFn:async T=>{if(!(r!=null&&r.id))throw new Error("No garage selected");return(await Ke("POST",`/api/garages/${r.id}/invoices`,T)).json()},onSuccess:()=>{n({title:"Success",description:"Invoice created and service completed successfully"}),i.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"job-cards"]}),i.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"job-cards","pending"]}),i.invalidateQueries({queryKey:["/api/garages",r==null?void 0:r.id,"invoices"]}),e("/admin-dashboard")},onError:T=>{var P;console.error("Invoice creation error:",T);let R="Failed to create invoice";(P=T==null?void 0:T.message)!=null&&P.includes("already exists")?R="This service already has an invoice. Cannot create duplicate invoices.":T instanceof Error&&(R=T.message),n({title:"Error",description:R,variant:"destructive"})}});if(g)return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>e("/pending-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Generate Invoice"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),c.jsx("span",{className:"text-muted-foreground",children:"Loading job card details..."})]})})]});if(!h||!r)return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsx("div",{className:"text-destructive",children:"Job card not found"})})});const b=h.spare_parts||h.spareParts||[],x=Array.isArray(b)?b.reduce((T,R)=>T+R.price*R.quantity,0):0,w=x+a,_=T=>{const P=new Date().toISOString().slice(0,10).replace(/-/g,""),O=T.slice(0,8);return`INV-${P}-${O}`},N=`INV-${Date.now()}`,k=async()=>{l(!0);try{const T=await Iy({jobCard:h,garage:r,serviceCharge:a,invoiceNumber:N}),R=URL.createObjectURL(new Blob([T],{type:"application/pdf"}));window.open(R,"_blank"),setTimeout(()=>URL.revokeObjectURL(R),1e3),n({title:"Success",description:"PDF opened for preview"})}catch(T){n({title:"Error",description:T instanceof Error?T.message:"Failed to preview PDF",variant:"destructive"})}finally{l(!1)}},D=async(T=!1)=>{l(!0);try{console.log("Creating invoice with data:",{jobCardId:h.id,invoiceNumber:N,customerName:h.customerName,bikeNumber:h.bikeNumber,phone:h.phone,complaint:h.complaint,spareParts:h.spareParts,serviceCharge:a,partsTotal:x,totalAmount:w,customerId:h.customer_id});const R=await Iy({jobCard:h,garage:r,serviceCharge:a,invoiceNumber:N}),P=cC(N),O=uC(P);console.log(" Generated download URL:",O);const j=await v.mutateAsync({jobCardId:h.id,customerId:h.customer_id||h.customerId,invoiceNumber:N,downloadToken:P,totalAmount:String(w),partsTotal:String(x),serviceCharge:String(a),whatsappSent:T,completionNotes:u,workSummary:f||`Service completed for ${h.bike_number||h.bikeNumber} - ${h.complaint}`}),E=_(j.id),L=await Iy({jobCard:h,garage:r,serviceCharge:a,invoiceNumber:E}),B=cC(E),te=uC(B);if(console.log(" Final download URL:",te),await Ke("PATCH",`/api/invoices/${j.id}`,{download_token:B}),T)eK(h.phone||"",te),n({title:"Success",description:"Invoice generated and WhatsApp opened"});else{const re=URL.createObjectURL(L),se=document.createElement("a");se.href=re,se.download=`${E}.pdf`,se.style.display="none",document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(re),n({title:"Success",description:"Invoice PDF downloaded"})}}catch(R){n({title:"Error",description:R instanceof Error?R.message:"Failed to generate invoice",variant:"destructive"})}finally{l(!1)}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>e("/pending-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Generate Invoice"})]})}),c.jsxs("div",{className:"screen-content space-y-4",children:[c.jsx(He,{children:c.jsxs(We,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 pb-4 border-b border-border",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(Vs,{className:"text-primary w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:r.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:r.phone})]})]}),c.jsxs("div",{className:"py-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Invoice Date:"}),c.jsx("span",{children:new Date().toLocaleDateString()})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),c.jsx("span",{children:h.customer_name||h.customerName||"N/A"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Bike Number:"}),c.jsx("span",{children:h.bike_number||h.bikeNumber||"N/A"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Complaint:"}),c.jsx("span",{className:"text-right max-w-[200px]",children:h.complaint})]})]}),c.jsxs("div",{className:"border-t border-border pt-4",children:[c.jsx("h4",{className:"font-semibold mb-3",children:"Services & Parts"}),c.jsx("div",{className:"space-y-2",children:Array.isArray(h.spare_parts||h.spareParts)&&(h.spare_parts||h.spareParts).map((T,R)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:[T.partNumber?`PN: ${T.partNumber}  ${T.name}`:T.name,"  Qty ",T.quantity," x ",T.price]}),c.jsxs("span",{children:["",(T.price*T.quantity).toFixed(2)]})]},R))}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-border",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Parts Total:"}),c.jsxs("span",{children:["",x.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[c.jsx("span",{className:"text-muted-foreground",children:"Service Charge:"}),c.jsx(ft,{type:"number",min:"0",step:"1",value:a===0?"":a,onChange:T=>s(Number(T.target.value)||0),onFocus:T=>{T.target.value==="0"&&(T.target.value="",s(0))},className:"w-24 h-8 text-right text-sm [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},placeholder:"0"})]}),c.jsxs("div",{className:"flex justify-between font-semibold text-lg mt-2 pt-2 border-t border-border",children:[c.jsx("span",{children:"Total Amount:"}),c.jsxs("span",{className:"text-primary",children:["",w.toFixed(2)]})]})]})]})]})}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{className:"text-lg",children:"Service Completion Details"})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Work Summary"}),c.jsx(Fc,{value:f,onChange:T=>p(T.target.value),placeholder:"Brief summary of work performed (e.g., 'Oil change, brake pad replacement, general inspection')",className:"resize-none",rows:2})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Completion Notes"}),c.jsx(Fc,{value:u,onChange:T=>d(T.target.value),placeholder:"Additional notes about the service (optional)",className:"resize-none",rows:3})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ne,{onClick:()=>D(!0),disabled:o,className:"w-full",children:[c.jsx(nM,{className:"w-4 h-4 mr-2"}),o?"Generating...":"Generate PDF & Send WhatsApp"]}),c.jsxs(Ne,{onClick:()=>k(),disabled:o,variant:"outline",className:"w-full",children:[c.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Preview PDF"]})]})]})]})}function nK(){const[,t]=ln(),{garage:e}=Mr(),[r,n]=C.useState(""),{data:i=[],isLoading:a}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"invoices"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/invoices`)).json():[],enabled:!!(e!=null&&e.id)}),s=i.filter(d=>{var f,p,h,g,v,b,x,w,_;return((h=(p=(f=d.invoice_number)==null?void 0:f.toLowerCase)==null?void 0:p.call(f))==null?void 0:h.includes(r.toLowerCase()))||((b=(v=(g=d.customer_name)==null?void 0:g.toLowerCase)==null?void 0:v.call(g))==null?void 0:b.includes(r.toLowerCase()))||((_=(w=(x=d.bike_number)==null?void 0:x.toLowerCase)==null?void 0:w.call(x))==null?void 0:_.includes(r.toLowerCase()))}),o=d=>{if(!d)return"No date";const f=new Date(d);if(isNaN(f.getTime()))return"Invalid date";const p=new Date;if(f.toDateString()===p.toDateString())return`Today, ${f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`;const h=new Date(p);return h.setDate(h.getDate()-1),f.toDateString()===h.toDateString()?`Yesterday, ${f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:f.getFullYear()!==p.getFullYear()?"numeric":void 0,hour:"numeric",minute:"2-digit",hour12:!0})},l=async(d,f)=>{if(d)try{console.log("Downloading PDF from:",d);const p=await fetch(d);if(!p.ok)throw new Error(`Failed to download PDF: ${p.status}`);const h=await p.blob(),g=URL.createObjectURL(h),v=document.createElement("a");v.href=g,v.download=`${f}.pdf`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)}catch(p){console.error("Error downloading PDF:",p),alert("Failed to download PDF. Please try again.")}},u=(d,f)=>{const p=`    .     PDF  .

${f}`,h=`https://wa.me/${d.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(p)}`;window.open(h,"_blank")};return a?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Invoices"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Invoices"})]}),c.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:c.jsxs("span",{className:"text-sm font-medium",children:[s.length," Invoices"]})})]}),c.jsxs("div",{className:"screen-content",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"relative search-bar-container",children:[c.jsx(fd,{className:"search-icon w-4 h-4"}),c.jsx(ft,{type:"text",placeholder:"Search by invoice number, customer, or bike number...",value:r,onChange:d=>n(d.target.value),className:"search-input"})]})}),s.length===0?c.jsx(He,{children:c.jsxs(We,{className:"p-8 text-center",children:[c.jsx("div",{className:"text-muted-foreground",children:r?"No invoices found matching your search":"No invoices generated yet"}),!r&&c.jsx(Ne,{className:"mt-4",onClick:()=>t("/pending-services"),children:"Generate First Invoice"})]})}):c.jsx("div",{className:"space-y-3",children:s.map(d=>c.jsx(He,{className:"border-l-4 border-l-success",children:c.jsxs(We,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-success/10 rounded-full flex items-center justify-center",children:c.jsx(Vs,{className:"text-success w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:d.invoice_number}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["",Number(d.total_amount||0).toLocaleString()]})]})]}),c.jsx(si,{variant:"secondary",className:"success-bg success-text",children:"Completed"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rc,{className:"w-4 h-4"}),c.jsx("span",{children:d.customer_name||"N/A"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx($b,{className:"w-4 h-4"}),c.jsx("span",{children:d.bike_number||"N/A"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Qu,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.created_at)})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(AN,{className:"w-4 h-4"}),c.jsx("span",{children:d.whatsapp_sent?"Sent":"Not sent"})]}),d.visit_count&&c.jsxs("div",{className:"flex items-center space-x-2 col-span-2",children:[c.jsx(Rc,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-primary font-medium",children:["Customer visits: ",d.visit_count]})]})]}),c.jsxs("div",{className:"text-sm bg-muted/30 p-2 rounded mb-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Parts Total:"}),c.jsxs("span",{children:["",Number(d.parts_total).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Service Charge:"}),c.jsxs("span",{children:["",Number(d.service_charge).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between font-semibold border-t pt-1 mt-1",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:["",Number(d.total_amount).toFixed(2)]})]})]}),c.jsx("div",{className:"flex justify-end space-x-2",children:d.download_token&&c.jsxs(c.Fragment,{children:[c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>l(`/invoice/download/${d.download_token}`,d.invoice_number),className:"px-3 py-1 text-xs","data-testid":`button-download-${d.id}`,children:[c.jsx(QL,{className:"w-3 h-3 mr-1"}),"Download PDF"]}),c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>u(d.phone||"",`${window.location.origin}/invoice/download/${d.download_token}`),className:"px-3 py-1 text-xs","data-testid":`button-whatsapp-${d.id}`,children:[c.jsx(AN,{className:"w-3 h-3 mr-1"}),"WhatsApp"]})]})})]})},d.id))})]})]})}function iK(){const[,t]=ln(),{garage:e}=Mr();ci(),ra();const[r,n]=C.useState(""),{data:i=[],isLoading:a}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"customers"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/customers`)).json():[],enabled:!!(e!=null&&e.id)}),s=i.filter(u=>{var d,f,p,h,g,v,b;return((p=(f=(d=u.name)==null?void 0:d.toLowerCase)==null?void 0:f.call(d))==null?void 0:p.includes(r.toLowerCase()))||((h=u.phone)==null?void 0:h.includes(r))||((b=(v=(g=u.bikeNumber)==null?void 0:g.toLowerCase)==null?void 0:v.call(g))==null?void 0:b.includes(r.toLowerCase()))}),o=(u,d)=>{if(!u||d===0)return"No visits yet";const f=new Date(u);return f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:f.getFullYear()!==new Date().getFullYear()?"numeric":void 0})},l=async u=>{try{const f=await(await Ke("GET",`/api/garages/${e==null?void 0:e.id}/customers/${u}/invoices`)).json();if(f.length===0){alert("No invoices found for this customer");return}const p=f[0];p.pdfUrl?window.open(p.pdfUrl,"_blank"):alert(`Customer has ${f.length} invoice(s) but no PDF available`)}catch(d){console.error("Error fetching customer invoices:",d),alert("Failed to fetch customer invoices")}};return a?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Customers"})]}),c.jsx(p5,{})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Customers"})]}),c.jsx(p5,{})]})}),c.jsxs("div",{className:"screen-content",children:[c.jsxs("div",{className:"mb-6 space-y-4",children:[c.jsxs("div",{className:"relative search-bar-container",children:[c.jsx(fd,{className:"search-icon w-4 h-4"}),c.jsx(ft,{type:"text",placeholder:"Search customers...",value:r,onChange:u=>n(u.target.value),className:"search-input"})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:r?`${s.length} of ${i.length} customers`:`${i.length} total customers`}),c.jsxs("span",{children:["Total revenue: ",Number(i.reduce((u,d)=>u+(parseFloat(d.total_spent||d.totalSpent)||0),0)||0).toLocaleString()]})]})]}),s.length===0?c.jsx(He,{children:c.jsx(We,{className:"p-8 text-center",children:c.jsx("div",{className:"text-muted-foreground",children:r?"No customers found matching your search":"No customers yet"})})}):c.jsx("div",{className:"space-y-3",children:s.map(u=>c.jsx(He,{children:c.jsxs(We,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx(Rc,{className:"text-primary w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:u.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone}),c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[c.jsx($b,{className:"w-3 h-3"}),c.jsx("span",{children:u.bike_number||u.bikeNumber||"N/A"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>tK(u.phone),className:"w-10 h-10 success-bg hover:bg-green-200 dark:hover:bg-green-900/30",children:c.jsx(Xb,{className:"w-4 h-4 text-green-700 dark:text-green-300"})}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>l(u.id),className:"w-10 h-10 hover:bg-blue-100 dark:hover:bg-blue-900/30",children:c.jsx(Vs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})]})]}),c.jsx("div",{className:"mt-3 pt-3 border-t",children:c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("div",{children:(u.total_jobs||u.totalJobs||0)>0?c.jsxs("span",{children:["Last visit: ",o(u.last_visit||u.lastVisit,u.total_jobs||u.totalJobs||0)]}):c.jsx("span",{children:"No visits yet"})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{children:[u.total_jobs||u.totalJobs||0," visits"]}),c.jsxs("div",{className:"font-medium text-primary",children:["",Number(parseFloat(u.total_spent||u.totalSpent)||0).toLocaleString()]})]})]})})]})},u.id))})]})]})}function aK({onScan:t,isOpen:e,onClose:r}){const[n,i]=C.useState(""),[a,s]=C.useState(""),[o,l]=C.useState(null),[u,d]=C.useState(!1),f=C.useRef(null),p=C.useRef(null);C.useEffect(()=>(e?h():x(),x),[e]);const h=async()=>{try{i(""),s("Starting camera...");const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"},width:{ideal:1920,min:640},height:{ideal:1080,min:480},frameRate:{ideal:30,min:15}}});l(N),f.current&&(f.current.srcObject=N,f.current.onloadedmetadata=()=>{var k,D;console.log("Video metadata loaded, dimensions:",(k=f.current)==null?void 0:k.videoWidth,"x",(D=f.current)==null?void 0:D.videoHeight),s("Camera ready - scanning for QR codes..."),setTimeout(g,500)},await f.current.play())}catch(N){console.error("Camera error:",N),i("Camera access failed. Please allow camera permission."),s("")}},g=()=>{f.current&&(console.log("Starting QR scanning..."),p.current=window.setInterval(async()=>{var N,k,D;f.current&&o&&(console.log("Attempting QR detection... Video ready:",(N=f.current)==null?void 0:N.readyState,"Dimensions:",(k=f.current)==null?void 0:k.videoWidth,"x",(D=f.current)==null?void 0:D.videoHeight),await v())},1200))},v=async()=>{if(!(!f.current||!o))try{const N=document.createElement("canvas"),k=N.getContext("2d");if(!k)return;N.width=f.current.videoWidth||640,N.height=f.current.videoHeight||480,k.drawImage(f.current,0,0,N.width,N.height);try{const T=await(await Nf(()=>import("./qr-scanner.min-BuoAEDYu.js"),[])).default.scanImage(f.current);if(T&&T.trim()){console.log("QR Scanner video found:",T),b(T);return}}catch{}try{const T=await(await Nf(()=>import("./qr-scanner.min-BuoAEDYu.js"),[])).default.scanImage(N);if(T&&T.trim()){console.log("QR Scanner canvas found:",T),b(T);return}}catch{}try{const D=await Nf(()=>import("./qr-scanner.min-BuoAEDYu.js"),[]),T=k.getImageData(0,0,N.width,N.height),R=await D.default.scanImage(T);R&&R.trim()&&(console.log("QR Scanner ImageData found:",R),b(R))}catch{}}catch(N){console.log("Detection error:",N)}},b=N=>{N&&N.trim()&&(s("QR code detected!"),console.log("QR scan successful:",N),t(N.trim()),r())},x=()=>{p.current&&(clearInterval(p.current),p.current=null),o&&(o.getTracks().forEach(N=>N.stop()),l(null)),s(""),d(!1)},w=async()=>{if(o)try{const N=o.getVideoTracks()[0];N.getCapabilities().torch&&(await N.applyConstraints({advanced:[{torch:!u}]}),d(!u))}catch{console.log("Torch not supported")}},_=()=>{const N=prompt("Enter QR code manually:");N&&N.trim()&&(t(N.trim()),r())};return c.jsx(cs,{open:e,onOpenChange:r,children:c.jsxs(us,{className:"max-w-md mx-auto","aria-describedby":"qr-scanner-description",children:[c.jsx(ds,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(fs,{className:"flex items-center space-x-2",children:[c.jsx(Ps,{className:"w-5 h-5"}),c.jsx("span",{children:"Scan QR Code"})]}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:r,children:c.jsx(mh,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{id:"qr-scanner-description",className:"text-center text-sm text-muted-foreground",children:["Point camera at any ",c.jsx("strong",{children:"QR code"}),a&&c.jsx("div",{className:"mt-1 text-xs font-medium text-blue-600 dark:text-blue-400",children:a})]}),c.jsxs("div",{className:"relative border-2 border-dashed border-primary/30 rounded-lg overflow-hidden aspect-video bg-black",children:[c.jsx("video",{ref:f,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),o&&c.jsxs("div",{className:"absolute inset-4 border-2 border-blue-500 rounded-lg",children:[c.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-500"}),c.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-500"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-500"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-500"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-blue-500 text-xs font-medium",children:"QR"})]}),o&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(Ne,{variant:"secondary",size:"sm",onClick:w,className:"bg-black/50 text-white border-none",children:c.jsx(ej,{className:`w-4 h-4 ${u?"text-yellow-400":""}`})})}),!o&&!n&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),c.jsx("div",{className:"text-sm",children:"Starting camera..."})]})})]}),n&&c.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[c.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:n}),c.jsx(Ne,{variant:"outline",size:"sm",onClick:h,children:"Try Again"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(Ne,{variant:"outline",onClick:_,className:"flex-1",children:[c.jsx(sj,{className:"w-4 h-4 mr-2"}),"Enter Manually"]}),c.jsx(Ne,{variant:"secondary",onClick:r,className:"flex-1",children:"Cancel"})]})]})]})})}function sK(){const[,t]=ln(),{garage:e,user:r}=Mr(),{toast:n}=ci(),i=ra(),a=(r==null?void 0:r.role)==="mechanic_staff",[s,o]=C.useState(""),[l,u]=C.useState(!1),[d,f]=C.useState(!1),[p,h]=C.useState(null),[g,v]=C.useState(!1),[b,x]=C.useState(null),[w,_]=C.useState(""),[N,k]=C.useState(0),[D,T]=C.useState(1),[R,P]=C.useState(!1),[O,j]=C.useState(""),[E,L]=C.useState(null),B=700,te=8e3,re=C.useRef(0),[se,H]=C.useState(!1),[ne,ge]=C.useState(!1),[_e,U]=C.useState(!1),[W,Y]=C.useState({partNumber:"",name:"",price:"",costPrice:"0",quantity:"",lowStockThreshold:"2",barcode:""}),{data:ie=[],isLoading:ue}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts`)).json():[],enabled:!!(e!=null&&e.id)});Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts","low-stock"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts/low-stock`)).json():[],enabled:!!(e!=null&&e.id)});const ae=Dn({mutationFn:async G=>{if(!(e!=null&&e.id))throw new Error("No garage selected");return(await Ke("POST",`/api/garages/${e.id}/spare-parts`,G)).json()},onSuccess:()=>{n({title:"Success",description:"Spare part created successfully"}),i.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id]}),je()},onError:G=>{n({title:"Error",description:G instanceof Error?G.message:"Failed to create spare part",variant:"destructive"})}}),xe=Dn({mutationFn:async({id:G,data:de})=>{if(!(e!=null&&e.id))throw new Error("No garage selected");const Ae=await Ke("PUT",`/api/garages/${e.id}/spare-parts/${G}`,de);if(!Ae.ok){const Se=await Ae.json();throw new Error(Se.message||"Failed to update spare part")}return Ae.json()},onSuccess:()=>{n({title:"Success",description:"Spare part updated successfully"}),i.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id]}),je()},onError:G=>{n({title:"Error",description:G instanceof Error?G.message:"Failed to update spare part",variant:"destructive"})}}),ve=Dn({mutationFn:async G=>{if(!(e!=null&&e.id))throw new Error("No garage selected");return(await Ke("DELETE",`/api/garages/${e.id}/spare-parts/${G}`)).json()},onSuccess:()=>{n({title:"Success",description:"Spare part deleted successfully"}),i.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id]})},onError:G=>{n({title:"Error",description:G instanceof Error?G.message:"Failed to delete spare part",variant:"destructive"})}}),Ce=ie.filter(G=>{var Ae,Se,ke,Re,Fe,Ge;const de=((ke=(Se=(Ae=G.name)==null?void 0:Ae.toLowerCase)==null?void 0:Se.call(Ae))==null?void 0:ke.includes(s.toLowerCase()))||((Ge=(Fe=(Re=G.partNumber)==null?void 0:Re.toLowerCase)==null?void 0:Fe.call(Re))==null?void 0:Ge.includes(s.toLowerCase()));return l?de&&G.quantity<=G.lowStockThreshold:de}),je=()=>{Y({partNumber:"",name:"",price:"",costPrice:"0",quantity:"",lowStockThreshold:"2",barcode:""}),h(null),f(!1)},Le=G=>{var de,Ae,Se,ke;h(G),Y({partNumber:G.partNumber||"",name:G.name||"",price:((de=G.price)==null?void 0:de.toString())||"",costPrice:((Ae=G.costPrice)==null?void 0:Ae.toString())||"0",quantity:((Se=G.quantity)==null?void 0:Se.toString())||"",lowStockThreshold:((ke=G.lowStockThreshold)==null?void 0:ke.toString())||"2",barcode:G.barcode||""}),f(!0)},Ee=G=>{if(G.preventDefault(),!p||p&&p.partNumber!==W.partNumber){const Ae=ie.find(Se=>{var ke,Re,Fe,Ge;return((Re=(ke=Se.partNumber)==null?void 0:ke.toLowerCase)==null?void 0:Re.call(ke))===((Ge=(Fe=W.partNumber)==null?void 0:Fe.toLowerCase)==null?void 0:Ge.call(Fe))&&Se.id!==(p==null?void 0:p.id)});if(Ae){x(Ae),v(!0);return}}const de={partNumber:W.partNumber,name:W.name,price:W.price,costPrice:W.costPrice,quantity:parseInt(W.quantity),lowStockThreshold:parseInt(W.lowStockThreshold),barcode:W.barcode||null};p?xe.mutate({id:p.id,data:de}):ae.mutate(de)},me=()=>{if(!b)return;const G=N>0?D:parseInt(W.quantity),de=b.quantity+G,Ae={...b,quantity:de};xe.mutate({id:b.id,data:Ae}),v(!1),x(null),k(0),_(""),T(1),je();const Se=N>0?`Same code scanned ${N+1} times! Added total ${G} units to ${b.name}. New total: ${de}`:`Increased quantity of ${b.name} from ${b.quantity} to ${de}`;n({title:N>0?"Quantity Increased Again!":"Quantity Updated",description:Se})},Q=()=>{if(E){const G=E.quantity+1,de={...E,quantity:G};xe.mutate({id:E.id,data:de}),n({title:"Stock Updated!",description:`Added 1 unit to ${E.name}. New total: ${G}`})}else O&&Ye(O);P(!1),L(null),j("")},at=()=>{P(!1),L(null),j(""),n({title:"Scan Ignored",description:"Ready to scan again",variant:"default"})},wt=()=>{k(0),_(""),T(1),j("")},gt=G=>G.trim(),Ue=(G,de)=>de.find(Ae=>Ae.partNumber===G||Ae.barcode===G),pt=G=>{var ke,Re,Fe,Ge;let de=G.trim(),Ae="",Se="";if(G.includes("-")){const $e=G.split("-");if($e.length>=2){const cr=$e[0].trim(),Vt=$e.slice(1).join("-");let rt=Vt;if(Vt.includes("@")){const tr=Vt.split("@");rt=tr[0].trim(),Se=((ke=tr[1])==null?void 0:ke.trim())||""}else if(Vt.includes("_")){const tr=Vt.split("_");rt=tr[0].trim(),Se=((Re=tr[1])==null?void 0:Re.trim())||""}const kt=rt.match(/^\d+/);kt?(Ae=kt[0],de=cr):de=G.split("@")[0].split("_")[0].trim()}}if(!Ae){if(G.includes("@")){const $e=G.split("@");de=$e[0].trim(),Se=((Fe=$e[1])==null?void 0:Fe.trim())||""}else if(G.includes("_")){const $e=G.split("_");de=$e[0].trim(),Se=((Ge=$e[1])==null?void 0:Ge.trim())||""}}if(Se&&(Se=Se.replace(/[^\d.]/g,""),(Se.match(/\./g)||[]).length>1)){const cr=Se.indexOf(".");Se=Se.substring(0,cr+1)+Se.substring(cr+1).replace(/\./g,"")}return Ae&&(Ae=Ae.replace(/[^\d]/g,"")),{partNumber:de,quantity:Ae,sellingPrice:Se}},Ye=G=>{const de=Date.now();if(de-re.current<B)return;H(!1),ge(!1),U(!1);const Ae=gt(G);if(!Ae){n({title:"Invalid Code",description:"Scanned code is empty",variant:"destructive"});return}const{partNumber:Se,quantity:ke,sellingPrice:Re}=pt(Ae),Fe=parseInt(ke)||1,Ge=Ue(Se,ie);if(console.log("=== SCAN DEBUG ==="),console.log("Current code:",Ae),console.log("Last scanned code:",w),console.log("Time since last scan:",de-re.current,"ms"),console.log("Window limit:",te,"ms"),w&&Ae===w){console.log("REPEAT SCAN DETECTED - auto-incrementing quantity");const $e=N+1;k($e),Ge?(L(Ge),j(Ae),P(!0),n({title:`Repeat Scan ${$e+1}`,description:`${Ge.name}: Confirm to add +${Fe} more (Current: ${Ge.quantity})`,duration:3e3})):n({title:"Same Code Detected",description:`Unknown code scanned ${$e+1} times - no part to increment`,variant:"destructive"});return}console.log("NEW CODE PATH - setting up for future repeat detection"),_(Ae),k(0),T(1),re.current=de,Ge?(L(Ge),j(Ae),P(!0),n({title:"Part Already Exists",description:`${Ge.name} (Current: ${Ge.quantity}). Confirm to add +${Fe} more.`,duration:4e3})):(h(null),Y({partNumber:Se,name:"",price:Re||"",costPrice:"0",quantity:Fe.toString(),lowStockThreshold:"2",barcode:Ae}),f(!0),n({title:"New Part",description:`Code captured. ${Fe>1?`Qty ${Fe}. `:""}${Re?`Price ${Re}.`:""}Fill remaining details.`}))},ee=G=>{confirm(`Are you sure you want to delete "${G.name}"?`)&&ve.mutate(G.id)};return ue?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Spare Parts"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),c.jsx("span",{className:"text-muted-foreground",children:"Loading spare parts..."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Spare Parts"})]})}),c.jsxs("div",{className:"screen-content",children:[c.jsxs("div",{className:"flex space-x-2 mb-4",children:[c.jsx(cs,{open:d,onOpenChange:f,children:c.jsx(Zv,{asChild:!0,children:c.jsxs(Ne,{className:"flex-1",children:[c.jsx(dd,{className:"w-4 h-4 mr-2"}),"Add New Part"]})})}),c.jsx(Ne,{variant:"outline",size:"icon",onClick:()=>U(!0),className:"shrink-0",title:"Scan code",children:c.jsx(Ps,{className:"w-5 h-5"})})]}),N>0&&w&&c.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ps,{className:"w-4 h-4 text-blue-500"}),c.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Repeat Scans: ",N+1]})]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Code: ",w.substring(0,20),w.length>20?"...":""]})]}),c.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Each confirmation adds +1 to stock"})]}),c.jsx(cs,{open:d,onOpenChange:G=>{f(G)},children:c.jsxs(us,{className:"max-w-sm mx-auto",children:[c.jsx(ds,{children:c.jsxs(fs,{children:[p?"Edit":"Add New"," Spare Part"]})}),c.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"partNumber",children:"Part Number *"}),c.jsx(ft,{id:"partNumber",value:W.partNumber,onChange:G=>Y(de=>({...de,partNumber:G.target.value})),placeholder:"Enter unique part number",required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"name",children:"Part Name *"}),c.jsx(ft,{id:"name",value:W.name,onChange:G=>Y(de=>({...de,name:G.target.value})),placeholder:"Enter part name",required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"price",children:"Selling Price () *"}),c.jsx(ft,{id:"price",type:"number",step:"1",min:"0",value:W.price,onChange:G=>Y(de=>({...de,price:G.target.value})),className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"costPrice",children:"Cost Price ()"}),c.jsx(ft,{id:"costPrice",type:"number",step:"1",min:"0",value:W.costPrice,onChange:G=>Y(de=>({...de,costPrice:G.target.value})),className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},placeholder:"Purchase cost per unit"})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"quantity",children:"Quantity"}),c.jsx(ft,{id:"quantity",type:"number",min:"0",value:W.quantity,onChange:G=>Y(de=>({...de,quantity:G.target.value})),className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),c.jsx(ft,{id:"lowStockThreshold",type:"number",min:"0",value:W.lowStockThreshold,className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",style:{appearance:"textfield"},onChange:G=>Y(de=>({...de,lowStockThreshold:G.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"barcode",children:"Barcode (Optional)"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(ft,{id:"barcode",value:W.barcode,onChange:G=>Y(de=>({...de,barcode:G.target.value})),placeholder:"Scan or enter barcode",className:"flex-1"}),c.jsx(Ne,{type:"button",variant:"outline",size:"icon",onClick:()=>U(!0),className:"shrink-0",title:"Scan code",children:c.jsx(Ps,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ne,{type:"button",variant:"outline",onClick:je,className:"flex-1",children:"Cancel"}),c.jsx(Ne,{type:"submit",className:"flex-1",disabled:ae.isPending||xe.isPending,children:p?"Update":"Create"})]})]})]})}),c.jsxs("div",{className:"flex space-x-2 mb-4",children:[c.jsxs("div",{className:"flex-1 relative search-bar-container",children:[c.jsx(fd,{className:"search-icon w-4 h-4"}),c.jsx(ft,{type:"text",placeholder:"Search parts...",value:s,onChange:G=>o(G.target.value),className:"search-input"})]}),c.jsx(Ne,{variant:l?"default":"outline",onClick:()=>u(!l),className:l?"border-destructive bg-destructive text-destructive-foreground":"border-destructive text-destructive",children:c.jsx(xl,{className:"w-4 h-4"})})]}),Ce.length===0?c.jsx(He,{children:c.jsx(We,{className:"p-8 text-center",children:c.jsx("div",{className:"text-muted-foreground",children:s?"No parts found matching your search":"No spare parts yet"})})}):c.jsx("div",{className:"space-y-3",children:Ce.map(G=>c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h3",{className:"font-semibold",children:G.name}),c.jsxs(si,{variant:"secondary",className:"text-xs",children:["#",G.partNumber]})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Price: ",Number(G.price).toFixed(2)]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Stock:"}),c.jsx("span",{className:`text-sm font-medium ${G.quantity<=G.lowStockThreshold?"text-destructive":"text-foreground"}`,children:G.quantity})]}),c.jsx("div",{className:`w-2 h-2 rounded-full ${G.quantity<=G.lowStockThreshold?"bg-destructive":"bg-green-500"}`}),G.quantity<=G.lowStockThreshold&&c.jsx(si,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})]}),c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>Le(G),className:"px-3 py-1 text-xs",children:[c.jsx(Zb,{className:"w-3 h-3 mr-1"}),"Edit"]}),!a&&c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>ee(G),className:"px-3 py-1 text-xs text-destructive border-destructive hover:bg-destructive/10",disabled:ve.isPending,children:[c.jsx(Kb,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})})},G.id))}),c.jsx(aK,{isOpen:se,onClose:()=>{H(!1),wt()},onScan:Ye}),c.jsx(D3,{isOpen:_e,onClose:()=>{U(!1),wt()},onScan:Ye}),c.jsx(rg,{open:R,onOpenChange:P,children:c.jsxs(b0,{children:[c.jsxs(_0,{children:[c.jsxs(S0,{className:"flex items-center space-x-2",children:[c.jsx(Ps,{className:"w-5 h-5 text-blue-500"}),c.jsx("span",{children:"Same Code Scanned Again!"})]}),c.jsx(A0,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:["You scanned the same code"," ",c.jsxs("strong",{children:[N+1," times"]}),".",E&&c.jsx("span",{children:" Confirm to add +1 unit to stock."})]}),E?c.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:E.name}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Part Number: ",E.partNumber]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Current Stock: ",E.quantity]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Price: ",E.price]})]}):c.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[c.jsxs("div",{className:"font-medium text-amber-900 dark:text-amber-100",children:["Unknown Code: ",O]}),c.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"This code is not in your inventory yet"})]}),E&&c.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800",children:[c.jsx("div",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Quantity to Add: +1"}),c.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300",children:["New Total: ",E.quantity+1]})]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:E?"Would you like to add 1 unit to stock?":"Would you like to process this code normally?"})]})})]}),c.jsxs(N0,{children:[c.jsx(ng,{onClick:at,children:"No, Ignore Scan"}),c.jsx(nh,{onClick:Q,children:E?"Yes, Add +1 to Stock":"Yes, Process Code"})]})]})}),c.jsx(rg,{open:g,onOpenChange:v,children:c.jsxs(b0,{children:[c.jsxs(_0,{children:[c.jsx(S0,{className:"flex items-center space-x-2",children:N>0?c.jsxs(c.Fragment,{children:[c.jsx(Ps,{className:"w-5 h-5 text-blue-500"}),c.jsx("span",{children:"Same Code Spotted Again!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(xl,{className:"w-5 h-5 text-destructive"}),c.jsx("span",{children:"Duplicate Part Number Detected"})]})}),c.jsx(A0,{children:N>0?c.jsxs(c.Fragment,{children:["You scanned the same code again. The part already exists:",c.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:b==null?void 0:b.name}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Part Number: ",b==null?void 0:b.partNumber]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Current quantity: ",b==null?void 0:b.quantity]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Price: ",b==null?void 0:b.price]})]}),c.jsxs("div",{className:"mt-3 text-blue-800 dark:text-blue-200",children:["Total scans: ",N+1," | Total quantity to add:"," ",D,c.jsx("br",{}),"Would you like to add all ",D," units?"]})]}):c.jsxs(c.Fragment,{children:['A spare part with part number "',W.partNumber,'" already exists:',c.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[c.jsx("strong",{children:b==null?void 0:b.name}),c.jsx("br",{}),"Current quantity: ",b==null?void 0:b.quantity,c.jsx("br",{}),"Price: ",b==null?void 0:b.price]}),c.jsx("br",{}),"Instead of creating a duplicate, would you like to increase the quantity by ",W.quantity,"?"]})})]}),c.jsxs(N0,{children:[c.jsx(ng,{onClick:()=>{v(!1),wt()},children:"Cancel"}),c.jsx(nh,{onClick:me,className:"bg-primary hover:bg-primary/90",children:N>0?`Yes, Add All ${D}`:"Increase Quantity"})]})]})})]})]})}function oK({onFilterChange:t,isLoading:e}){const[r,n]=C.useState("monthly"),[i,a]=C.useState(""),[s,o]=C.useState(""),l=()=>{if(r==="custom"&&i&&s)t({period:r,startDate:i,endDate:s});else if(r!=="custom"){const d=new Date;let f=new Date;switch(r){case"daily":f.setDate(d.getDate()-6);break;case"weekly":f.setDate(d.getDate()-7*12);break;case"monthly":f.setMonth(d.getMonth()-12);break;case"quarterly":f.setFullYear(d.getFullYear()-2);break;case"yearly":f.setFullYear(d.getFullYear()-5);break}const p=f.toISOString().split("T")[0],h=d.toISOString().split("T")[0];console.log(`Filter applied: ${r}, ${p} to ${h}`),t({period:r,startDate:p,endDate:h})}},u=d=>{n(d),d!=="custom"&&setTimeout(()=>{const f=new Date;let p=new Date;switch(d){case"daily":p.setDate(f.getDate()-6);break;case"weekly":p.setDate(f.getDate()-7*12);break;case"monthly":p.setMonth(f.getMonth()-12);break;case"quarterly":p.setFullYear(f.getFullYear()-2);break;case"yearly":p.setFullYear(f.getFullYear()-5);break}const h=p.toISOString().split("T")[0],g=f.toISOString().split("T")[0];console.log(`Auto-filter applied: ${d}, ${h} to ${g}`),t({period:d,startDate:h,endDate:g})},100)};return c.jsx(He,{className:"mb-6",children:c.jsx(We,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Hb,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Date Range Filter"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"period",children:"Period"}),c.jsxs(x0,{value:r,onValueChange:u,children:[c.jsx(eh,{children:c.jsx(y0,{placeholder:"Select period"})}),c.jsxs(th,{children:[c.jsx(es,{value:"daily",children:"Daily"}),c.jsx(es,{value:"weekly",children:"Weekly"}),c.jsx(es,{value:"monthly",children:"Monthly"}),c.jsx(es,{value:"quarterly",children:"Quarterly"}),c.jsx(es,{value:"yearly",children:"Yearly"}),c.jsx(es,{value:"custom",children:"Custom Range"})]})]})]}),r==="custom"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"start-date",children:"Start Date"}),c.jsx(ft,{id:"start-date",type:"date",value:i,onChange:d=>a(d.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Et,{htmlFor:"end-date",children:"End Date"}),c.jsx(ft,{id:"end-date",type:"date",value:s,onChange:d=>o(d.target.value)})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(Ne,{onClick:l,disabled:e||!i||!s,className:"w-full",children:[c.jsx(Qu,{className:"w-4 h-4 mr-2"}),"Apply Filter"]})})]})]}),r!=="custom"&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing data for the last ",r==="daily"?"30 days":r==="weekly"?"12 weeks":r==="monthly"?"12 months":r==="quarterly"?"4 quarters":"5 years"]})]})})})}function lK({title:t,type:e,isOpen:r,onClose:n,data:i,onFilterChange:a,isLoading:s=!1}){if(!r)return null;const o=d=>{const f=String(d||"");if(f&&f.match&&f.match(/^\d{4}-\d{2}-\d{2} \d{2}:00$/))return new Date(f.replace(" ","T")+":00").toLocaleTimeString("en-US",{hour:"numeric",hour12:!0});if(f&&f.match&&f.match(/^\d{4}-\d{2}-\d{2}$/))return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"});if(f&&f.match&&f.match(/^\d{4}-\d{2}$/)){const[p,h]=f.split("-");return new Date(parseInt(p),parseInt(h)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(f&&f.match&&f.match(/^\d{4}-Q[1-4]$/)){const[p,h]=f.split("-");return`${h} ${p}`}return f&&f.match&&f.match(/^\d{4}$/)?f:f||"Unknown"},l=d=>{let f;switch(e){case"service":f=d.serviceCharges||0;break;case"parts":f=d.partsRevenue||0;break;case"profit":f=d.profit||0;break;default:f=d.totalSales||0}return Number(f)||0},u=i.length>0&&Math.max(...i.map(l).filter(d=>!isNaN(d)&&d>0))||1;return c.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",children:c.jsxs("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-6xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ne,{variant:"ghost",size:"sm",onClick:n,children:c.jsx(Pr,{className:"w-4 h-4"})}),c.jsx("h2",{className:"text-xl font-semibold",children:t})]}),c.jsx(Ne,{variant:"ghost",size:"sm",onClick:n,children:c.jsx(mh,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:[c.jsx(oK,{onFilterChange:a,isLoading:s}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{children:[e==="service"?"Service Revenue":e==="parts"?"Spares Revenue":"Profit"," Breakdown"]})}),c.jsx(We,{children:s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.length===0?c.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"No data available for the selected period"}):c.jsxs("div",{className:"w-full bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[c.jsxs("div",{className:"flex",children:[c.jsxs("div",{className:"flex flex-col justify-between h-80 pr-4 text-xs text-gray-600 dark:text-gray-400 w-16",children:[c.jsxs("span",{children:["",(Number(u)||0).toLocaleString()]}),c.jsxs("span",{children:["",(Math.round((Number(u)||0)*.75)||0).toLocaleString()]}),c.jsxs("span",{children:["",(Math.round((Number(u)||0)*.5)||0).toLocaleString()]}),c.jsxs("span",{children:["",(Math.round((Number(u)||0)*.25)||0).toLocaleString()]}),c.jsx("span",{children:"0"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto max-h-80",children:c.jsx("div",{className:"space-y-6",children:(()=>{const d=[];for(let p=0;p<i.length;p+=7){const h=i.slice(p,p+7);d.push(c.jsxs("div",{className:"min-h-80",children:[c.jsx("div",{className:"flex items-end justify-start space-x-4 h-72 py-4",children:h.map((g,v)=>{const b=l(g),x=u>0?Math.max(20,b/u*200):20;return c.jsxs("div",{className:"flex flex-col items-center relative group",style:{minWidth:"80px"},children:[c.jsxs("div",{className:"relative mb-3",style:{height:`${x}px`},children:[c.jsxs("div",{className:"w-12 h-full relative rounded-t-lg overflow-hidden shadow-lg transition-shadow duration-300 group-hover:shadow-xl",style:{background:`linear-gradient(135deg, 
                                                rgba(59, 130, 246, 0.9) 0%,
                                                rgba(37, 99, 235, 0.95) 25%,
                                                rgba(59, 130, 246, 0.85) 50%,
                                                rgba(29, 78, 216, 0.9) 75%,
                                                rgba(37, 99, 235, 0.95) 100%)`,boxShadow:`
                                                0 8px 32px rgba(59, 130, 246, 0.3),
                                                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                                                inset 0 -1px 0 rgba(0, 0, 0, 0.1),
                                                inset 1px 0 0 rgba(255, 255, 255, 0.2),
                                                inset -1px 0 0 rgba(0, 0, 0, 0.1)
                                              `,transform:"perspective(1000px) rotateX(5deg)"},children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1/3 rounded-t-lg",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.2) 100%)"}}),c.jsx("div",{className:"absolute top-0 left-1 w-1 h-full rounded-full",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, transparent 50%)"}})]}),c.jsx("div",{className:"absolute top-1 w-12 h-full rounded-t-lg",style:{right:"-4px",background:`linear-gradient(135deg, 
                                                rgba(29, 78, 216, 0.7) 0%,
                                                rgba(37, 99, 235, 0.8) 50%,
                                                rgba(29, 78, 216, 0.9) 100%)`,transform:"perspective(1000px) rotateY(-45deg) rotateX(5deg) skewY(-5deg)",zIndex:-1,filter:"blur(0.5px)"}}),c.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-14 h-2 rounded-full",style:{background:"radial-gradient(ellipse, rgba(0, 0, 0, 0.3) 0%, transparent 70%)",filter:"blur(2px)"}})]}),c.jsx("div",{className:"text-center mb-2",children:c.jsxs("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:["",Number(b||0).toLocaleString()]})}),c.jsx("div",{className:"text-xs text-muted-foreground text-center max-w-[80px] leading-tight",children:o(g.period)})]},g.period)})}),p+7<i.length&&c.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-slate-300 dark:via-slate-600 to-transparent mt-4"})]},p))}return d})()})})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Time Period"})})]})})]}),!s&&i.length>0&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(He,{children:c.jsxs(We,{className:"p-4 text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",(Number(i.reduce((d,f)=>d+l(f),0))||0).toLocaleString()]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})}),c.jsx(He,{children:c.jsxs(We,{className:"p-4 text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",(Number(Math.round((i.reduce((d,f)=>d+l(f),0)||0)/(i.length||1)))||0).toLocaleString()]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Average"})]})}),c.jsx(He,{children:c.jsxs(We,{className:"p-4 text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",(Number(Math.max(...i.map(l).filter(d=>!isNaN(d))))||0).toLocaleString()]}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Highest"})]})}),c.jsx(He,{children:c.jsxs(We,{className:"p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Data Points"})]})})]})]})]})})}function cK(){const[,t]=ln(),{garage:e,user:r}=Mr();if((r==null?void 0:r.role)==="mechanic_staff")return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Sales & Analytics"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-16 h-16 mx-auto bg-destructive/10 rounded-full flex items-center justify-center",children:c.jsx(h0,{className:"w-8 h-8 text-destructive"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Access Restricted"}),c.jsx("p",{className:"text-muted-foreground max-w-md",children:"Sales and financial data are only available to garage administrators. Please contact your garage admin for access to this information."})]}),c.jsx(Ne,{variant:"outline",onClick:()=>t("/dashboard"),className:"mt-4",children:"Return to Dashboard"})]})})]});const[i,a]=C.useState(!1),[s,o]=C.useState(null),[l,u]=C.useState([]),[d,f]=C.useState(!1),{data:p,isLoading:h}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","stats"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/sales/stats`)).json():null,enabled:!!(e!=null&&e.id)}),{data:g,isLoading:v}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","today"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/sales/today`)).json():null,enabled:!!(e!=null&&e.id)}),{data:b=[],isLoading:x}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"invoices"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/invoices`)).json():[],enabled:!!(e!=null&&e.id)}),{data:w=[],isLoading:_}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","monthly"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/sales/monthly`)).json():[],enabled:!!(e!=null&&e.id)}),{data:N=0}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"notifications","unread-count"],queryFn:async()=>e!=null&&e.id?(await(await Ke("GET",`/api/garages/${e.id}/notifications/unread-count`)).json()).count:0,enabled:!!(e!=null&&e.id),refetchInterval:3e4}),k=O=>{if(!O||O==="Invalid Date")return"Invalid Date";const j=new Date(O);return isNaN(j.getTime())?"Invalid Date":j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},D=async O=>{if(!(!(e!=null&&e.id)||!O.startDate||!O.endDate)){f(!0);try{let j;switch(O.period){case"daily":j="day";break;case"weekly":j="week";break;case"monthly":j="month";break;case"quarterly":j="quarter";break;case"yearly":j="year";break;case"custom":const te=new Date(O.startDate),re=new Date(O.endDate),se=Math.ceil((re.getTime()-te.getTime())/(1e3*60*60*24));se===0?j="hour":se<=31?j="day":se<=365?j="month":j="year";break;default:j="month"}console.log(`Fetching analytics: ${O.startDate} to ${O.endDate}, groupBy: ${j}`);const L=await(await Ke("GET",`/api/garages/${e.id}/sales/analytics?startDate=${O.startDate}&endDate=${O.endDate}&groupBy=${j}`)).json();console.log("Analytics data received:",L);const B=L.map(te=>({period:te.date||te.period||"",totalSales:Number(te.revenue||te.totalSales||0),serviceCharges:Number(te.serviceCharges||0),partsRevenue:Number(te.partsRevenue||0),profit:Number(te.profit||te.serviceCharges||0),invoiceCount:Number(te.count||te.invoiceCount||0)}));u(B)}catch(j){console.error("Failed to fetch analytics data:",j),u([])}finally{f(!1)}}},T=async O=>{o(O);const j=new Date().toISOString().split("T")[0],E=new Date;E.setMonth(E.getMonth()-6),await D({period:"monthly",startDate:E.toISOString().split("T")[0],endDate:j})},R=async O=>{await D(O)},P=w.map(O=>({name:O.month.substring(0,3),amount:O.serviceCharges,percentage:Math.round(O.serviceCharges/((p==null?void 0:p.totalServiceCharges)||1)*100)})).reverse();return h||x||_?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Service Charges & Analytics"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Service Charges & Analytics"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Ne,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 relative",onClick:()=>a(!0),children:[c.jsx(f0,{className:"w-5 h-5"}),N>0&&c.jsx("div",{className:"notification-badge",children:N>99?"99+":N})]}),c.jsx(Ne,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:c.jsx(Hb,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"screen-content space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Invoices"}),c.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.totalInvoices)||0})]}),c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(Vs,{className:"text-primary w-6 h-6"})})]})})}),c.jsx(He,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>T("profit"),children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Total Profit (All Invoices)"}),c.jsxs("p",{className:"text-2xl font-bold success-text",children:["",Number((p==null?void 0:p.totalProfit)||0).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[c.jsx(Rx,{className:"w-3 h-3 mr-1"}),"Click to view analytics"]})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:c.jsx(Zg,{className:"text-green-600 dark:text-green-400 w-6 h-6"})})]})})}),c.jsx(He,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>T("service"),children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Service Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",Number((p==null?void 0:p.totalServiceCharges)||0).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[c.jsx(Rx,{className:"w-3 h-3 mr-1"}),"Click to view analytics"]})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:c.jsx(p0,{className:"text-blue-600 dark:text-blue-400 w-6 h-6"})})]})})}),c.jsx(He,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>T("parts"),children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Spares Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",Number((p==null?void 0:p.totalPartsTotal)||0).toLocaleString()]}),c.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[c.jsx(Rx,{className:"w-3 h-3 mr-1"}),"Click to view analytics"]})]}),c.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:c.jsx(Xc,{className:"text-green-600 dark:text-green-400 w-6 h-6"})})]})})}),c.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg p-4 border",children:[c.jsx("h3",{className:"text-lg font-semibold text-purple-800 dark:text-purple-200 mb-3",children:"Today's Sales"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300",children:"Today's Profit"}),c.jsxs("p",{className:"text-xl font-bold text-purple-800 dark:text-purple-200",children:["",Number((g==null?void 0:g.todayProfit)||0).toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300",children:"Today's Invoices"}),c.jsx("p",{className:"text-xl font-bold text-purple-800 dark:text-purple-200",children:(g==null?void 0:g.todayInvoices)||0})]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:["Today's Service: ",Number((g==null?void 0:g.todayServiceCharges)||0).toLocaleString()," | Parts: ",Number((g==null?void 0:g.todayPartsTotal)||0).toLocaleString()]})})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Monthly Service Charges"})}),c.jsx(We,{children:c.jsx("div",{className:"space-y-3",children:P.map((O,j)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:O.name}),c.jsx("div",{className:"flex-1 mx-3",children:c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${O.percentage}%`}})})}),c.jsxs("span",{className:"text-sm font-medium",children:["",Number(O.amount||0).toLocaleString()]})]},j))})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Recent Transactions"})}),c.jsx(We,{children:b.length===0?c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No transactions yet"}):c.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(O=>c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Invoice #",O.invoice_number||O.invoiceNumber||"N/A"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:k(O.created_at||O.createdAt)})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-medium",children:["",Number(O.total_amount||O.totalAmount||0).toLocaleString()]})})]},O.id))})})]})]}),c.jsx(lK,{title:s==="service"?"Service Revenue":s==="parts"?"Spares Revenue":"Profit",type:s||"service",isOpen:!!s,onClose:()=>o(null),data:l,onFilterChange:R,isLoading:d}),c.jsx(E3,{isOpen:i,onClose:()=>a(!1)})]})}function uK({currentLogoUrl:t,onLogoUpdated:e}){const[r,n]=C.useState(!1),[i,a]=C.useState(null),{garage:s}=Mr(),{toast:o}=ci(),l=ra(),u=Dn({mutationFn:async g=>{if(!(s!=null&&s.id))throw new Error("No garage found");return(await Ke("PUT",`/api/garages/${s.id}`,{logo:g})).json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/user/profile"]}),o({title:"Success",description:"Logo updated successfully!"})},onError:g=>{console.error("Logo update error:",g),o({title:"Error",description:"Failed to update logo. Please try again.",variant:"destructive"})}}),d=async g=>{const v=new FormData;v.append("logo",g),console.log(" Uploading to server:",g.name,g.size,"bytes");const b=await fetch(`/api/garages/${s==null?void 0:s.id}/upload-logo`,{method:"POST",body:v,headers:{Authorization:`Bearer ${localStorage.getItem("auth-token")}`}});if(!b.ok){const w=await b.text();throw console.error(" Server Upload Error:",w),new Error(`Failed to upload image: ${b.status} ${b.statusText}`)}const x=await b.json();return console.log(" Upload Success:",x.logoUrl),x.logoUrl},f=async g=>{var b;const v=(b=g.target.files)==null?void 0:b[0];if(v){if(!v.type.startsWith("image/")){o({title:"Invalid File",description:"Please select an image file (PNG, JPG, etc.)",variant:"destructive"});return}if(v.size>5*1024*1024){o({title:"File Too Large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}n(!0);try{const x=URL.createObjectURL(v);a(x);const w=await d(v);await u.mutateAsync(w),URL.revokeObjectURL(x),a(null),e==null||e(w)}catch(x){console.error("Upload error:",x);let w="Failed to upload logo. Please try again.";x instanceof Error&&(x.message.includes("format")&&x.message.includes("not allowed")?w="This image format is not supported. Please try uploading a PNG file instead.":x.message.includes("Cloudinary configuration missing")?w="Upload service not configured. Please contact support.":w=x.message),o({title:"Upload Failed",description:w,variant:"destructive"}),i&&(URL.revokeObjectURL(i),a(null))}finally{n(!1)}}},p=async()=>{if(s!=null&&s.id)try{await u.mutateAsync(""),e==null||e(""),o({title:"Success",description:"Logo removed successfully!"})}catch(g){console.error("Remove logo error:",g),o({title:"Error",description:"Failed to remove logo. Please try again.",variant:"destructive"})}},h=i||t;return c.jsx(He,{children:c.jsx(We,{className:"p-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Garage Logo"}),h&&!r&&c.jsx(si,{variant:"secondary",className:"success-bg success-text",children:"Logo Set"})]}),h?c.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg p-4 min-h-32",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:h,alt:"Garage Logo",className:"max-h-24 max-w-48 object-contain rounded"}),r&&c.jsx("div",{className:"absolute inset-0 bg-black/50 rounded flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]})}):c.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg p-8 min-h-32",children:c.jsxs("div",{className:"text-center text-muted-foreground",children:[c.jsx(eM,{className:"mx-auto h-12 w-12 mb-2"}),c.jsx("p",{className:"text-sm",children:"No logo uploaded"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden",disabled:r,id:"logo-upload-input"}),c.jsxs(Ne,{type:"button",variant:"outline",className:"w-full",disabled:r,onClick:()=>{const g=document.getElementById("logo-upload-input");g&&g.click()},children:[c.jsx(iM,{className:"w-4 h-4 mr-2"}),r?"Uploading...":h?"Change Logo":"Upload Logo"]})]}),h&&!r&&c.jsx(Ne,{type:"button",variant:"outline",size:"icon",onClick:p,disabled:u.isPending,children:c.jsx(mh,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.jsx("p",{children:" Recommended size: 200x100px or similar ratio"}),c.jsx("p",{children:" Maximum file size: 5MB"}),c.jsx("p",{children:" Supported formats: PNG, JPG, JPEG, GIF"})]})]})})})}function dK(){var E;const[,t]=ln(),{user:e,garage:r,logout:n}=Mr(),{theme:i,toggleTheme:a}=hd(),{toast:s}=ci(),o=ra(),[l,u]=C.useState(!1),[d,f]=C.useState(!1),[p,h]=C.useState({name:(r==null?void 0:r.name)||"",ownerName:(r==null?void 0:r.ownerName)||"",phone:(r==null?void 0:r.phone)||"",email:(r==null?void 0:r.email)||""}),[g,v]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[b,x]=C.useState(!1),[w,_]=C.useState(!1),[N,k]=C.useState(!1),D=Dn({mutationFn:async L=>{if(!(r!=null&&r.id))throw new Error("No garage selected");return(await Ke("PUT",`/api/garages/${r.id}`,L)).json()},onSuccess:()=>{s({title:"Success",description:"Profile updated successfully"}),o.invalidateQueries({queryKey:["/api/user/profile"]}),u(!1)},onError:L=>{s({title:"Error",description:L instanceof Error?L.message:"Failed to update profile",variant:"destructive"})}}),T=(e==null?void 0:e.role)==="garage_admin",R=L=>{L.preventDefault(),D.mutate(p)},P=Dn({mutationFn:async L=>Ke("POST","/api/auth/change-password",L),onSuccess:()=>{s({title:"Success",description:"Password changed successfully"}),f(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},onError:L=>{s({title:"Error",description:L.message||"Failed to change password",variant:"destructive"})}}),O=L=>{if(L.preventDefault(),g.newPassword!==g.confirmPassword){s({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(g.newPassword.length<8){s({title:"Error",description:"Password must be at least 8 characters long",variant:"destructive"});return}if(!/[A-Z]/.test(g.newPassword)){s({title:"Error",description:"Password must contain at least one uppercase letter",variant:"destructive"});return}if(!/[a-z]/.test(g.newPassword)){s({title:"Error",description:"Password must contain at least one lowercase letter",variant:"destructive"});return}if(!/[0-9]/.test(g.newPassword)){s({title:"Error",description:"Password must contain at least one number",variant:"destructive"});return}if(g.newPassword===g.currentPassword){s({title:"Error",description:"New password cannot be the same as your current password",variant:"destructive"});return}P.mutate({currentPassword:g.currentPassword,newPassword:g.newPassword})},j=()=>{confirm("Are you sure you want to logout?")&&(n(),t("/login"))};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"screen-header",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Profile"})]}),T&&c.jsxs(cs,{open:l,onOpenChange:u,children:[c.jsx(Zv,{asChild:!0,children:c.jsx(Ne,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:c.jsx(Zb,{className:"w-5 h-5"})})}),c.jsxs(us,{className:"max-w-sm mx-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Edit Profile"})}),c.jsxs("form",{onSubmit:R,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"garageName",children:"Garage Name"}),c.jsx(ft,{id:"garageName",value:p.name,onChange:L=>h(B=>({...B,name:L.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"ownerName",children:"Owner Name"}),c.jsx(ft,{id:"ownerName",value:p.ownerName,onChange:L=>h(B=>({...B,ownerName:L.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"phone",children:"Phone"}),c.jsx(ft,{id:"phone",type:"tel",value:p.phone,onChange:L=>h(B=>({...B,phone:L.target.value})),required:!0})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"email",children:"Email"}),c.jsx(ft,{id:"email",type:"email",value:p.email,onChange:L=>h(B=>({...B,email:L.target.value})),required:!0})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ne,{type:"button",variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"}),c.jsxs(Ne,{type:"submit",className:"flex-1",disabled:D.isPending,children:[c.jsx(Yb,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})]})]})]}),c.jsxs("div",{className:"screen-content space-y-4",children:[c.jsx(He,{children:c.jsxs(We,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto bg-primary/10 rounded-full flex items-center justify-center mb-4 overflow-hidden",children:r!=null&&r.logo?c.jsx("img",{src:r.logo,alt:"Garage Logo",className:"w-full h-full object-cover rounded-full"}):c.jsx(Xc,{className:"text-primary w-10 h-10"})}),c.jsx("h3",{className:"text-xl font-bold",children:(r==null?void 0:r.name)||"GarageGuru"}),c.jsx("p",{className:"text-muted-foreground",children:(E=e==null?void 0:e.role)==null?void 0:E.replace("_"," ")})]})}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Garage Information"})}),c.jsxs(We,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Owner Name"}),c.jsx("span",{className:"font-medium",children:(r==null?void 0:r.ownerName)||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Phone"}),c.jsx("span",{className:"font-medium",children:(r==null?void 0:r.phone)||"N/A"})]}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Email"}),c.jsx("span",{className:"font-medium",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)})]}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Joined"}),c.jsx("span",{className:"font-medium",children:r!=null&&r.createdAt?new Date(r.createdAt).toLocaleDateString():"N/A"})]})]})]}),T?c.jsx(uK,{currentLogoUrl:(r==null?void 0:r.logo)||"",onLogoUpdated:L=>{}}):(r==null?void 0:r.logo)&&c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Garage Logo"})}),c.jsxs(We,{className:"text-center",children:[c.jsx("img",{src:r.logo,alt:"Garage logo",className:"mx-auto h-24 w-24 object-contain rounded-lg border-2 border-dashed border-muted-foreground/20"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Logo can only be changed by garage admin"})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{children:"Settings"})}),c.jsxs(We,{className:"space-y-3",children:[c.jsxs(cs,{open:d,onOpenChange:f,children:[c.jsx(Zv,{asChild:!0,children:c.jsxs("button",{className:"w-full flex items-center justify-between py-3 text-left",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(h0,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("span",{children:"Change Password"})]}),c.jsx(Pr,{className:"w-4 h-4 text-muted-foreground rotate-180"})]})}),c.jsxs(us,{className:"max-w-sm mx-auto",children:[c.jsx(ds,{children:c.jsx(fs,{children:"Change Password"})}),c.jsxs("form",{onSubmit:O,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"currentPassword",children:"Current Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"currentPassword",type:b?"text":"password",value:g.currentPassword,onChange:L=>v(B=>({...B,currentPassword:L.target.value})),required:!0}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!b),children:b?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"newPassword",children:"New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"newPassword",type:w?"text":"password",value:g.newPassword,onChange:L=>v(B=>({...B,newPassword:L.target.value})),required:!0}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!w),children:w?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Password must contain:",c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsx("li",{children:"At least 8 characters"}),c.jsx("li",{children:"One uppercase letter"}),c.jsx("li",{children:"One lowercase letter"}),c.jsx("li",{children:"One number"})]})]})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"confirmPassword",type:N?"text":"password",value:g.confirmPassword,onChange:L=>v(B=>({...B,confirmPassword:L.target.value})),required:!0}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>k(!N),children:N?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Ne,{type:"button",variant:"outline",onClick:()=>f(!1),className:"flex-1",children:"Cancel"}),c.jsx(Ne,{type:"submit",className:"flex-1",disabled:P.isPending,children:P.isPending?"Updating...":"Update Password"})]})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[i==="dark"?c.jsx(Pc,{className:"w-5 h-5 text-muted-foreground"}):c.jsx(Oc,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("span",{children:"Dark Mode"})]}),c.jsxs("button",{onClick:a,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${i==="dark"?"bg-primary":"bg-gray-300"}`,children:[c.jsx("span",{className:"sr-only",children:"Toggle dark mode"}),c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${i==="dark"?"translate-x-6":"translate-x-1"}`})]})]}),c.jsxs("button",{onClick:j,className:"w-full flex items-center justify-between py-3 text-destructive",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ij,{className:"w-5 h-5"}),c.jsx("span",{children:"Logout"})]}),c.jsx(Pr,{className:"w-4 h-4 rotate-180"})]})]})]})]})]})}var X3="Switch",[fK,zJ]=Gs(X3),[hK,pK]=fK(X3),IT=C.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=t,[p,h]=C.useState(null),g=ar(e,_=>h(_)),v=C.useRef(!1),b=p?d||!!p.closest("form"):!0,[x=!1,w]=Ku({prop:i,defaultProp:a,onChange:u});return c.jsxs(hK,{scope:r,checked:x,disabled:o,children:[c.jsx(Ot.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":OT(x),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:vt(t.onClick,_=>{w(N=>!N),b&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),b&&c.jsx(mK,{control:p,bubbles:!v.current,name:n,value:l,checked:x,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});IT.displayName=X3;var TT="SwitchThumb",PT=C.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=pK(TT,r);return c.jsx(Ot.span,{"data-state":OT(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});PT.displayName=TT;var mK=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=C.useRef(null),s=O7(r),o=jj(e);return C.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==r&&f){const p=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(p)}},[s,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function OT(t){return t?"checked":"unchecked"}var RT=IT,vK=PT;const Y3=C.forwardRef(({className:t,...e},r)=>c.jsx(RT,{className:bt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:c.jsx(vK,{className:bt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Y3.displayName=RT.displayName;var Ty="rovingFocusGroup.onEntryFocus",gK={bubbles:!1,cancelable:!0},g2="RovingFocusGroup",[P5,DT,xK]=Ub(g2),[yK,LT]=Gs(g2,[xK]),[wK,bK]=yK(g2),MT=C.forwardRef((t,e)=>c.jsx(P5.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(P5.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(_K,{...t,ref:e})})}));MT.displayName=g2;var _K=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,p=C.useRef(null),h=ar(e,p),g=i2(a),[v=null,b]=Ku({prop:s,defaultProp:o,onChange:l}),[x,w]=C.useState(!1),_=jn(u),N=DT(r),k=C.useRef(!1),[D,T]=C.useState(0);return C.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(Ty,_),()=>R.removeEventListener(Ty,_)},[_]),c.jsx(wK,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(R=>b(R),[b]),onItemShiftTab:C.useCallback(()=>w(!0),[]),onFocusableItemAdd:C.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:C.useCallback(()=>T(R=>R-1),[]),children:c.jsx(Ot.div,{tabIndex:x||D===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:vt(t.onMouseDown,()=>{k.current=!0}),onFocus:vt(t.onFocus,R=>{const P=!k.current;if(R.target===R.currentTarget&&P&&!x){const O=new CustomEvent(Ty,gK);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const j=N().filter(re=>re.focusable),E=j.find(re=>re.active),L=j.find(re=>re.id===v),te=[E,L,...j].filter(Boolean).map(re=>re.ref.current);UT(te,d)}}k.current=!1}),onBlur:vt(t.onBlur,()=>w(!1))})})}),FT="RovingFocusGroupItem",BT=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...s}=t,o=_c(),l=a||o,u=bK(FT,r),d=u.currentTabStopId===l,f=DT(r),{onFocusableItemAdd:p,onFocusableItemRemove:h}=u;return C.useEffect(()=>{if(n)return p(),()=>h()},[n,p,h]),c.jsx(P5.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:c.jsx(Ot.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:vt(t.onMouseDown,g=>{n?u.onItemFocus(l):g.preventDefault()}),onFocus:vt(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:vt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=AK(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const w=x.indexOf(g.currentTarget);x=u.loop?CK(x,w+1):x.slice(w+1)}setTimeout(()=>UT(x))}})})})});BT.displayName=FT;var NK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function AK(t,e,r){const n=SK(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return NK[n]}function UT(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function CK(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var EK=MT,jK=BT,Z3="Tabs",[kK,VJ]=Gs(Z3,[LT]),zT=LT(),[IK,K3]=kK(Z3),VT=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=i2(o),[f,p]=Ku({prop:n,onChange:i,defaultProp:a});return c.jsx(IK,{scope:r,baseId:_c(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:l,children:c.jsx(Ot.div,{dir:d,"data-orientation":s,...u,ref:e})})});VT.displayName=Z3;var qT="TabsList",$T=C.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=K3(qT,r),s=zT(r);return c.jsx(EK,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Ot.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});$T.displayName=qT;var HT="TabsTrigger",WT=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=K3(HT,r),o=zT(r),l=YT(s.baseId,n),u=ZT(s.baseId,n),d=n===s.value;return c.jsx(jK,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(Ot.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:vt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:vt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:vt(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});WT.displayName=HT;var GT="TabsContent",XT=C.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=K3(GT,r),l=YT(o.baseId,n),u=ZT(o.baseId,n),d=n===o.value,f=C.useRef(d);return C.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Xs,{present:i||d,children:({present:p})=>c.jsx(Ot.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});XT.displayName=GT;function YT(t,e){return`${t}-trigger-${e}`}function ZT(t,e){return`${t}-content-${e}`}var TK=VT,KT=$T,QT=WT,JT=XT;const PK=TK,eP=C.forwardRef(({className:t,...e},r)=>c.jsx(KT,{ref:r,className:bt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));eP.displayName=KT.displayName;const uv=C.forwardRef(({className:t,...e},r)=>c.jsx(QT,{ref:r,className:bt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));uv.displayName=QT.displayName;const dv=C.forwardRef(({className:t,...e},r)=>c.jsx(JT,{ref:r,className:bt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));dv.displayName=JT.displayName;const OK=ap("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vg=C.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:bt(OK({variant:e}),t),...r}));vg.displayName="Alert";const RK=C.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:bt("mb-1 font-medium leading-none tracking-tight",t),...e}));RK.displayName="AlertTitle";const gg=C.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:bt("text-sm [&_p]:leading-relaxed",t),...e}));gg.displayName="AlertDescription";const Py=["gorla.ananthkalyan@gmail.com","ananthautomotivegarage@gmail.com"],DK=()=>{const[t,e]=C.useState("request"),[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(""),[p,h]=C.useState(!1),{toast:g}=ci(),{updateToken:v}=Mr(),b=async()=>{h(!0);try{await Ke("POST","/api/mfa/request",{email:r,purpose:"password_change"}),e("verify"),g({title:"OTP Sent",description:"Check your email for the verification code. Code sent to both super admin emails."})}catch(_){g({title:"Error",description:_.message||"Failed to send OTP",variant:"destructive"})}finally{h(!1)}},x=async()=>{h(!0);try{const N=await(await Ke("POST","/api/mfa/verify",{email:r,code:i,purpose:"password_change"})).json();f(N.otp_verified_token),e("change"),g({title:"OTP Verified",description:"You can now set a new password."})}catch(_){g({title:"Error",description:_.message||"Invalid OTP",variant:"destructive"})}finally{h(!1)}},w=async()=>{if(s!==l){g({title:"Error",description:"Passwords do not match. Please try again.",variant:"destructive"});return}h(!0);try{const N=await(await Ke("POST","/api/password/change",{email:r,otp_verified_token:d,new_password:s})).json();N.token&&v(N.token),g({title:"Success",description:"Password changed successfully. Security notification sent to both admin emails."}),e("request"),n(""),a(""),o(""),u(""),f("")}catch(_){g({title:"Error",description:_.message||"Failed to change password",variant:"destructive"})}finally{h(!1)}};return c.jsxs(He,{children:[c.jsxs(Qt,{children:[c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(rj,{className:"w-5 h-5"}),"Change Super Admin Password"]}),c.jsx(Nc,{children:"Secure password change with email-OTP verification"})]}),c.jsxs(We,{className:"space-y-4",children:[t==="request"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Super Admin Email"}),c.jsx(ft,{type:"email",placeholder:"Enter your super admin email",value:r,onChange:_=>n(_.target.value),"data-testid":"input-admin-email"})]}),c.jsx(Ne,{onClick:b,disabled:!r||p,className:"w-full","data-testid":"button-request-otp",children:p?"Sending...":"Send OTP"})]}),t==="verify"&&c.jsxs(c.Fragment,{children:[c.jsxs(vg,{children:[c.jsx(xl,{className:"h-4 w-4"}),c.jsx(gg,{children:"OTP sent to both super admin emails. Enter the 6-digit code below."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"6-Digit OTP Code"}),c.jsx(ft,{type:"text",maxLength:6,placeholder:"000000",value:i,onChange:_=>a(_.target.value.replace(/\D/g,"")),"data-testid":"input-otp-code"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>e("request"),"data-testid":"button-back-to-request",children:"Back"}),c.jsx(Ne,{onClick:x,disabled:i.length!==6||p,className:"flex-1","data-testid":"button-verify-otp",children:p?"Verifying...":"Verify OTP"})]})]}),t==="change"&&c.jsxs(c.Fragment,{children:[c.jsxs(vg,{children:[c.jsx(as,{className:"h-4 w-4"}),c.jsx(gg,{children:"OTP verified! Set your new password (minimum 8 characters)."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"New Password"}),c.jsx(ft,{type:"password",placeholder:"Enter new password (min 8 characters)",value:s,onChange:_=>o(_.target.value),"data-testid":"input-new-password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Confirm New Password"}),c.jsx(ft,{type:"password",placeholder:"Re-enter new password",value:l,onChange:_=>u(_.target.value),"data-testid":"input-confirm-password"}),s&&l&&s!==l&&c.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ne,{variant:"outline",onClick:()=>e("verify"),"data-testid":"button-back-to-verify",children:"Back"}),c.jsx(Ne,{onClick:w,disabled:s.length<8||l.length<8||s!==l||p,className:"flex-1","data-testid":"button-change-password",children:p?"Changing...":"Change Password"})]})]})]})]})};function LK(){const[t,e]=C.useState("");C.useState(null);const[r,n]=C.useState(!1),[i,a]=C.useState(null),[s,o]=C.useState(!1),{toast:l}=ci(),u=ra(),{user:d,logout:f}=Mr(),{data:p,isLoading:h,refetch:g}=Wt({queryKey:["/api/super-admin/garages"],enabled:!!(d&&Py.includes(d.email||""))}),{data:v,refetch:b}=Wt({queryKey:["/api/access-requests"],enabled:!!(d&&Py.includes(d.email||""))}),{data:x,refetch:w}=Wt({queryKey:["/api/super-admin/audit-logs"],enabled:!!(d&&Py.includes(d.email||""))}),_=Dn({mutationFn:async({requestId:E,action:L,role:B})=>Ke("POST",`/api/access-requests/${E}/process`,{action:L,role:B}),onSuccess:()=>{l({title:"Success",description:"Access request processed successfully"}),a(null),b(),g()},onError:E=>{l({title:"Error",description:E.message||"Failed to process request",variant:"destructive"}),a(null)}});Dn({mutationFn:async({userId:E})=>Ke("POST",`/api/super-admin/users/${E}/toggle-role`,{}),onSuccess:()=>{l({title:"Success",description:"User role updated successfully"}),u.invalidateQueries({queryKey:["/api/super-admin/garages"]}),u.invalidateQueries({queryKey:["/api/super-admin/audit-logs"]})},onError:E=>{l({title:"Error",description:E.message||"Failed to update role",variant:"destructive"})}});const N=Dn({mutationFn:({userId:E,status:L})=>Ke("PATCH",`/api/users/${E}/status`,{status:L}),onSuccess:(E,{status:L})=>{l({title:"Success",description:`User ${L==="suspended"?"suspended":"activated"} successfully`}),u.invalidateQueries({queryKey:["/api/super-admin/garages"]}),u.invalidateQueries({queryKey:["/api/super-admin/audit-logs"]})},onError:E=>{l({title:"Error",description:E.message||"Failed to update user status",variant:"destructive"})}});if(!d)return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})});const k=(p==null?void 0:p.garages)||[],D=(p==null?void 0:p.stats)||{totalGarages:0,totalUsers:0,newUsers7Days:0,newUsers30Days:0},T=k.filter(E=>E.name.toLowerCase().includes(t.toLowerCase())||E.owner_name.toLowerCase().includes(t.toLowerCase())||E.email.toLowerCase().includes(t.toLowerCase())),R=(E,L)=>{const B=L==="active"?"suspended":"active";N.mutate({userId:E,status:B})},P=async()=>{o(!0);try{await Promise.all([g(),b(),w()]),l({title:"Success",description:"Data refreshed successfully"})}catch{l({title:"Error",description:"Failed to refresh data",variant:"destructive"})}finally{o(!1)}},O=(E,L)=>{a({requestId:E,action:"approve"});const B=L==="admin"?"garage_admin":"mechanic_staff";_.mutate({requestId:E,action:"approve",role:B})},j=E=>{a({requestId:E,action:"deny"}),_.mutate({requestId:E,action:"deny"})};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2","data-testid":"title-super-admin",children:[c.jsx(aj,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Super Admin Dashboard"]}),c.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Manage garages, users, and system settings"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs(Ne,{variant:"outline",size:"sm",onClick:P,disabled:s||h,"data-testid":"button-refresh",children:[c.jsx(bu,{className:`w-4 h-4 ${s||h?"animate-spin":""}`}),c.jsx("span",{className:"hidden sm:inline ml-2",children:s?"Refreshing...":"Refresh"})]}),c.jsxs(Ne,{size:"sm",onClick:()=>n(!0),"data-testid":"button-change-password",children:[c.jsx(rj,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline ml-2",children:"Change Password"})]}),c.jsxs(Ne,{variant:"outline",size:"sm",onClick:f,"data-testid":"button-logout",children:[c.jsx(ij,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline ml-2",children:"Logout"})]})]})]})})}),c.jsxs("div",{className:"container mx-auto px-4 py-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsx(He,{"data-testid":"stat-total-garages",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(KE,{className:"w-5 h-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Garages"}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"count-total-garages",children:D.totalGarages})]})]})})}),c.jsx(He,{"data-testid":"stat-total-users",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ul,{className:"w-5 h-5 text-primary"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),c.jsx("p",{className:"text-2xl font-bold","data-testid":"count-total-users",children:D.totalUsers})]})]})})}),c.jsx(He,{"data-testid":"stat-new-users-7days",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qu,{className:"w-5 h-5 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"New (7 days)"}),c.jsx("p",{className:"text-2xl font-bold text-green-600","data-testid":"count-new-users-7days",children:D.newUsers7Days})]})]})})}),c.jsx(He,{"data-testid":"stat-new-users-30days",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qu,{className:"w-5 h-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"New (30 days)"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600","data-testid":"count-new-users-30days",children:D.newUsers30Days})]})]})})})]}),c.jsxs(PK,{defaultValue:"garages",className:"space-y-4",children:[c.jsxs(eP,{className:"grid w-full grid-cols-3 mb-4",children:[c.jsx(uv,{value:"garages","data-testid":"tab-garages",className:"text-xs sm:text-sm",children:"Garages"}),c.jsx(uv,{value:"access-requests","data-testid":"tab-access-requests",className:"text-xs sm:text-sm",children:"Requests"}),c.jsx(uv,{value:"audit-logs","data-testid":"tab-audit-logs",className:"text-xs sm:text-sm",children:"Audit Logs"})]}),c.jsxs(dv,{value:"garages",className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(fd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(ft,{placeholder:"Search garages...",value:t,onChange:E=>e(E.target.value),className:"pl-10","data-testid":"input-search-garages"})]})}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:h?c.jsxs("div",{className:"col-span-full flex items-center justify-center py-8",children:[c.jsx(bu,{className:"w-6 h-6 animate-spin"}),c.jsx("span",{className:"ml-2",children:"Loading garages..."})]}):T.map(E=>c.jsxs(He,{className:"cursor-pointer hover:bg-accent/50","data-testid":`garage-card-${E.id}`,children:[c.jsx(Qt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx(Jt,{className:"text-lg","data-testid":`garage-name-${E.id}`,children:E.name}),c.jsxs(Nc,{"data-testid":`garage-owner-${E.id}`,children:["Owner: ",E.owner_name]})]}),c.jsxs(si,{variant:"outline","data-testid":`garage-user-count-${E.id}`,children:[E.userCount," users"]})]})}),c.jsx(We,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jsxs("p",{"data-testid":`garage-email-${E.id}`,children:[" ",E.email]}),c.jsxs("p",{"data-testid":`garage-phone-${E.id}`,children:[" ",E.phone]}),c.jsxs("p",{"data-testid":`garage-created-${E.id}`,children:[" Created: ",new Date(E.created_at).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[c.jsxs("span",{className:"flex items-center gap-1","data-testid":`garage-admin-count-${E.id}`,children:[c.jsx(aM,{className:"w-3 h-3"}),E.adminCount," Admin",E.adminCount!==1?"s":""]}),c.jsxs("span",{className:"flex items-center gap-1","data-testid":`garage-staff-count-${E.id}`,children:[c.jsx(ul,{className:"w-3 h-3"}),E.staffCount," Staff"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Users:"}),E.users.map(L=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-accent/20","data-testid":`user-row-${L.id}`,children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-medium truncate","data-testid":`user-name-${L.id}`,children:L.name}),c.jsx(si,{variant:L.status==="active"?"default":"destructive",className:"text-xs","data-testid":`user-status-badge-${L.id}`,children:L.status==="active"?"Active":"Suspended"})]}),c.jsx("p",{className:"text-xs text-muted-foreground truncate","data-testid":`user-email-${L.id}`,children:L.email})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(si,{variant:L.role==="garage_admin"?"default":"secondary","data-testid":`user-role-badge-${L.id}`,children:L.role==="garage_admin"?"Admin":"Staff"}),L.role!=="super_admin"&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:L.status==="active"?"Active":"Suspended"}),c.jsx(Y3,{checked:L.status==="active",onCheckedChange:()=>R(L.id,L.status||"active"),disabled:N.isPending,"data-testid":`switch-toggle-status-${L.id}`,className:"data-[state=checked]:bg-green-500 data-[state=unchecked]:bg-red-500"}),N.isPending&&c.jsx(bu,{className:"w-3 h-3 animate-spin"})]})})]})]},L.id))]})]})})]},E.id))})]}),c.jsx(dv,{value:"access-requests",children:c.jsxs(He,{children:[c.jsxs(Qt,{children:[c.jsx(Jt,{children:"Access Requests"}),c.jsx(Nc,{children:"Pending requests for garage access"})]}),c.jsx(We,{children:v!=null&&v.length?c.jsx("div",{className:"space-y-4",children:v==null?void 0:v.map(E=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded","data-testid":`access-request-${E.id}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium","data-testid":`request-name-${E.id}`,children:E.name}),c.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`request-email-${E.id}`,children:E.email}),c.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":`request-role-${E.id}`,children:["Requested: ",E.requested_role]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(si,{variant:E.status==="pending"?"outline":E.status==="approved"?"default":"destructive","data-testid":`request-status-${E.id}`,children:E.status}),E.status==="pending"&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Ne,{size:"sm",variant:"default",onClick:()=>O(E.id,E.requested_role),disabled:(i==null?void 0:i.requestId)===E.id,"data-testid":`button-approve-${E.id}`,children:(i==null?void 0:i.requestId)===E.id&&(i==null?void 0:i.action)==="approve"?c.jsx(bu,{className:"w-3 h-3 animate-spin"}):c.jsx(as,{className:"w-3 h-3"})}),c.jsx(Ne,{size:"sm",variant:"destructive",onClick:()=>j(E.id),disabled:(i==null?void 0:i.requestId)===E.id,"data-testid":`button-deny-${E.id}`,children:(i==null?void 0:i.requestId)===E.id&&(i==null?void 0:i.action)==="deny"?c.jsx(bu,{className:"w-3 h-3 animate-spin"}):c.jsx(KL,{className:"w-3 h-3"})})]})]})]},E.id))}):c.jsx("p",{className:"text-muted-foreground text-center py-4","data-testid":"no-access-requests",children:"No access requests found"})})]})}),c.jsx(dv,{value:"audit-logs",children:c.jsxs(He,{children:[c.jsxs(Qt,{children:[c.jsx(Jt,{children:"Audit Logs"}),c.jsx(Nc,{children:"Recent system activities and changes"})]}),c.jsx(We,{children:x!=null&&x.length?c.jsx("div",{className:"space-y-2",children:x==null?void 0:x.slice(0,20).map(E=>c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded text-sm","data-testid":`audit-log-${E.id}`,children:[c.jsx(Tc,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{"data-testid":`log-action-${E.id}`,children:[c.jsx("span",{className:"font-medium",children:E.actor_email})," performed"," ",c.jsx("span",{className:"font-medium text-primary",children:E.action}),E.target_email&&c.jsxs(c.Fragment,{children:[" on ",c.jsx("span",{className:"font-medium",children:E.target_email})]})]}),E.details&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${E.id}`,children:JSON.stringify(E.details)}),c.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`log-timestamp-${E.id}`,children:new Date(E.created_at).toLocaleString()})]})]},E.id))}):c.jsx("p",{className:"text-muted-foreground text-center py-4","data-testid":"no-audit-logs",children:"No audit logs found"})})]})})]})]}),c.jsx(cs,{open:r,onOpenChange:n,children:c.jsxs(us,{className:"max-w-md",children:[c.jsxs(ds,{children:[c.jsx(fs,{children:"Super Admin Password Change"}),c.jsx(g0,{children:"Secure password change with multi-factor authentication"})]}),c.jsx(DK,{})]})})]})}function MK(){var R;const{user:t,garage:e}=Mr(),{theme:r,toggleTheme:n}=hd(),{toast:i}=ci(),a=ra(),[,s]=ln(),[o,l]=C.useState(!1),[u,d]=C.useState(!1),[f,p]=C.useState(!1);C.useEffect(()=>{const P=()=>{p(window.innerWidth>=1024)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const{data:h}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/job-cards`)).json():[],enabled:!!(e!=null&&e.id)}),{data:g}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","stats"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/sales/stats`)).json():null,enabled:!!(e!=null&&e.id)}),{data:v}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"sales","today"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/sales/today`)).json():null,enabled:!!(e!=null&&e.id)}),{data:b}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"spare-parts","low-stock"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/spare-parts/low-stock`)).json():[],enabled:!!(e!=null&&e.id)}),{data:x}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"staff"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/staff`)).json():[],enabled:!!(e!=null&&e.id)}),{data:w}=Wt({queryKey:["/api/access-requests",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/access-requests?garageId=${e.id}`)).json():[],enabled:!!(e!=null&&e.id)}),_=Dn({mutationFn:async({requestId:P,action:O})=>Ke("POST",`/api/access-requests/${P}/process`,{action:O,role:"mechanic_staff"}),onSuccess:()=>{i({title:"Success",description:"Access request processed successfully"}),a.invalidateQueries({queryKey:["/api/access-requests",e==null?void 0:e.id]}),a.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id,"staff"]})},onError:P=>{i({title:"Error",description:P.message||"Failed to process request",variant:"destructive"})}}),N=Dn({mutationFn:({userId:P,status:O})=>Ke("PATCH",`/api/users/${P}/status`,{status:O}),onSuccess:(P,{status:O})=>{i({title:"Success",description:`Staff member ${O==="suspended"?"suspended":"activated"} successfully`}),a.invalidateQueries({queryKey:["/api/garages",e==null?void 0:e.id,"staff"]})},onError:P=>{i({title:"Error",description:P.message||"Failed to update staff status",variant:"destructive"})}}),k=(P,O)=>{const j=O==="active"?"suspended":"active";N.mutate({userId:P,status:j})},{data:D=0}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"notifications","unread-count"],queryFn:async()=>e!=null&&e.id&&(await(await Ke("GET",`/api/garages/${e.id}/notifications/unread-count`)).json()).count||0,enabled:!!(e!=null&&e.id)});C.useEffect(()=>{if(b&&b.length>0&&(e!=null&&e.id)){const P=`lowStockAlert_${e.id}_session`;sessionStorage.getItem(P)||(d(!0),sessionStorage.setItem(P,"true"))}},[b,e==null?void 0:e.id]),x!=null&&x.filter(P=>P.status==="active").length;const T=(w==null?void 0:w.filter(P=>P.status==="pending").length)||0;return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"gradient-header text-primary-foreground",children:c.jsxs("div",{className:"flex items-center justify-between px-2 sm:px-4 py-3 sm:py-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-white rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.logo?c.jsx("img",{src:e.logo,alt:"Garage Logo",className:"w-full h-full object-cover"}):c.jsx(Xc,{className:"text-primary w-4 h-4 sm:w-6 sm:h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-base sm:text-lg font-semibold","data-testid":"title-admin-dashboard",children:"Admin Dashboard"}),c.jsx("p",{className:"text-xs sm:text-sm text-blue-100",children:(e==null?void 0:e.name)||"Admin Portal"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[c.jsxs(Ne,{variant:"ghost",size:"icon",onClick:()=>l(!0),className:"text-primary-foreground hover:bg-white/10 relative p-1 sm:p-2","data-testid":"button-notifications",children:[c.jsx(f0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),D>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center text-[10px] sm:text-xs",children:D>99?"99+":D})]}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:n,className:"text-primary-foreground hover:bg-white/10 p-1 sm:p-2","data-testid":"button-theme-toggle",children:r==="dark"?c.jsx(Oc,{className:"w-4 h-4 sm:w-5 sm:h-5"}):c.jsx(Pc,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),c.jsxs("div",{className:"px-2 sm:px-4 py-4 sm:py-6 space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[c.jsx(He,{"data-testid":"card-pending-jobs",children:c.jsx(We,{className:"p-3 sm:p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pending Jobs"}),c.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:((R=h==null?void 0:h.filter(P=>P.status==="pending"))==null?void 0:R.length)||0})]})]})})}),c.jsx(He,{"data-testid":"card-access-requests",children:c.jsx(We,{className:"p-3 sm:p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Access Requests"}),c.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:T})]})]})})}),c.jsx(He,{"data-testid":"card-today-revenue",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Wb,{className:"w-5 h-5 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Revenue"}),c.jsxs("p",{className:"text-2xl font-bold",children:["",Number((v==null?void 0:v.todayProfit)||0).toLocaleString()]})]})]})})}),c.jsx(He,{"data-testid":"card-total-revenue",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zg,{className:"w-5 h-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),c.jsxs("p",{className:"text-2xl font-bold",children:["",Number((g==null?void 0:g.totalProfit)||0).toLocaleString()]})]})]})})}),c.jsx(He,{"data-testid":"card-low-stock-alert",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(xl,{className:"w-5 h-5 text-red-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:(b==null?void 0:b.length)||0})]})]})})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(p0,{className:"w-5 h-5"}),"Quick Actions"]})}),c.jsx(We,{children:c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs(Ne,{onClick:()=>s("/job-card"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-new-job",children:[c.jsx(dd,{className:"w-6 h-6"}),c.jsx("span",{children:"New Job Card"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>s("/customers"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-manage-customers",children:[c.jsx(ul,{className:"w-6 h-6"}),c.jsx("span",{children:"Customers"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>s("/spare-parts"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-spare-parts",children:[c.jsx(JE,{className:"w-6 h-6"}),c.jsx("span",{children:"Spare Parts"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>s("/invoices"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-invoices",children:[c.jsx(Vs,{className:"w-6 h-6"}),c.jsx("span",{children:"Invoices"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>s("/completed-services"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-completed-services",children:[c.jsx(as,{className:"w-6 h-6"}),c.jsx("span",{children:"Completed"})]})]})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(ul,{className:"w-5 h-5"}),"Staff Management"]})}),c.jsx(We,{children:x&&x.length>0?c.jsx("div",{className:"space-y-3",children:x.map(P=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`staff-row-${P.id}`,children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium","data-testid":`staff-name-${P.id}`,children:P.name}),c.jsx(si,{variant:P.status==="active"?"default":"destructive",className:"text-xs","data-testid":`staff-status-badge-${P.id}`,children:P.status==="active"?"Active":"Suspended"})]}),c.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`staff-email-${P.id}`,children:P.email})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:P.status==="active"?"Active":"Suspended"}),c.jsx(Y3,{checked:P.status==="active",onCheckedChange:()=>k(P.id,P.status||"active"),disabled:N.isPending,"data-testid":`switch-toggle-staff-status-${P.id}`,className:"data-[state=checked]:bg-green-500 data-[state=unchecked]:bg-red-500"}),N.isPending&&c.jsx(bu,{className:"w-3 h-3 animate-spin"})]})]},P.id))}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(ul,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No staff members found"})]})})]}),w&&w.length>0&&c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(Dx,{className:"w-5 h-5"}),"Pending Access Requests",c.jsx(si,{variant:"secondary",className:"ml-2",children:w.filter(P=>P.status==="pending").length})]})}),c.jsx(We,{children:c.jsx("div",{className:"space-y-3",children:w.filter(P=>P.status==="pending").map(P=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg","data-testid":`access-request-${P.id}`,children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium","data-testid":`request-name-${P.id}`,children:P.name}),c.jsx(si,{variant:"outline","data-testid":`request-role-${P.id}`,children:"Staff Request"})]}),c.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`request-email-${P.id}`,children:P.email}),P.note&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`request-note-${P.id}`,children:["Note: ",P.note]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Requested: ",new Date(P.created_at).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ne,{size:"sm",variant:"default",onClick:()=>_.mutate({requestId:P.id,action:"approve"}),disabled:_.isPending,"data-testid":`button-approve-${P.id}`,className:"bg-green-600 hover:bg-green-700",children:[_.isPending?c.jsx(bu,{className:"w-3 h-3 animate-spin"}):c.jsx(Dx,{className:"w-3 h-3"}),"Approve"]}),c.jsxs(Ne,{size:"sm",variant:"destructive",onClick:()=>_.mutate({requestId:P.id,action:"deny"}),disabled:_.isPending,"data-testid":`button-deny-${P.id}`,children:[c.jsx(sM,{className:"w-3 h-3"}),"Deny"]})]})]},P.id))})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(Yg,{className:"w-5 h-5"}),"Recent Invoices"]})}),c.jsx(We,{children:(()=>{const{data:P=[],isLoading:O}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"invoices"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/invoices`)).json():[],enabled:!!(e!=null&&e.id)});if(O)return c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading recent invoices..."});const j=P.slice(0,5);return j.length>0?c.jsxs("div",{className:"space-y-3",children:[j.map(E=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`invoice-${E.id}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:E.customer_name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:E.bike_number}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",E.invoice_number]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["",Number(E.total_amount||0).toLocaleString()]}),c.jsx("p",{className:"text-sm text-success font-medium",children:"Completed"})]})]},E.id)),c.jsx(Ne,{variant:"outline",onClick:()=>s("/invoices"),className:"w-full mt-4","data-testid":"button-view-all-invoices",children:"View All Invoices"})]}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(Vs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No invoices generated yet"}),c.jsx(Ne,{onClick:()=>s("/pending-services"),className:"mt-4","data-testid":"button-create-first-invoice",children:"Complete a Service to Generate Invoice"})]})})()})]})]}),c.jsx(E3,{isOpen:o,onClose:()=>l(!1)}),c.jsx(rg,{open:u,onOpenChange:d,children:c.jsxs(b0,{children:[c.jsxs(_0,{children:[c.jsxs(S0,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(xl,{className:"w-5 h-5"}),"Low Stock Alert"]}),c.jsxs(A0,{children:["You have ",b==null?void 0:b.length," items running low on stock. Consider restocking to avoid service delays."]})]}),c.jsxs(N0,{children:[c.jsx(ng,{"data-testid":"button-dismiss-alert",children:"Dismiss"}),c.jsx(nh,{onClick:()=>s("/spare-parts"),"data-testid":"button-manage-stock",children:"Manage Stock"})]})]})}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 lg:hidden",children:c.jsxs("div",{className:"grid grid-cols-5 py-2",children:[c.jsxs("button",{onClick:()=>s("/admin-dashboard"),className:"flex flex-col items-center justify-center p-2 text-blue-600","data-testid":"bottom-nav-dashboard",children:[c.jsx(tj,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),c.jsxs("button",{onClick:()=>s("/pending-services"),className:"flex flex-col items-center justify-center p-2 text-gray-600 dark:text-gray-400","data-testid":"bottom-nav-services",children:[c.jsx(p0,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs mt-1",children:"Services"})]}),c.jsxs("button",{onClick:()=>s("/customers"),className:"flex flex-col items-center justify-center p-2 text-gray-600 dark:text-gray-400","data-testid":"bottom-nav-customers",children:[c.jsx(ul,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs mt-1",children:"Customers"})]}),c.jsxs("button",{onClick:()=>s("/sales-analytics"),className:"flex flex-col items-center justify-center p-2 text-gray-600 dark:text-gray-400","data-testid":"bottom-nav-sales",children:[c.jsx(GL,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs mt-1",children:"Sales"})]}),c.jsxs("button",{onClick:()=>s("/profile"),className:"flex flex-col items-center justify-center p-2 text-gray-600 dark:text-gray-400","data-testid":"bottom-nav-profile",children:[c.jsx(ZL,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})}),c.jsx("div",{className:"h-16 lg:hidden"})]})}var mp=t=>t.type==="checkbox",Iu=t=>t instanceof Date,Zi=t=>t==null;const tP=t=>typeof t=="object";var kn=t=>!Zi(t)&&!Array.isArray(t)&&tP(t)&&!Iu(t),rP=t=>kn(t)&&t.target?mp(t.target)?t.target.checked:t.target.value:t,FK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nP=(t,e)=>t.has(FK(e)),BK=t=>{const e=t.constructor&&t.constructor.prototype;return kn(e)&&e.hasOwnProperty("isPrototypeOf")},Q3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Q3&&(t instanceof Blob||n))&&(r||kn(t)))if(e=r?[]:{},!r&&!BK(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=vi(t[i]));else return t;return e}var x2=t=>Array.isArray(t)?t.filter(Boolean):[],Nn=t=>t===void 0,Qe=(t,e,r)=>{if(!e||!kn(t))return r;const n=x2(e.split(/[,[\].]+?/)).reduce((i,a)=>Zi(i)?i:i[a],t);return Nn(n)||n===t?Nn(t[e])?r:t[e]:n},Ta=t=>typeof t=="boolean",J3=t=>/^\w*$/.test(t),iP=t=>x2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wr=(t,e,r)=>{let n=-1;const i=J3(e)?[e]:iP(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const u=t[o];l=kn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const xg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aP=Ut.createContext(null),y2=()=>Ut.useContext(aP),UK=t=>{const{children:e,...r}=t;return Ut.createElement(aP.Provider,{value:r},e)};var sP=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Ds.all&&(e._proxyFormState[s]=!n||Ds.all),r&&(r[s]=!0),t[s]}});return i};function zK(t){const e=y2(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[s,o]=Ut.useState(r._formState),l=Ut.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ut.useRef(i);return u.current=i,Ut.useEffect(()=>r._subscribe({name:u.current,formState:l.current,exact:a,callback:d=>{!n&&o({...r._formState,...d})}}),[r,n,a]),Ut.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ut.useMemo(()=>sP(s,r,l.current,!1),[s,r])}var _o=t=>typeof t=="string",oP=(t,e,r,n,i)=>_o(t)?(n&&e.watch.add(t),Qe(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Qe(r,a))):(n&&(e.watchAll=!0),r);function VK(t){const e=y2(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=Ut.useRef(n),l=Ut.useRef(i);o.current=n,Ut.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:s,callback:f=>!a&&d(oP(o.current,r._names,f.values||r._formValues,!1,l.current))}),[r,a,s]);const[u,d]=Ut.useState(r._getWatch(n,i));return Ut.useEffect(()=>r._removeUnmounted()),u}function qK(t){const e=y2(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a}=t,s=nP(i._names.array,r),o=VK({control:i,name:r,defaultValue:Qe(i._formValues,r,Qe(i._defaultValues,r,t.defaultValue)),exact:!0}),l=zK({control:i,name:r,exact:!0}),u=Ut.useRef(t),d=Ut.useRef(i.register(r,{...t.rules,value:o,...Ta(t.disabled)?{disabled:t.disabled}:{}})),f=Ut.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(l.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(l.errors,r)}}),[l,r]),p=Ut.useCallback(b=>d.current.onChange({target:{value:rP(b),name:r},type:xg.CHANGE}),[r]),h=Ut.useCallback(()=>d.current.onBlur({target:{value:Qe(i._formValues,r),name:r},type:xg.BLUR}),[r,i._formValues]),g=Ut.useCallback(b=>{const x=Qe(i._fields,r);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:w=>b.setCustomValidity(w),reportValidity:()=>b.reportValidity()})},[i._fields,r]),v=Ut.useMemo(()=>({name:r,value:o,...Ta(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:p,onBlur:h,ref:g}),[r,n,l.disabled,p,h,g,o]);return Ut.useEffect(()=>{const b=i._options.shouldUnregister||a;i.register(r,{...u.current.rules,...Ta(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(w,_)=>{const N=Qe(i._fields,w);N&&N._f&&(N._f.mount=_)};if(x(r,!0),b){const w=vi(Qe(i._options.defaultValues,r));wr(i._defaultValues,r,w),Nn(Qe(i._formValues,r))&&wr(i._formValues,r,w)}return!s&&i.register(r),()=>{(s?b&&!i._state.action:b)?i.unregister(r):x(r,!1)}},[r,i,s,a]),Ut.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ut.useMemo(()=>({field:v,formState:l,fieldState:f}),[v,l,f])}const $K=t=>t.render(qK(t));var lP=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},W1=t=>Array.isArray(t)?t:[t],dC=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},O5=t=>Zi(t)||!tP(t);function ec(t,e){if(O5(t)||O5(e))return t===e;if(Iu(t)&&Iu(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Iu(a)&&Iu(s)||kn(a)&&kn(s)||Array.isArray(a)&&Array.isArray(s)?!ec(a,s):a!==s)return!1}}return!0}var Xi=t=>kn(t)&&!Object.keys(t).length,e_=t=>t.type==="file",Ls=t=>typeof t=="function",yg=t=>{if(!Q3)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cP=t=>t.type==="select-multiple",t_=t=>t.type==="radio",HK=t=>t_(t)||mp(t),Oy=t=>yg(t)&&t.isConnected;function WK(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Nn(t)?n++:t[e[n++]];return t}function GK(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nn(t[e]))return!1;return!0}function qn(t,e){const r=Array.isArray(e)?e:J3(e)?[e]:iP(e),n=r.length===1?t:WK(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(kn(n)&&Xi(n)||Array.isArray(n)&&GK(n))&&qn(t,r.slice(0,-1)),t}var uP=t=>{for(const e in t)if(Ls(t[e]))return!0;return!1};function wg(t,e={}){const r=Array.isArray(t);if(kn(t)||r)for(const n in t)Array.isArray(t[n])||kn(t[n])&&!uP(t[n])?(e[n]=Array.isArray(t[n])?[]:{},wg(t[n],e[n])):Zi(t[n])||(e[n]=!0);return e}function dP(t,e,r){const n=Array.isArray(t);if(kn(t)||n)for(const i in t)Array.isArray(t[i])||kn(t[i])&&!uP(t[i])?Nn(e)||O5(r[i])?r[i]=Array.isArray(t[i])?wg(t[i],[]):{...wg(t[i])}:dP(t[i],Zi(e)?{}:e[i],r[i]):r[i]=!ec(t[i],e[i]);return r}var g1=(t,e)=>dP(t,e,wg(e));const fC={value:!1,isValid:!1},hC={value:!0,isValid:!0};var fP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nn(t[0].attributes.value)?Nn(t[0].value)||t[0].value===""?hC:{value:t[0].value,isValid:!0}:hC:fC}return fC},hP=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Nn(t)?t:e?t===""?NaN:t&&+t:r&&_o(t)?new Date(t):n?n(t):t;const pC={isValid:!1,value:null};var pP=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,pC):pC;function mC(t){const e=t.ref;return e_(e)?e.files:t_(e)?pP(t.refs).value:cP(e)?[...e.selectedOptions].map(({value:r})=>r):mp(e)?fP(t.refs).value:hP(Nn(e.value)?t.ref.value:e.value,t)}var XK=(t,e,r,n)=>{const i={};for(const a of t){const s=Qe(e,a);s&&wr(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},bg=t=>t instanceof RegExp,x1=t=>Nn(t)?t:bg(t)?t.source:kn(t)?bg(t.value)?t.value.source:t.value:t,vC=t=>({isOnSubmit:!t||t===Ds.onSubmit,isOnBlur:t===Ds.onBlur,isOnChange:t===Ds.onChange,isOnAll:t===Ds.all,isOnTouch:t===Ds.onTouched});const gC="AsyncFunction";var YK=t=>!!t&&!!t.validate&&!!(Ls(t.validate)&&t.validate.constructor.name===gC||kn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gC)),ZK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),xC=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const G1=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Qe(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(G1(o,e))break}else if(kn(o)&&G1(o,e))break}}};function yC(t,e,r){const n=Qe(t,r);if(n||J3(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Qe(e,a),o=Qe(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var KK=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Xi(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||Ds.all))},QK=(t,e,r)=>!t||!e||t===e||W1(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),JK=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,eQ=(t,e)=>!x2(Qe(t,e)).length&&qn(t,e),tQ=(t,e,r)=>{const n=W1(Qe(t,r));return wr(n,"root",e[r]),wr(t,r,n),t},fv=t=>_o(t);function wC(t,e,r="validate"){if(fv(t)||Array.isArray(t)&&t.every(fv)||Ta(t)&&!t)return{type:r,message:fv(t)?t:"",ref:e}}var qd=t=>kn(t)&&!bg(t)?t:{value:t,message:""},bC=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:d,min:f,max:p,pattern:h,validate:g,name:v,valueAsNumber:b,mount:x}=t._f,w=Qe(r,v);if(!x||e.has(v))return{};const _=o?o[0]:s,N=E=>{i&&_.reportValidity&&(_.setCustomValidity(Ta(E)?"":E||""),_.reportValidity())},k={},D=t_(s),T=mp(s),R=D||T,P=(b||e_(s))&&Nn(s.value)&&Nn(w)||yg(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,O=lP.bind(null,v,n,k),j=(E,L,B,te=Jo.maxLength,re=Jo.minLength)=>{const se=E?L:B;k[v]={type:E?te:re,message:se,ref:s,...O(E?te:re,se)}};if(a?!Array.isArray(w)||!w.length:l&&(!R&&(P||Zi(w))||Ta(w)&&!w||T&&!fP(o).isValid||D&&!pP(o).isValid)){const{value:E,message:L}=fv(l)?{value:!!l,message:l}:qd(l);if(E&&(k[v]={type:Jo.required,message:L,ref:_,...O(Jo.required,L)},!n))return N(L),k}if(!P&&(!Zi(f)||!Zi(p))){let E,L;const B=qd(p),te=qd(f);if(!Zi(w)&&!isNaN(w)){const re=s.valueAsNumber||w&&+w;Zi(B.value)||(E=re>B.value),Zi(te.value)||(L=re<te.value)}else{const re=s.valueAsDate||new Date(w),se=ge=>new Date(new Date().toDateString()+" "+ge),H=s.type=="time",ne=s.type=="week";_o(B.value)&&w&&(E=H?se(w)>se(B.value):ne?w>B.value:re>new Date(B.value)),_o(te.value)&&w&&(L=H?se(w)<se(te.value):ne?w<te.value:re<new Date(te.value))}if((E||L)&&(j(!!E,B.message,te.message,Jo.max,Jo.min),!n))return N(k[v].message),k}if((u||d)&&!P&&(_o(w)||a&&Array.isArray(w))){const E=qd(u),L=qd(d),B=!Zi(E.value)&&w.length>+E.value,te=!Zi(L.value)&&w.length<+L.value;if((B||te)&&(j(B,E.message,L.message),!n))return N(k[v].message),k}if(h&&!P&&_o(w)){const{value:E,message:L}=qd(h);if(bg(E)&&!w.match(E)&&(k[v]={type:Jo.pattern,message:L,ref:s,...O(Jo.pattern,L)},!n))return N(L),k}if(g){if(Ls(g)){const E=await g(w,r),L=wC(E,_);if(L&&(k[v]={...L,...O(Jo.validate,L.message)},!n))return N(L.message),k}else if(kn(g)){let E={};for(const L in g){if(!Xi(E)&&!n)break;const B=wC(await g[L](w,r),_,L);B&&(E={...B,...O(L,B.message)},N(B.message),n&&(k[v]=E))}if(!Xi(E)&&(k[v]={ref:_,...E},!n))return k}}return N(!0),k};const rQ={mode:Ds.onSubmit,reValidateMode:Ds.onChange,shouldFocusError:!0};function nQ(t={}){let e={...rQ,...t},r={submitCount:0,isDirty:!1,isLoading:Ls(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=kn(e.defaultValues)||kn(e.values)?vi(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:vi(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:dC(),state:dC()},h=vC(e.mode),g=vC(e.reValidateMode),v=e.criteriaMode===Ds.all,b=ee=>G=>{clearTimeout(u),u=setTimeout(ee,G)},x=async ee=>{if(!e.disabled&&(d.isValid||f.isValid||ee)){const G=e.resolver?Xi((await P()).errors):await j(n,!0);G!==r.isValid&&p.state.next({isValid:G})}},w=(ee,G)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ee||Array.from(o.mount)).forEach(de=>{de&&(G?wr(r.validatingFields,de,G):qn(r.validatingFields,de))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Xi(r.validatingFields)}))},_=(ee,G=[],de,Ae,Se=!0,ke=!0)=>{if(Ae&&de&&!e.disabled){if(s.action=!0,ke&&Array.isArray(Qe(n,ee))){const Re=de(Qe(n,ee),Ae.argA,Ae.argB);Se&&wr(n,ee,Re)}if(ke&&Array.isArray(Qe(r.errors,ee))){const Re=de(Qe(r.errors,ee),Ae.argA,Ae.argB);Se&&wr(r.errors,ee,Re),eQ(r.errors,ee)}if((d.touchedFields||f.touchedFields)&&ke&&Array.isArray(Qe(r.touchedFields,ee))){const Re=de(Qe(r.touchedFields,ee),Ae.argA,Ae.argB);Se&&wr(r.touchedFields,ee,Re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=g1(i,a)),p.state.next({name:ee,isDirty:L(ee,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wr(a,ee,G)},N=(ee,G)=>{wr(r.errors,ee,G),p.state.next({errors:r.errors})},k=ee=>{r.errors=ee,p.state.next({errors:r.errors,isValid:!1})},D=(ee,G,de,Ae)=>{const Se=Qe(n,ee);if(Se){const ke=Qe(a,ee,Nn(de)?Qe(i,ee):de);Nn(ke)||Ae&&Ae.defaultChecked||G?wr(a,ee,G?ke:mC(Se._f)):re(ee,ke),s.mount&&x()}},T=(ee,G,de,Ae,Se)=>{let ke=!1,Re=!1;const Fe={name:ee};if(!e.disabled){if(!de||Ae){(d.isDirty||f.isDirty)&&(Re=r.isDirty,r.isDirty=Fe.isDirty=L(),ke=Re!==Fe.isDirty);const Ge=ec(Qe(i,ee),G);Re=!!Qe(r.dirtyFields,ee),Ge?qn(r.dirtyFields,ee):wr(r.dirtyFields,ee,!0),Fe.dirtyFields=r.dirtyFields,ke=ke||(d.dirtyFields||f.dirtyFields)&&Re!==!Ge}if(de){const Ge=Qe(r.touchedFields,ee);Ge||(wr(r.touchedFields,ee,de),Fe.touchedFields=r.touchedFields,ke=ke||(d.touchedFields||f.touchedFields)&&Ge!==de)}ke&&Se&&p.state.next(Fe)}return ke?Fe:{}},R=(ee,G,de,Ae)=>{const Se=Qe(r.errors,ee),ke=(d.isValid||f.isValid)&&Ta(G)&&r.isValid!==G;if(e.delayError&&de?(l=b(()=>N(ee,de)),l(e.delayError)):(clearTimeout(u),l=null,de?wr(r.errors,ee,de):qn(r.errors,ee)),(de?!ec(Se,de):Se)||!Xi(Ae)||ke){const Re={...Ae,...ke&&Ta(G)?{isValid:G}:{},errors:r.errors,name:ee};r={...r,...Re},p.state.next(Re)}},P=async ee=>{w(ee,!0);const G=await e.resolver(a,e.context,XK(ee||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(ee),G},O=async ee=>{const{errors:G}=await P(ee);if(ee)for(const de of ee){const Ae=Qe(G,de);Ae?wr(r.errors,de,Ae):qn(r.errors,de)}else r.errors=G;return G},j=async(ee,G,de={valid:!0})=>{for(const Ae in ee){const Se=ee[Ae];if(Se){const{_f:ke,...Re}=Se;if(ke){const Fe=o.array.has(ke.name),Ge=Se._f&&YK(Se._f);Ge&&d.validatingFields&&w([Ae],!0);const $e=await bC(Se,o.disabled,a,v,e.shouldUseNativeValidation&&!G,Fe);if(Ge&&d.validatingFields&&w([Ae]),$e[ke.name]&&(de.valid=!1,G))break;!G&&(Qe($e,ke.name)?Fe?tQ(r.errors,$e,ke.name):wr(r.errors,ke.name,$e[ke.name]):qn(r.errors,ke.name))}!Xi(Re)&&await j(Re,G,de)}}return de.valid},E=()=>{for(const ee of o.unMount){const G=Qe(n,ee);G&&(G._f.refs?G._f.refs.every(de=>!Oy(de)):!Oy(G._f.ref))&&ve(ee)}o.unMount=new Set},L=(ee,G)=>!e.disabled&&(ee&&G&&wr(a,ee,G),!ec(U(),i)),B=(ee,G,de)=>oP(ee,o,{...s.mount?a:Nn(G)?i:_o(ee)?{[ee]:G}:G},de,G),te=ee=>x2(Qe(s.mount?a:i,ee,e.shouldUnregister?Qe(i,ee,[]):[])),re=(ee,G,de={})=>{const Ae=Qe(n,ee);let Se=G;if(Ae){const ke=Ae._f;ke&&(!ke.disabled&&wr(a,ee,hP(G,ke)),Se=yg(ke.ref)&&Zi(G)?"":G,cP(ke.ref)?[...ke.ref.options].forEach(Re=>Re.selected=Se.includes(Re.value)):ke.refs?mp(ke.ref)?ke.refs.length>1?ke.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(Se)?!!Se.find(Fe=>Fe===Re.value):Se===Re.value)):ke.refs[0]&&(ke.refs[0].checked=!!Se):ke.refs.forEach(Re=>Re.checked=Re.value===Se):e_(ke.ref)?ke.ref.value="":(ke.ref.value=Se,ke.ref.type||p.state.next({name:ee,values:vi(a)})))}(de.shouldDirty||de.shouldTouch)&&T(ee,Se,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&_e(ee)},se=(ee,G,de)=>{for(const Ae in G){const Se=G[Ae],ke=`${ee}.${Ae}`,Re=Qe(n,ke);(o.array.has(ee)||kn(Se)||Re&&!Re._f)&&!Iu(Se)?se(ke,Se,de):re(ke,Se,de)}},H=(ee,G,de={})=>{const Ae=Qe(n,ee),Se=o.array.has(ee),ke=vi(G);wr(a,ee,ke),Se?(p.array.next({name:ee,values:vi(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&de.shouldDirty&&p.state.next({name:ee,dirtyFields:g1(i,a),isDirty:L(ee,ke)})):Ae&&!Ae._f&&!Zi(ke)?se(ee,ke,de):re(ee,ke,de),xC(ee,o)&&p.state.next({...r}),p.state.next({name:s.mount?ee:void 0,values:vi(a)})},ne=async ee=>{s.mount=!0;const G=ee.target;let de=G.name,Ae=!0;const Se=Qe(n,de),ke=Re=>{Ae=Number.isNaN(Re)||Iu(Re)&&isNaN(Re.getTime())||ec(Re,Qe(a,de,Re))};if(Se){let Re,Fe;const Ge=G.type?mC(Se._f):rP(ee),$e=ee.type===xg.BLUR||ee.type===xg.FOCUS_OUT,cr=!ZK(Se._f)&&!e.resolver&&!Qe(r.errors,de)&&!Se._f.deps||JK($e,Qe(r.touchedFields,de),r.isSubmitted,g,h),Vt=xC(de,o,$e);wr(a,de,Ge),$e?(Se._f.onBlur&&Se._f.onBlur(ee),l&&l(0)):Se._f.onChange&&Se._f.onChange(ee);const rt=T(de,Ge,$e),kt=!Xi(rt)||Vt;if(!$e&&p.state.next({name:de,type:ee.type,values:vi(a)}),cr)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?$e&&x():$e||x()),kt&&p.state.next({name:de,...Vt?{}:rt});if(!$e&&Vt&&p.state.next({...r}),e.resolver){const{errors:tr}=await P([de]);if(ke(Ge),Ae){const St=yC(r.errors,n,de),Zt=yC(tr,n,St.name||de);Re=Zt.error,de=Zt.name,Fe=Xi(tr)}}else w([de],!0),Re=(await bC(Se,o.disabled,a,v,e.shouldUseNativeValidation))[de],w([de]),ke(Ge),Ae&&(Re?Fe=!1:(d.isValid||f.isValid)&&(Fe=await j(n,!0)));Ae&&(Se._f.deps&&_e(Se._f.deps),R(de,Fe,Re,rt))}},ge=(ee,G)=>{if(Qe(r.errors,G)&&ee.focus)return ee.focus(),1},_e=async(ee,G={})=>{let de,Ae;const Se=W1(ee);if(e.resolver){const ke=await O(Nn(ee)?ee:Se);de=Xi(ke),Ae=ee?!Se.some(Re=>Qe(ke,Re)):de}else ee?(Ae=(await Promise.all(Se.map(async ke=>{const Re=Qe(n,ke);return await j(Re&&Re._f?{[ke]:Re}:Re)}))).every(Boolean),!(!Ae&&!r.isValid)&&x()):Ae=de=await j(n);return p.state.next({...!_o(ee)||(d.isValid||f.isValid)&&de!==r.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:de}:{},errors:r.errors}),G.shouldFocus&&!Ae&&G1(n,ge,ee?Se:o.mount),Ae},U=ee=>{const G={...s.mount?a:i};return Nn(ee)?G:_o(ee)?Qe(G,ee):ee.map(de=>Qe(G,de))},W=(ee,G)=>({invalid:!!Qe((G||r).errors,ee),isDirty:!!Qe((G||r).dirtyFields,ee),error:Qe((G||r).errors,ee),isValidating:!!Qe(r.validatingFields,ee),isTouched:!!Qe((G||r).touchedFields,ee)}),Y=ee=>{ee&&W1(ee).forEach(G=>qn(r.errors,G)),p.state.next({errors:ee?r.errors:{}})},ie=(ee,G,de)=>{const Ae=(Qe(n,ee,{_f:{}})._f||{}).ref,Se=Qe(r.errors,ee)||{},{ref:ke,message:Re,type:Fe,...Ge}=Se;wr(r.errors,ee,{...Ge,...G,ref:Ae}),p.state.next({name:ee,errors:r.errors,isValid:!1}),de&&de.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ue=(ee,G)=>Ls(ee)?p.state.subscribe({next:de=>ee(B(void 0,G),de)}):B(ee,G,!0),ae=ee=>p.state.subscribe({next:G=>{QK(ee.name,G.name,ee.exact)&&KK(G,ee.formState||d,Ue,ee.reRenderRoot)&&ee.callback({values:{...a},...r,...G})}}).unsubscribe,xe=ee=>(s.mount=!0,f={...f,...ee.formState},ae({...ee,formState:f})),ve=(ee,G={})=>{for(const de of ee?W1(ee):o.mount)o.mount.delete(de),o.array.delete(de),G.keepValue||(qn(n,de),qn(a,de)),!G.keepError&&qn(r.errors,de),!G.keepDirty&&qn(r.dirtyFields,de),!G.keepTouched&&qn(r.touchedFields,de),!G.keepIsValidating&&qn(r.validatingFields,de),!e.shouldUnregister&&!G.keepDefaultValue&&qn(i,de);p.state.next({values:vi(a)}),p.state.next({...r,...G.keepDirty?{isDirty:L()}:{}}),!G.keepIsValid&&x()},Ce=({disabled:ee,name:G})=>{(Ta(ee)&&s.mount||ee||o.disabled.has(G))&&(ee?o.disabled.add(G):o.disabled.delete(G))},je=(ee,G={})=>{let de=Qe(n,ee);const Ae=Ta(G.disabled)||Ta(e.disabled);return wr(n,ee,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:ee}},name:ee,mount:!0,...G}}),o.mount.add(ee),de?Ce({disabled:Ta(G.disabled)?G.disabled:e.disabled,name:ee}):D(ee,!0,G.value),{...Ae?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:x1(G.min),max:x1(G.max),minLength:x1(G.minLength),maxLength:x1(G.maxLength),pattern:x1(G.pattern)}:{},name:ee,onChange:ne,onBlur:ne,ref:Se=>{if(Se){je(ee,G),de=Qe(n,ee);const ke=Nn(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,Re=HK(ke),Fe=de._f.refs||[];if(Re?Fe.find(Ge=>Ge===ke):ke===de._f.ref)return;wr(n,ee,{_f:{...de._f,...Re?{refs:[...Fe.filter(Oy),ke,...Array.isArray(Qe(i,ee))?[{}]:[]],ref:{type:ke.type,name:ee}}:{ref:ke}}}),D(ee,!1,void 0,ke)}else de=Qe(n,ee,{}),de._f&&(de._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(nP(o.array,ee)&&s.action)&&o.unMount.add(ee)}}},Le=()=>e.shouldFocusError&&G1(n,ge,o.mount),Ee=ee=>{Ta(ee)&&(p.state.next({disabled:ee}),G1(n,(G,de)=>{const Ae=Qe(n,de);Ae&&(G.disabled=Ae._f.disabled||ee,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Se=>{Se.disabled=Ae._f.disabled||ee}))},0,!1))},me=(ee,G)=>async de=>{let Ae;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let Se=vi(a);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ke,values:Re}=await P();r.errors=ke,Se=Re}else await j(n);if(o.disabled.size)for(const ke of o.disabled)wr(Se,ke,void 0);if(qn(r.errors,"root"),Xi(r.errors)){p.state.next({errors:{}});try{await ee(Se,de)}catch(ke){Ae=ke}}else G&&await G({...r.errors},de),Le(),setTimeout(Le);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xi(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},Q=(ee,G={})=>{Qe(n,ee)&&(Nn(G.defaultValue)?H(ee,vi(Qe(i,ee))):(H(ee,G.defaultValue),wr(i,ee,vi(G.defaultValue))),G.keepTouched||qn(r.touchedFields,ee),G.keepDirty||(qn(r.dirtyFields,ee),r.isDirty=G.defaultValue?L(ee,vi(Qe(i,ee))):L()),G.keepError||(qn(r.errors,ee),d.isValid&&x()),p.state.next({...r}))},at=(ee,G={})=>{const de=ee?vi(ee):i,Ae=vi(de),Se=Xi(ee),ke=Se?i:Ae;if(G.keepDefaultValues||(i=de),!G.keepValues){if(G.keepDirtyValues){const Re=new Set([...o.mount,...Object.keys(g1(i,a))]);for(const Fe of Array.from(Re))Qe(r.dirtyFields,Fe)?wr(ke,Fe,Qe(a,Fe)):H(Fe,Qe(ke,Fe))}else{if(Q3&&Nn(ee))for(const Re of o.mount){const Fe=Qe(n,Re);if(Fe&&Fe._f){const Ge=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(yg(Ge)){const $e=Ge.closest("form");if($e){$e.reset();break}}}}for(const Re of o.mount)H(Re,Qe(ke,Re))}a=vi(ke),p.array.next({values:{...ke}}),p.state.next({values:{...ke}})}o={mount:G.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,s.watch=!!e.shouldUnregister,p.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:Se?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!ec(ee,i)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Se?{}:G.keepDirtyValues?G.keepDefaultValues&&a?g1(i,a):r.dirtyFields:G.keepDefaultValues&&ee?g1(i,ee):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},wt=(ee,G)=>at(Ls(ee)?ee(a):ee,G),gt=(ee,G={})=>{const de=Qe(n,ee),Ae=de&&de._f;if(Ae){const Se=Ae.refs?Ae.refs[0]:Ae.ref;Se.focus&&(Se.focus(),G.shouldSelect&&Ls(Se.select)&&Se.select())}},Ue=ee=>{r={...r,...ee}},Ye={control:{register:je,unregister:ve,getFieldState:W,handleSubmit:me,setError:ie,_subscribe:ae,_runSchema:P,_getWatch:B,_getDirty:L,_setValid:x,_setFieldArray:_,_setDisabledField:Ce,_setErrors:k,_getFieldArray:te,_reset:at,_resetDefaultValues:()=>Ls(e.defaultValues)&&e.defaultValues().then(ee=>{wt(ee,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:Ee,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(ee){s=ee},get _defaultValues(){return i},get _names(){return o},set _names(ee){o=ee},get _formState(){return r},get _options(){return e},set _options(ee){e={...e,...ee}}},subscribe:xe,trigger:_e,register:je,handleSubmit:me,watch:ue,setValue:H,getValues:U,reset:wt,resetField:Q,clearErrors:Y,unregister:ve,setError:ie,setFocus:gt,getFieldState:W};return{...Ye,formControl:Ye}}function iQ(t={}){const e=Ut.useRef(void 0),r=Ut.useRef(void 0),[n,i]=Ut.useState({isDirty:!1,isValidating:!1,isLoading:Ls(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ls(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:nQ(t),formState:n},t.formControl&&t.defaultValues&&!Ls(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Ut.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),Ut.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ut.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),Ut.useEffect(()=>{t.values&&!ec(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),Ut.useEffect(()=>{t.errors&&!Xi(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Ut.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ut.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=sP(n,a),e.current}const _C=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Qe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},mP=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?_C(n.ref,r,t):n.refs&&n.refs.forEach(i=>_C(i,r,t))}},aQ=(t,e)=>{e.shouldUseNativeValidation&&mP(t,e);const r={};for(const n in t){const i=Qe(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(sQ(e.names||Object.keys(t),n)){const s=Object.assign({},Qe(r,n));wr(s,"root",a),wr(r,n,s)}else wr(r,n,a)}return r},sQ=(t,e)=>t.some(r=>r.startsWith(e+"."));var oQ=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[s].types,u=l&&l[n.code];r[s]=lP(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},lQ=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&mP({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:aQ(oQ(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},lr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(lr||(lr={}));var R5;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(R5||(R5={}));const tt=lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sl=t=>{switch(typeof t){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return isNaN(t)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(t)?tt.array:t===null?tt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?tt.promise:typeof Map<"u"&&t instanceof Map?tt.map:typeof Set<"u"&&t instanceof Set?tt.set:typeof Date<"u"&&t instanceof Date?tt.date:tt.object;default:return tt.unknown}},Ve=lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}static assert(e){if(!(e instanceof Fa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fa.create=t=>new Fa(t);const lh=(t,e)=>{let r;switch(t.code){case Ve.invalid_type:t.received===tt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,lr.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${lr.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${lr.joinValues(t.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${lr.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:lr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=e.defaultError,lr.assertNever(t)}return{message:r}};let vP=lh;function uQ(t){vP=t}function _g(){return vP}const Ng=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},dQ=[];function Je(t,e){const r=_g(),n=Ng({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===lh?void 0:lh].filter(i=>!!i)});t.common.issues.push(n)}class Li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return It;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return It;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const It=Object.freeze({status:"aborted"}),df=t=>({status:"dirty",value:t}),Ji=t=>({status:"valid",value:t}),D5=t=>t.status==="aborted",L5=t=>t.status==="dirty",ad=t=>t.status==="valid",R0=t=>typeof Promise<"u"&&t instanceof Promise;function Sg(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function gP(t,e,r,n,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ht||(ht={}));var I1,T1;class To{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NC=(t,e)=>{if(ad(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fa(t.common.issues);return this._error=r,this._error}}};function zt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var l,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:i}}class Xt{get description(){return this._def.description}_getType(e){return sl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:sl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Li,ctx:{common:e.parent.common,data:e.data,parsedType:sl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(R0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sl(e)},a=this._parseSync({data:e,path:i.path,parent:i});return NC(i,a)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sl(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return ad(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>ad(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sl(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(R0(i)?i:Promise.resolve(i));return NC(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:Ve.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ws({schema:this,typeName:jt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return jo.create(this,this._def)}nullable(){return $c.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return uh.create(this,this._def)}or(e){return F0.create([this,e],this._def)}and(e){return B0.create(this,e,this._def)}transform(e){return new Ws({...zt(this._def),schema:this,typeName:jt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $0({...zt(this._def),innerType:this,defaultValue:r,typeName:jt.ZodDefault})}brand(){return new r_({typeName:jt.ZodBranded,type:this,...zt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new H0({...zt(this._def),innerType:this,catchValue:r,typeName:jt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vp.create(this,e)}readonly(){return W0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fQ=/^c[^\s-]{8,}$/i,hQ=/^[0-9a-z]+$/,pQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vQ=/^[a-z0-9_-]{21}$/i,gQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ry;const bQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_Q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EQ=new RegExp(`^${xP}$`);function yP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function jQ(t){return new RegExp(`^${yP(t)}$`)}function wP(t){let e=`${xP}T${yP(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function kQ(t,e){return!!((e==="v4"||!e)&&bQ.test(t)||(e==="v6"||!e)&&NQ.test(t))}function IQ(t,e){if(!gQ.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function TQ(t,e){return!!((e==="v4"||!e)&&_Q.test(t)||(e==="v6"||!e)&&SQ.test(t))}class Ms extends Xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tt.string){const a=this._getOrReturnCtx(e);return Je(a,{code:Ve.invalid_type,expected:tt.string,received:a.parsedType}),It}const n=new Li;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?Je(i,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Je(i,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")yQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ry||(Ry=new RegExp(wQ,"u")),Ry.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")mQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"nanoid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")fQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")hQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")pQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Je(i,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?wP(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?EQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?jQ(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"duration",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?kQ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?IQ(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"jwt",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?TQ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"cidr",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?AQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"base64",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?CQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Je(i,{validation:"base64url",code:Ve.invalid_string,message:a.message}),n.dirty()):lr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ve.invalid_string,...ht.errToObj(n)})}_addCheck(e){return new Ms({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ht.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ht.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ht.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ht.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ht.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ht.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ht.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ht.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ht.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ht.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ht.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ht.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ht.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ht.errToObj(r)})}nonempty(e){return this.min(1,ht.errToObj(e))}trim(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ms.create=t=>{var e;return new Ms({checks:[],typeName:jt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};function PQ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class zc extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tt.number){const a=this._getOrReturnCtx(e);return Je(a,{code:Ve.invalid_type,expected:tt.number,received:a.parsedType}),It}let n;const i=new Li;for(const a of this._def.checks)a.kind==="int"?lr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?PQ(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.not_finite,message:a.message}),i.dirty()):lr.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ht.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ht.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ht.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ht.toString(r))}setLimit(e,r,n,i){return new zc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ht.toString(i)}]})}_addCheck(e){return new zc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ht.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ht.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}zc.create=t=>new zc({checks:[],typeName:jt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class Vc extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tt.bigint)return this._getInvalidInput(e);let n;const i=new Li;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Je(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):lr.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Je(r,{code:Ve.invalid_type,expected:tt.bigint,received:r.parsedType}),It}gte(e,r){return this.setLimit("min",e,!0,ht.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ht.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ht.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ht.toString(r))}setLimit(e,r,n,i){return new Vc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ht.toString(i)}]})}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ht.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ht.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vc.create=t=>{var e;return new Vc({checks:[],typeName:jt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};class D0 extends Xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tt.boolean){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.boolean,received:n.parsedType}),It}return Ji(e.data)}}D0.create=t=>new D0({typeName:jt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class sd extends Xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tt.date){const a=this._getOrReturnCtx(e);return Je(a,{code:Ve.invalid_type,expected:tt.date,received:a.parsedType}),It}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Je(a,{code:Ve.invalid_date}),It}const n=new Li;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Je(i,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):lr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ht.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ht.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}sd.create=t=>new sd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:jt.ZodDate,...zt(t)});class Ag extends Xt{_parse(e){if(this._getType(e)!==tt.symbol){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.symbol,received:n.parsedType}),It}return Ji(e.data)}}Ag.create=t=>new Ag({typeName:jt.ZodSymbol,...zt(t)});class L0 extends Xt{_parse(e){if(this._getType(e)!==tt.undefined){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.undefined,received:n.parsedType}),It}return Ji(e.data)}}L0.create=t=>new L0({typeName:jt.ZodUndefined,...zt(t)});class M0 extends Xt{_parse(e){if(this._getType(e)!==tt.null){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.null,received:n.parsedType}),It}return Ji(e.data)}}M0.create=t=>new M0({typeName:jt.ZodNull,...zt(t)});class ch extends Xt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ji(e.data)}}ch.create=t=>new ch({typeName:jt.ZodAny,...zt(t)});class qu extends Xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ji(e.data)}}qu.create=t=>new qu({typeName:jt.ZodUnknown,...zt(t)});class bl extends Xt{_parse(e){const r=this._getOrReturnCtx(e);return Je(r,{code:Ve.invalid_type,expected:tt.never,received:r.parsedType}),It}}bl.create=t=>new bl({typeName:jt.ZodNever,...zt(t)});class Cg extends Xt{_parse(e){if(this._getType(e)!==tt.undefined){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.void,received:n.parsedType}),It}return Ji(e.data)}}Cg.create=t=>new Cg({typeName:jt.ZodVoid,...zt(t)});class Us extends Xt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==tt.array)return Je(r,{code:Ve.invalid_type,expected:tt.array,received:r.parsedType}),It;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(Je(r,{code:s?Ve.too_big:Ve.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Je(r,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Je(r,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new To(r,s,r.path,o)))).then(s=>Li.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new To(r,s,r.path,o)));return Li.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Us({...this._def,minLength:{value:e,message:ht.toString(r)}})}max(e,r){return new Us({...this._def,maxLength:{value:e,message:ht.toString(r)}})}length(e,r){return new Us({...this._def,exactLength:{value:e,message:ht.toString(r)}})}nonempty(e){return this.min(1,e)}}Us.create=(t,e)=>new Us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:jt.ZodArray,...zt(e)});function Wd(t){if(t instanceof nn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=jo.create(Wd(n))}return new nn({...t._def,shape:()=>e})}else return t instanceof Us?new Us({...t._def,type:Wd(t.element)}):t instanceof jo?jo.create(Wd(t.unwrap())):t instanceof $c?$c.create(Wd(t.unwrap())):t instanceof Po?Po.create(t.items.map(e=>Wd(e))):t}class nn extends Xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=lr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==tt.object){const u=this._getOrReturnCtx(e);return Je(u,{code:Ve.invalid_type,expected:tt.object,received:u.parsedType}),It}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof bl&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const d=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new To(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof bl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(Je(i,{code:Ve.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new To(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Li.mergeObjectSync(n,u)):Li.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ht.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=ht.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const r={};return lr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new nn({...this._def,shape:()=>r})}omit(e){const r={};return lr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new nn({...this._def,shape:()=>r})}deepPartial(){return Wd(this)}partial(e){const r={};return lr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new nn({...this._def,shape:()=>r})}required(e){const r={};return lr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof jo;)a=a._def.innerType;r[n]=a}}),new nn({...this._def,shape:()=>r})}keyof(){return bP(lr.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:bl.create(),typeName:jt.ZodObject,...zt(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:bl.create(),typeName:jt.ZodObject,...zt(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:bl.create(),typeName:jt.ZodObject,...zt(e)});class F0 extends Xt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Fa(o.ctx.common.issues));return Je(r,{code:Ve.invalid_union,unionErrors:s}),It}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new Fa(l));return Je(r,{code:Ve.invalid_union,unionErrors:o}),It}}get options(){return this._def.options}}F0.create=(t,e)=>new F0({options:t,typeName:jt.ZodUnion,...zt(e)});const tl=t=>t instanceof z0?tl(t.schema):t instanceof Ws?tl(t.innerType()):t instanceof V0?[t.value]:t instanceof qc?t.options:t instanceof q0?lr.objectValues(t.enum):t instanceof $0?tl(t._def.innerType):t instanceof L0?[void 0]:t instanceof M0?[null]:t instanceof jo?[void 0,...tl(t.unwrap())]:t instanceof $c?[null,...tl(t.unwrap())]:t instanceof r_||t instanceof W0?tl(t.unwrap()):t instanceof H0?tl(t._def.innerType):[];class w2 extends Xt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==tt.object)return Je(r,{code:Ve.invalid_type,expected:tt.object,received:r.parsedType}),It;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const s=tl(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new w2({typeName:jt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...zt(n)})}}function M5(t,e){const r=sl(t),n=sl(e);if(t===e)return{valid:!0,data:t};if(r===tt.object&&n===tt.object){const i=lr.objectKeys(e),a=lr.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=M5(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===tt.array&&n===tt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=M5(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===tt.date&&n===tt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class B0 extends Xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(D5(a)||D5(s))return It;const o=M5(a.value,s.value);return o.valid?((L5(a)||L5(s))&&r.dirty(),{status:r.value,value:o.data}):(Je(n,{code:Ve.invalid_intersection_types}),It)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}B0.create=(t,e,r)=>new B0({left:t,right:e,typeName:jt.ZodIntersection,...zt(r)});class Po extends Xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.array)return Je(n,{code:Ve.invalid_type,expected:tt.array,received:n.parsedType}),It;if(n.data.length<this._def.items.length)return Je(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&n.data.length>this._def.items.length&&(Je(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new To(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Li.mergeArray(r,s)):Li.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Po({...this._def,rest:e})}}Po.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Po({items:t,typeName:jt.ZodTuple,rest:null,...zt(e)})};class U0 extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.object)return Je(n,{code:Ve.invalid_type,expected:tt.object,received:n.parsedType}),It;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new To(n,o,n.path,o)),value:s._parse(new To(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Li.mergeObjectAsync(r,i):Li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Xt?new U0({keyType:e,valueType:r,typeName:jt.ZodRecord,...zt(n)}):new U0({keyType:Ms.create(),valueType:e,typeName:jt.ZodRecord,...zt(r)})}}class Eg extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.map)return Je(n,{code:Ve.invalid_type,expected:tt.map,received:n.parsedType}),It;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new To(n,o,n.path,[u,"key"])),value:a._parse(new To(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return It;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return It;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}Eg.create=(t,e,r)=>new Eg({valueType:e,keyType:t,typeName:jt.ZodMap,...zt(r)});class od extends Xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.set)return Je(n,{code:Ve.invalid_type,expected:tt.set,received:n.parsedType}),It;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Je(n,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Je(n,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return It;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>a._parse(new To(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new od({...this._def,minSize:{value:e,message:ht.toString(r)}})}max(e,r){return new od({...this._def,maxSize:{value:e,message:ht.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}od.create=(t,e)=>new od({valueType:t,minSize:null,maxSize:null,typeName:jt.ZodSet,...zt(e)});class kf extends Xt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==tt.function)return Je(r,{code:Ve.invalid_type,expected:tt.function,received:r.parsedType}),It;function n(o,l){return Ng({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_g(),lh].filter(u=>!!u),issueData:{code:Ve.invalid_arguments,argumentsError:l}})}function i(o,l){return Ng({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_g(),lh].filter(u=>!!u),issueData:{code:Ve.invalid_return_type,returnTypeError:l}})}const a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof uh){const o=this;return Ji(async function(...l){const u=new Fa([]),d=await o._def.args.parseAsync(l,a).catch(h=>{throw u.addIssue(n(l,h)),u}),f=await Reflect.apply(s,this,d);return await o._def.returns._def.type.parseAsync(f,a).catch(h=>{throw u.addIssue(i(f,h)),u})})}else{const o=this;return Ji(function(...l){const u=o._def.args.safeParse(l,a);if(!u.success)throw new Fa([n(l,u.error)]);const d=Reflect.apply(s,this,u.data),f=o._def.returns.safeParse(d,a);if(!f.success)throw new Fa([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kf({...this._def,args:Po.create(e).rest(qu.create())})}returns(e){return new kf({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new kf({args:e||Po.create([]).rest(qu.create()),returns:r||qu.create(),typeName:jt.ZodFunction,...zt(n)})}}class z0 extends Xt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}z0.create=(t,e)=>new z0({getter:t,typeName:jt.ZodLazy,...zt(e)});class V0 extends Xt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Je(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:e.data}}get value(){return this._def.value}}V0.create=(t,e)=>new V0({value:t,typeName:jt.ZodLiteral,...zt(e)});function bP(t,e){return new qc({values:t,typeName:jt.ZodEnum,...zt(e)})}class qc extends Xt{constructor(){super(...arguments),I1.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Je(r,{expected:lr.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),It}if(Sg(this,I1)||gP(this,I1,new Set(this._def.values)),!Sg(this,I1).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Je(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),It}return Ji(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return qc.create(e,{...this._def,...r})}exclude(e,r=this._def){return qc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}I1=new WeakMap;qc.create=bP;class q0 extends Xt{constructor(){super(...arguments),T1.set(this,void 0)}_parse(e){const r=lr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==tt.string&&n.parsedType!==tt.number){const i=lr.objectValues(r);return Je(n,{expected:lr.joinValues(i),received:n.parsedType,code:Ve.invalid_type}),It}if(Sg(this,T1)||gP(this,T1,new Set(lr.getValidEnumValues(this._def.values))),!Sg(this,T1).has(e.data)){const i=lr.objectValues(r);return Je(n,{received:n.data,code:Ve.invalid_enum_value,options:i}),It}return Ji(e.data)}get enum(){return this._def.values}}T1=new WeakMap;q0.create=(t,e)=>new q0({values:t,typeName:jt.ZodNativeEnum,...zt(e)});class uh extends Xt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==tt.promise&&r.common.async===!1)return Je(r,{code:Ve.invalid_type,expected:tt.promise,received:r.parsedType}),It;const n=r.parsedType===tt.promise?r.data:Promise.resolve(r.data);return Ji(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}uh.create=(t,e)=>new uh({type:t,typeName:jt.ZodPromise,...zt(e)});class Ws extends Xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{Je(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return It;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?It:l.status==="dirty"||r.value==="dirty"?df(l.value):l});{if(r.value==="aborted")return It;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?It:o.status==="dirty"||r.value==="dirty"?df(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?It:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?It:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ad(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>ad(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):s);lr.assertNever(i)}}Ws.create=(t,e,r)=>new Ws({schema:t,typeName:jt.ZodEffects,effect:e,...zt(r)});Ws.createWithPreprocess=(t,e,r)=>new Ws({schema:e,effect:{type:"preprocess",transform:t},typeName:jt.ZodEffects,...zt(r)});class jo extends Xt{_parse(e){return this._getType(e)===tt.undefined?Ji(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jo.create=(t,e)=>new jo({innerType:t,typeName:jt.ZodOptional,...zt(e)});class $c extends Xt{_parse(e){return this._getType(e)===tt.null?Ji(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$c.create=(t,e)=>new $c({innerType:t,typeName:jt.ZodNullable,...zt(e)});class $0 extends Xt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$0.create=(t,e)=>new $0({innerType:t,typeName:jt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zt(e)});class H0 extends Xt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return R0(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}H0.create=(t,e)=>new H0({innerType:t,typeName:jt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zt(e)});class jg extends Xt{_parse(e){if(this._getType(e)!==tt.nan){const n=this._getOrReturnCtx(e);return Je(n,{code:Ve.invalid_type,expected:tt.nan,received:n.parsedType}),It}return{status:"valid",value:e.data}}}jg.create=t=>new jg({typeName:jt.ZodNaN,...zt(t)});const OQ=Symbol("zod_brand");class r_ extends Xt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class vp extends Xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?It:a.status==="dirty"?(r.dirty(),df(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?It:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new vp({in:e,out:r,typeName:jt.ZodPipeline})}}class W0 extends Xt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ad(i)&&(i.value=Object.freeze(i.value)),i);return R0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}W0.create=(t,e)=>new W0({innerType:t,typeName:jt.ZodReadonly,...zt(e)});function SC(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function _P(t,e={},r){return t?ch.create().superRefine((n,i)=>{var a,s;const o=t(n);if(o instanceof Promise)return o.then(l=>{var u,d;if(!l){const f=SC(e,n),p=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:p})}});if(!o){const l=SC(e,n),u=(s=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:u})}}):ch.create()}const RQ={object:nn.lazycreate};var jt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(jt||(jt={}));const DQ=(t,e={message:`Input not instance of ${t.name}`})=>_P(r=>r instanceof t,e),NP=Ms.create,SP=zc.create,LQ=jg.create,MQ=Vc.create,AP=D0.create,FQ=sd.create,BQ=Ag.create,UQ=L0.create,zQ=M0.create,VQ=ch.create,qQ=qu.create,$Q=bl.create,HQ=Cg.create,WQ=Us.create,GQ=nn.create,XQ=nn.strictCreate,YQ=F0.create,ZQ=w2.create,KQ=B0.create,QQ=Po.create,JQ=U0.create,eJ=Eg.create,tJ=od.create,rJ=kf.create,nJ=z0.create,iJ=V0.create,aJ=qc.create,sJ=q0.create,oJ=uh.create,AC=Ws.create,lJ=jo.create,cJ=$c.create,uJ=Ws.createWithPreprocess,dJ=vp.create,fJ=()=>NP().optional(),hJ=()=>SP().optional(),pJ=()=>AP().optional(),mJ={string:t=>Ms.create({...t,coerce:!0}),number:t=>zc.create({...t,coerce:!0}),boolean:t=>D0.create({...t,coerce:!0}),bigint:t=>Vc.create({...t,coerce:!0}),date:t=>sd.create({...t,coerce:!0})},vJ=It;var Rm=Object.freeze({__proto__:null,defaultErrorMap:lh,setErrorMap:uQ,getErrorMap:_g,makeIssue:Ng,EMPTY_PATH:dQ,addIssueToContext:Je,ParseStatus:Li,INVALID:It,DIRTY:df,OK:Ji,isAborted:D5,isDirty:L5,isValid:ad,isAsync:R0,get util(){return lr},get objectUtil(){return R5},ZodParsedType:tt,getParsedType:sl,ZodType:Xt,datetimeRegex:wP,ZodString:Ms,ZodNumber:zc,ZodBigInt:Vc,ZodBoolean:D0,ZodDate:sd,ZodSymbol:Ag,ZodUndefined:L0,ZodNull:M0,ZodAny:ch,ZodUnknown:qu,ZodNever:bl,ZodVoid:Cg,ZodArray:Us,ZodObject:nn,ZodUnion:F0,ZodDiscriminatedUnion:w2,ZodIntersection:B0,ZodTuple:Po,ZodRecord:U0,ZodMap:Eg,ZodSet:od,ZodFunction:kf,ZodLazy:z0,ZodLiteral:V0,ZodEnum:qc,ZodNativeEnum:q0,ZodPromise:uh,ZodEffects:Ws,ZodTransformer:Ws,ZodOptional:jo,ZodNullable:$c,ZodDefault:$0,ZodCatch:H0,ZodNaN:jg,BRAND:OQ,ZodBranded:r_,ZodPipeline:vp,ZodReadonly:W0,custom:_P,Schema:Xt,ZodSchema:Xt,late:RQ,get ZodFirstPartyTypeKind(){return jt},coerce:mJ,any:VQ,array:WQ,bigint:MQ,boolean:AP,date:FQ,discriminatedUnion:ZQ,effect:AC,enum:aJ,function:rJ,instanceof:DQ,intersection:KQ,lazy:nJ,literal:iJ,map:eJ,nan:LQ,nativeEnum:sJ,never:$Q,null:zQ,nullable:cJ,number:SP,object:GQ,oboolean:pJ,onumber:hJ,optional:lJ,ostring:fJ,pipeline:dJ,preprocess:uJ,promise:oJ,record:JQ,set:tJ,strictObject:XQ,string:NP,symbol:BQ,transformer:AC,tuple:QQ,undefined:UQ,union:YQ,unknown:qQ,void:HQ,NEVER:vJ,ZodIssueCode:Ve,quotelessJson:cQ,ZodError:Fa});const gJ=UK,CP=C.createContext({}),Dy=({...t})=>c.jsx(CP.Provider,{value:{name:t.name},children:c.jsx($K,{...t})}),b2=()=>{const t=C.useContext(CP),e=C.useContext(EP),{getFieldState:r,formState:n}=y2(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},EP=C.createContext({}),hv=C.forwardRef(({className:t,...e},r)=>{const n=C.useId();return c.jsx(EP.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:bt("space-y-2",t),...e})})});hv.displayName="FormItem";const pv=C.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=b2();return c.jsx(Et,{ref:r,className:bt(n&&"text-destructive",t),htmlFor:i,...e})});pv.displayName="FormLabel";const mv=C.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=b2();return c.jsx(_E,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});mv.displayName="FormControl";const xJ=C.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=b2();return c.jsx("p",{ref:r,id:n,className:bt("text-sm text-muted-foreground",t),...e})});xJ.displayName="FormDescription";const vv=C.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=b2(),s=i?String((i==null?void 0:i.message)??""):e;return s?c.jsx("p",{ref:n,id:a,className:bt("text-sm font-medium text-destructive",t),...r,children:s}):null});vv.displayName="FormMessage";const yJ=Rm.object({currentPassword:Rm.string().optional(),newPassword:Rm.string().min(8,"Password must be at least 8 characters long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:Rm.string()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function wJ(){const{user:t,refreshUser:e}=Mr(),{toast:r}=ci(),[,n]=ln(),[i,a]=C.useState(!1),[s,o]=C.useState(!1),[l,u]=C.useState(!1),d=(t==null?void 0:t.must_change_password)===!0,f=iQ({resolver:lQ(yJ),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),p=Dn({mutationFn:async g=>{if(!d&&g.newPassword===g.currentPassword)throw new Error("New password cannot be the same as your current password");const v=d?{newPassword:g.newPassword}:{currentPassword:g.currentPassword,newPassword:g.newPassword};return Ke("POST","/api/auth/change-password",v)},onSuccess:async()=>{r({title:"Success",description:"Password changed successfully"}),await e(),(t==null?void 0:t.role)==="super_admin"?n("/super-admin"):(t==null?void 0:t.role)==="garage_admin"?n("/admin-dashboard"):(t==null?void 0:t.role)==="mechanic_staff"?n("/staff-dashboard"):n("/dashboard")},onError:g=>{r({title:"Error",description:g.message||"Failed to change password",variant:"destructive"})}}),h=g=>{p.mutate(g)};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(h0,{className:"h-12 w-12 text-blue-600"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:d?"Change Your Password":"Update Password"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:d?"For security reasons, you must change your temporary password":"Update your account password"})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs(He,{children:[c.jsxs(Qt,{children:[c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(h0,{className:"h-5 w-5"}),"Change Password"]}),c.jsx(Nc,{children:d?"You are using a temporary password. Please create a new password to continue.":"Enter your current password and choose a new one."})]}),c.jsxs(We,{children:[d&&c.jsxs(vg,{className:"mb-6",children:[c.jsx(xl,{className:"h-4 w-4"}),c.jsxs(gg,{children:[c.jsx("strong",{children:"Password Change Required:"})," You must change your temporary password before you can access the system."]})]}),c.jsx(gJ,{...f,children:c.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-4",children:[!d&&c.jsx(Dy,{control:f.control,name:"currentPassword",render:({field:g})=>c.jsxs(hv,{children:[c.jsx(pv,{children:"Current Password"}),c.jsx(mv,{children:c.jsxs("div",{className:"relative",children:[c.jsx(ft,{...g,type:i?"text":"password",placeholder:"Enter your current password","data-testid":"input-current-password"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),"data-testid":"toggle-current-password",children:i?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})}),c.jsx(vv,{})]})}),c.jsx(Dy,{control:f.control,name:"newPassword",render:({field:g})=>c.jsxs(hv,{children:[c.jsx(pv,{children:"New Password"}),c.jsx(mv,{children:c.jsxs("div",{className:"relative",children:[c.jsx(ft,{...g,type:s?"text":"password",placeholder:"Enter your new password","data-testid":"input-new-password"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!s),"data-testid":"toggle-new-password",children:s?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})}),c.jsx(vv,{}),c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Password must contain:",c.jsxs("ul",{className:"list-disc list-inside ml-2",children:[c.jsx("li",{children:"At least 8 characters"}),c.jsx("li",{children:"One uppercase letter"}),c.jsx("li",{children:"One lowercase letter"}),c.jsx("li",{children:"One number"})]})]})]})}),c.jsx(Dy,{control:f.control,name:"confirmPassword",render:({field:g})=>c.jsxs(hv,{children:[c.jsx(pv,{children:"Confirm New Password"}),c.jsx(mv,{children:c.jsxs("div",{className:"relative",children:[c.jsx(ft,{...g,type:l?"text":"password",placeholder:"Confirm your new password","data-testid":"input-confirm-password"}),c.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!l),"data-testid":"toggle-confirm-password",children:l?c.jsx(Uu,{className:"h-4 w-4"}):c.jsx(fl,{className:"h-4 w-4"})})]})}),c.jsx(vv,{})]})}),c.jsx(Ne,{type:"submit",className:"w-full",disabled:p.isPending,"data-testid":"button-change-password",children:p.isPending?"Changing Password...":"Change Password"})]})})]})]})})]})}function bJ(){const{user:t,garage:e}=Mr(),{theme:r,toggleTheme:n}=hd(),[,i]=ln(),{data:a}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/job-cards?status=pending`)).json():[],enabled:!!(e!=null&&e.id)}),{data:s}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards","completed"],queryFn:async()=>e!=null&&e.id?(await Ke("GET",`/api/garages/${e.id}/job-cards?status=completed&limit=10`)).json():[],enabled:!!(e!=null&&e.id)});return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"gradient-header text-primary-foreground",children:c.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.logo?c.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"w-full h-full object-cover"}):c.jsx(p0,{className:"text-primary w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-semibold","data-testid":"title-staff-dashboard",children:"Staff Dashboard"}),c.jsxs("p",{className:"text-sm text-blue-100",children:["Welcome, ",t==null?void 0:t.name]})]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx(Ne,{variant:"ghost",size:"icon",onClick:n,className:"text-primary-foreground hover:bg-white/10","data-testid":"button-theme-toggle",children:r==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})})})]})}),c.jsxs("div",{className:"px-4 py-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(He,{"data-testid":"card-pending-jobs",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tc,{className:"w-5 h-5 text-orange-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Jobs"}),c.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.length)||0})]})]})})}),c.jsx(He,{"data-testid":"card-completed-jobs",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(as,{className:"w-5 h-5 text-green-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Today"}),c.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.length)||0})]})]})})}),c.jsx(He,{"data-testid":"card-garage-info",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xc,{className:"w-5 h-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Working at"}),c.jsx("p",{className:"text-lg font-bold",children:(e==null?void 0:e.name)||"Garage"})]})]})})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(p0,{className:"w-5 h-5"}),"Quick Actions"]})}),c.jsx(We,{children:c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs(Ne,{onClick:()=>i("/job-card"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-new-job",children:[c.jsx(dd,{className:"w-6 h-6"}),c.jsx("span",{children:"New Job Card"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>i("/pending-services"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-pending-jobs",children:[c.jsx(Tc,{className:"w-6 h-6"}),c.jsx("span",{children:"Pending Jobs"})]}),c.jsxs(Ne,{variant:"outline",onClick:()=>i("/customers"),className:"h-20 flex flex-col items-center justify-center space-y-2","data-testid":"button-customers",children:[c.jsx(ul,{className:"w-6 h-6"}),c.jsx("span",{children:"Customers"})]})]})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(Yg,{className:"w-5 h-5"}),"Current Work Queue"]})}),c.jsx(We,{children:a&&a.length>0?c.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(o=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",onClick:()=>i(`/invoice/${o.id}`),"data-testid":`job-card-${o.id}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:o.customerName}),c.jsx("p",{className:"text-sm text-muted-foreground",children:o.bikeNumber}),c.jsx("p",{className:"text-sm text-muted-foreground",children:o.complaint})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["",o.totalAmount]}),c.jsx("p",{className:"text-sm text-orange-600 font-medium",children:o.status})]})]},o.id)),c.jsx(Ne,{variant:"outline",onClick:()=>i("/pending-services"),className:"w-full mt-4","data-testid":"button-view-all-jobs",children:"View All Pending Jobs"})]}):c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(WL,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No pending job cards"}),c.jsx("p",{className:"text-sm",children:"All caught up! Great work."}),c.jsx(Ne,{onClick:()=>i("/job-card"),className:"mt-4","data-testid":"button-create-job",children:"Create New Job Card"})]})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(as,{className:"w-5 h-5"}),"Recently Completed"]})}),c.jsx(We,{children:s&&s.length>0?c.jsx("div",{className:"space-y-3",children:s.slice(0,3).map(o=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg","data-testid":`completed-job-${o.id}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:o.customerName}),c.jsx("p",{className:"text-sm text-muted-foreground",children:o.bikeNumber})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium text-green-600",children:["",o.totalAmount]}),c.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Completed"}),c.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>i(`/completed-service-details/${o.id}`),className:"mt-1 text-xs","data-testid":`button-view-details-${o.id}`,children:"View Details"})]})]},o.id))}):c.jsx("div",{className:"text-center py-4 text-muted-foreground",children:c.jsx("p",{className:"text-sm",children:"No completed jobs yet today"})})})]})]})]})}function _J(){var v;const{user:t,logout:e}=Mr(),{theme:r,toggleTheme:n}=hd(),[,i]=ln(),{toast:a}=ci(),[s,o]=C.useState(""),[l,u]=C.useState("");console.log(" Debug - selectedGarageId:",s,"Type:",typeof s,"Length:",s==null?void 0:s.length);const{data:d,isLoading:f}=Wt({queryKey:["/api/garages","staff_access"],queryFn:async()=>(await Ke("GET","/api/garages?purpose=staff_access")).json()}),[p,h]=C.useState(!1),g=async()=>{h(!0);try{const b=await Ke("POST","/api/auth/request-access",{email:t==null?void 0:t.email,name:t==null?void 0:t.name,requestType:"staff",garageId:s,message:l.trim()});if(b.ok){const x=await b.json();a({title:"Request Sent",description:x.message||"Your access request has been sent successfully."}),o(""),u("")}else{const x=await b.json();x.message&&x.message.includes("Garage selection is required")?a({title:"Garage Selection Required",description:"Please select a garage from the dropdown above to continue with your access request.",variant:"destructive"}):a({title:"Error",description:x.message||"Failed to send access request. Please try again.",variant:"destructive"});return}}catch(b){b.message&&b.message.includes("Garage selection is required")?a({title:"Garage Selection Required",description:"Please select a garage from the dropdown above to continue with your access request.",variant:"destructive"}):a({title:"Error",description:b.message||"Failed to send access request. Please try again.",variant:"destructive"})}finally{h(!1)}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"gradient-header text-primary-foreground",children:c.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:c.jsx($L,{className:"text-primary w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-semibold","data-testid":"title-access-request",children:"Request Garage Access"}),c.jsx("p",{className:"text-sm text-blue-100",children:"Join a garage to start working"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:n,className:"text-primary-foreground hover:bg-white/10","data-testid":"button-theme-toggle",children:r==="dark"?c.jsx(Oc,{className:"w-5 h-5"}):c.jsx(Pc,{className:"w-5 h-5"})}),c.jsx(Ne,{variant:"ghost",size:"sm",onClick:e,className:"text-primary-foreground hover:bg-white/10","data-testid":"button-logout",children:"Logout"})]})]})}),c.jsxs("div",{className:"px-4 py-6 max-w-2xl mx-auto space-y-6",children:[c.jsx(He,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-2 text-orange-800 dark:text-orange-200",children:[c.jsx(qv,{className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Access Required"}),c.jsx("p",{className:"text-sm",children:"You need to be assigned to a garage before you can start working. Please request access below."})]})]})})}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx(Rc,{className:"w-5 h-5"}),"Your Information"]})}),c.jsxs(We,{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Et,{className:"text-sm text-muted-foreground",children:"Name"}),c.jsx("p",{className:"font-medium","data-testid":"text-user-name",children:t==null?void 0:t.name})]}),c.jsxs("div",{children:[c.jsx(Et,{className:"text-sm text-muted-foreground",children:"Email"}),c.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:t==null?void 0:t.email})]})]}),c.jsxs("div",{children:[c.jsx(Et,{className:"text-sm text-muted-foreground",children:"Role"}),c.jsx("p",{className:"font-medium capitalize","data-testid":"text-user-role",children:(v=t==null?void 0:t.role)==null?void 0:v.replace("_"," ")})]})]})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center gap-2",children:[c.jsx($v,{className:"w-5 h-5"}),"Request Access"]})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"garage-select",className:"text-sm font-medium",children:"Select Garage *"}),c.jsxs(x0,{value:s,onValueChange:b=>{console.log(" Garage changed to:",b,"Type:",typeof b),o(b)},disabled:f,children:[c.jsx(eh,{"data-testid":"select-garage",children:c.jsx(y0,{placeholder:f?"Loading garages...":"Choose a garage to request access"})}),c.jsx(th,{children:d==null?void 0:d.map(b=>c.jsx(es,{value:b.id,children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:b.name}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Owner: ",b.ownerName]})]})},b.id))})]}),!s&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-1",children:[c.jsx(qv,{className:"w-4 h-4"}),"Please select a garage to enable the submit button"]})]}),c.jsxs("div",{children:[c.jsx(Et,{htmlFor:"message",className:"text-sm font-medium",children:"Message (Optional)"}),c.jsx(Fc,{id:"message",placeholder:"Tell the garage owner why you'd like to work there...",value:l,onChange:b=>u(b.target.value),rows:4,"data-testid":"textarea-message"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Introduce yourself and mention any relevant experience"})]}),c.jsx(Ne,{onClick:g,disabled:p||!s||s.trim()==="",className:`w-full ${!s||s.trim()===""?"opacity-50 cursor-not-allowed":""}`,"data-testid":"button-submit-request",children:p?c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Sending Request..."})]}):c.jsxs(c.Fragment,{children:[c.jsx($v,{className:"w-4 h-4 mr-2"}),"Send Access Request"]})})]})]}),c.jsx(He,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950",children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex items-start space-x-2 text-blue-800 dark:text-blue-200",children:[c.jsx(Gb,{className:"w-5 h-5 mt-0.5"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-medium mb-2",children:"What happens next?"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:" Your request will be sent to the garage admin"}),c.jsx("li",{children:" They will review your request and contact you"}),c.jsx("li",{children:" Once approved, you'll be able to access the staff dashboard"}),c.jsx("li",{children:" You'll receive email notifications about your request status"})]})]})]})})}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsx(Jt,{className:"text-sm",children:"Need help?"})}),c.jsxs(We,{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"If you don't see the garage you're looking for, ask the garage owner to:"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[c.jsx("li",{children:" Register their garage on the platform"}),c.jsx("li",{children:" Provide you with an activation code"}),c.jsx("li",{children:" Contact support for assistance"})]}),c.jsx("div",{className:"pt-2",children:c.jsx(Ne,{variant:"outline",onClick:()=>i("/register"),size:"sm","data-testid":"button-register-with-code",children:"I have an activation code"})})]})]})]})]})}function NJ(){const[,t]=ln(),{garage:e}=Mr(),[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(!1),{data:p,isLoading:h}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"job-cards","completed"],queryFn:async()=>e!=null&&e.id?(await(await Ke("GET",`/api/garages/${e.id}/job-cards`)).json()).filter(k=>k.status==="completed"):[],enabled:!!(e!=null&&e.id)}),{data:g}=Wt({queryKey:["/api/garages",e==null?void 0:e.id,"invoices"],queryFn:async()=>e!=null&&e.id?await(await Ke("GET",`/api/garages/${e.id}/invoices`)).json():[],enabled:!!(e!=null&&e.id)}),v=(p==null?void 0:p.filter(_=>{var P,O,j;const N=r===""||((P=_.customer_name)==null?void 0:P.toLowerCase().includes(r.toLowerCase()))||((O=_.complaint)==null?void 0:O.toLowerCase().includes(r.toLowerCase())),k=i===""||((j=_.bike_number)==null?void 0:j.toLowerCase().includes(i.toLowerCase())),D=new Date(_.completed_at||_.created_at),T=s===""||D>=new Date(s),R=l===""||D<=new Date(l+"T23:59:59");return N&&k&&T&&R}))||[],b=_=>{try{return Mk(new Date(_),"dd MMM yyyy, hh:mm a")}catch{return"Invalid Date"}},x=_=>{const N=g==null?void 0:g.find(T=>T.job_card_id===_.id);if(N&&N.total_amount)return Number(N.total_amount);const k=Array.isArray(_.spare_parts)?_.spare_parts.reduce((T,R)=>T+R.price*R.quantity,0):0,D=Number(_.service_charge)||0;return k+D},w=()=>{n(""),a(""),o(""),u("")};return h?c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/admin-dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Completed Services"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading completed services..."})]})})]}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>t("/admin-dashboard"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Completed Services"}),c.jsxs("p",{className:"text-sm text-white/80",children:[v.length," completed jobs"]})]})]}),c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>f(!d),className:"text-white hover:bg-white/10",children:c.jsx(Hb,{className:"w-5 h-5"})})]})}),c.jsxs("div",{className:"screen-content space-y-4",children:[c.jsx(He,{children:c.jsx(We,{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue from Completed Services"}),c.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",v.reduce((_,N)=>_+x(N),0).toFixed(2)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",v.length," services"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.filter(_=>g==null?void 0:g.find(N=>N.job_card_id===_.id)).length," with invoices"]})]})]})})}),c.jsx(He,{children:c.jsxs(We,{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(fd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(ft,{placeholder:"Search by customer name or complaint...",value:r,onChange:_=>n(_.target.value),className:"pl-10"})]}),d&&c.jsxs("div",{className:"space-y-3 pt-3 border-t border-border",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bike Number"}),c.jsx(ft,{placeholder:"Search by bike number...",value:i,onChange:_=>a(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Date"}),c.jsx(ft,{type:"date",value:s,onChange:_=>o(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"To Date"}),c.jsx(ft,{type:"date",value:l,onChange:_=>u(_.target.value)})]})]}),c.jsx("div",{className:"flex space-x-2",children:c.jsx(Ne,{variant:"outline",size:"sm",onClick:w,children:"Clear Filters"})})]})]})}),v.length===0?c.jsx(He,{children:c.jsxs(We,{className:"p-8 text-center",children:[c.jsx(Vs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Completed Services Found"}),c.jsx("p",{className:"text-muted-foreground",children:(p==null?void 0:p.length)===0?"No services have been completed yet.":"Try adjusting your search filters."})]})}):c.jsx("div",{className:"grid gap-4",children:v.map(_=>c.jsx(He,{className:"hover:shadow-md transition-shadow",children:c.jsxs(We,{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:"font-semibold",children:_.customer_name}),c.jsx(si,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Completed"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Rc,{className:"w-4 h-4"}),c.jsxs("span",{children:["Bike: ",_.bike_number]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Qu,{className:"w-4 h-4"}),c.jsxs("span",{children:["Completed: ",b(_.completed_at||_.created_at)]})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-semibold text-primary",children:["",x(_).toFixed(2)]}),c.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>t(`/completed-service-details/${_.id}`),className:"mt-2",children:[c.jsx(fl,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Complaint:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:_.complaint})]}),_.work_summary&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Work Summary:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:_.work_summary})]}),Array.isArray(_.spare_parts)&&_.spare_parts.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Parts Used:"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[_.spare_parts.slice(0,3).map((N,k)=>c.jsxs(si,{variant:"outline",className:"text-xs",children:[N.name," (",N.quantity,")"]},k)),_.spare_parts.length>3&&c.jsxs(si,{variant:"outline",className:"text-xs",children:["+",_.spare_parts.length-3," more"]})]})]})]})]})},_.id))})]})]})}function SJ(){const{id:t}=Rb(),[,e]=ln(),{garage:r}=Mr(),{data:n,isLoading:i}=Wt({queryKey:["/api/garages",r==null?void 0:r.id,"job-cards",t],queryFn:async()=>!(r!=null&&r.id)||!t?null:await(await Ke("GET",`/api/garages/${r.id}/job-cards/${t}`)).json(),enabled:!!(r!=null&&r.id)&&!!t}),{data:a}=Wt({queryKey:["/api/garages",r==null?void 0:r.id,"invoices","by-job-card",t],queryFn:async()=>{if(!(r!=null&&r.id)||!t)return null;try{return(await(await Ke("GET",`/api/garages/${r.id}/invoices`)).json()).find(h=>h.job_card_id===t)}catch{return null}},enabled:!!(r!=null&&r.id)&&!!t}),s=f=>{try{return Mk(new Date(f),"dd MMM yyyy, hh:mm a")}catch{return"Invalid Date"}},o=()=>{if(!n)return{partsTotal:0,serviceCharge:0,total:0};const f=Array.isArray(n.spare_parts)?n.spare_parts.reduce((g,v)=>g+v.price*v.quantity,0):0,p=Number(n.service_charge)||0,h=f+p;return{partsTotal:f,serviceCharge:p,total:h}};if(i)return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>e("/completed-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Service Details"})]})}),c.jsx("div",{className:"screen-content flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading service details..."})]})})]});if(!n)return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>e("/completed-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-lg font-semibold",children:"Service Details"})]})}),c.jsx("div",{className:"screen-content",children:c.jsx(He,{children:c.jsxs(We,{className:"p-8 text-center",children:[c.jsx(Vs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Service Not Found"}),c.jsx("p",{className:"text-muted-foreground",children:"The requested service details could not be found."})]})})})]});const{partsTotal:l,serviceCharge:u,total:d}=o();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("div",{className:"screen-header",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>e("/completed-services"),className:"text-white hover:bg-white/10",children:c.jsx(Pr,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Service Details"}),c.jsxs("p",{className:"text-sm text-white/80",children:[n.customer_name," - ",n.bike_number]})]})]})}),c.jsxs("div",{className:"screen-content space-y-4",children:[c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Jt,{className:"flex items-center space-x-2",children:[c.jsx(Rc,{className:"w-5 h-5"}),c.jsx("span",{children:"Customer Information"})]}),c.jsx(si,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Completed"})]})}),c.jsx(We,{className:"space-y-3",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Rc,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:"Customer Name"})]}),c.jsx("p",{className:"text-lg",children:n.customer_name})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Xc,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:"Bike Number"})]}),c.jsx("p",{className:"text-lg",children:n.bike_number})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Xb,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:"Phone"})]}),c.jsx("p",{className:"text-lg",children:n.phone})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Qu,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:"Completed Date"})]}),c.jsx("p",{className:"text-lg",children:s(n.completed_at||n.created_at)})]})]})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center space-x-2",children:[c.jsx(Vs,{className:"w-5 h-5"}),c.jsx("span",{children:"Service Details"})]})}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Original Complaint"}),c.jsx("p",{className:"text-muted-foreground bg-muted p-3 rounded-md",children:n.complaint})]}),n.work_summary&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Work Summary"}),c.jsx("p",{className:"text-muted-foreground bg-muted p-3 rounded-md",children:n.work_summary})]}),n.completion_notes&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Completion Notes"}),c.jsx("p",{className:"text-muted-foreground bg-muted p-3 rounded-md",children:n.completion_notes})]}),n.completed_by&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Completed By"}),c.jsx("p",{className:"text-muted-foreground",children:n.completed_by})]})]})]}),Array.isArray(n.spare_parts)&&n.spare_parts.length>0&&c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center space-x-2",children:[c.jsx(tM,{className:"w-5 h-5"}),c.jsx("span",{children:"Spare Parts Used"})]})}),c.jsx(We,{children:c.jsx("div",{className:"space-y-3",children:n.spare_parts.map((f,p)=>c.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-md",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium",children:f.name}),f.partNumber&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Part Number: ",f.partNumber]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",f.quantity]}),c.jsxs("p",{className:"font-medium",children:["",f.price," each"]}),c.jsxs("p",{className:"text-sm font-semibold",children:["",(f.price*f.quantity).toFixed(2)]})]})]},p))})})]}),c.jsxs(He,{children:[c.jsx(Qt,{children:c.jsxs(Jt,{className:"flex items-center space-x-2",children:[c.jsx(Wb,{className:"w-5 h-5"}),c.jsx("span",{children:"Billing Summary"})]})}),c.jsxs(We,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Parts Total:"}),c.jsxs("span",{children:["",l.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Service Charge:"}),c.jsxs("span",{children:["",u.toFixed(2)]})]}),c.jsx(b3,{}),c.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[c.jsx("span",{children:"Total Amount:"}),c.jsxs("span",{className:"text-primary",children:["",d.toFixed(2)]})]}),a&&c.jsxs("div",{className:"mt-4 pt-3 border-t border-border",children:[c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"Invoice Number:"}),c.jsx("span",{children:a.invoice_number})]}),c.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[c.jsx("span",{children:"WhatsApp Status:"}),c.jsx("span",{children:a.whatsapp_sent?"Sent":"Not Sent"})]})]})]})]})]})]})}function AJ(){const[,t]=ln();return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(He,{className:"w-full max-w-md",children:[c.jsxs(Qt,{className:"text-center",children:[c.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center",children:c.jsx(aj,{className:"w-8 h-8 text-destructive"})}),c.jsx(Jt,{className:"text-destructive","data-testid":"title-unauthorized",children:"Access Denied"}),c.jsx(Nc,{"data-testid":"description-unauthorized",children:"You don't have permission to access this page. Super admin access is required."})]}),c.jsxs(We,{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:[c.jsx("p",{children:"If you believe this is an error, please contact the system administrator."}),c.jsx("p",{className:"mt-2 font-medium",children:"Only authorized super admin accounts can access this area."})]}),c.jsxs(Ne,{onClick:()=>t("/"),className:"w-full","data-testid":"button-go-home",children:[c.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Go Back Home"]})]})]})})}function CJ(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(He,{className:"w-full max-w-md mx-4",children:c.jsxs(We,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(qv,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function EJ(){return c.jsx(yB,{children:c.jsxs(pD,{children:[c.jsx(en,{path:"/login",component:kU}),c.jsx(en,{path:"/register",component:oz}),c.jsx(en,{path:"/change-password",component:wJ}),c.jsx(en,{path:"/garage-setup",children:c.jsx(ei,{roles:["garage_admin"],children:c.jsx(lz,{})})}),c.jsx(en,{path:"/",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(rS,{})})})}),c.jsx(en,{path:"/dashboard",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(rS,{})})})}),c.jsx(en,{path:"/job-card",children:c.jsx(ei,{children:c.jsx(Vi,{showFab:!1,children:c.jsx(XW,{})})})}),c.jsx(en,{path:"/pending-services",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(ZW,{})})})}),c.jsx(en,{path:"/edit-job-card/:jobCardId",children:c.jsx(ei,{children:c.jsx(Vi,{showFab:!1,children:c.jsx(YW,{})})})}),c.jsx(en,{path:"/invoice/:jobCardId",children:c.jsx(ei,{children:c.jsx(Vi,{showFab:!1,children:c.jsx(rK,{})})})}),c.jsx(en,{path:"/invoices",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(nK,{})})})}),c.jsx(en,{path:"/customers",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(iK,{})})})}),c.jsx(en,{path:"/spare-parts",children:c.jsx(ei,{roles:["garage_admin"],children:c.jsx(Vi,{children:c.jsx(sK,{})})})}),c.jsx(en,{path:"/sales",children:c.jsx(ei,{roles:["garage_admin"],children:c.jsx(Vi,{children:c.jsx(cK,{})})})}),c.jsx(en,{path:"/profile",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(dK,{})})})}),c.jsx(en,{path:"/admin-dashboard",children:c.jsx(ei,{roles:["garage_admin"],children:c.jsx(Vi,{children:c.jsx(MK,{})})})}),c.jsx(en,{path:"/staff-dashboard",children:c.jsx(ei,{roles:["mechanic_staff"],children:c.jsx(Vi,{children:c.jsx(bJ,{})})})}),c.jsx(en,{path:"/access-request",children:c.jsx(ei,{roles:["mechanic_staff"],children:c.jsx(_J,{})})}),c.jsx(en,{path:"/completed-services",children:c.jsx(ei,{children:c.jsx(Vi,{children:c.jsx(NJ,{})})})}),c.jsx(en,{path:"/completed-service-details/:id",children:c.jsx(ei,{children:c.jsx(Vi,{showFab:!1,children:c.jsx(SJ,{})})})}),c.jsx(en,{path:"/super-admin",children:c.jsx(ei,{roles:["super_admin"],children:c.jsx(LK,{})})}),c.jsx(en,{path:"/unauthorized",component:AJ}),c.jsx(en,{component:CJ})]})})}function jJ(){return c.jsx(RD,{client:GD,children:c.jsx(gB,{defaultTheme:"light",storageKey:"garage-guru-theme",children:c.jsxs(pB,{children:[c.jsx(EJ,{}),c.jsx(VM,{})]})})})}Z8(document.getElementById("root")).render(c.jsx(jJ,{}));export{Nf as _,jr as a,IJ as c,LC as g};
