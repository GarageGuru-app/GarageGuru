/* ServiceGuru Mobile-First Styles for Android PWA */

/* Touch-friendly interface optimizations */
@media (max-width: 768px) {
  /* Ensure buttons are touch-friendly */
  button, .button, [role="button"] {
    min-height: 48px !important;
    min-width: 48px !important;
    touch-action: manipulation;
  }

  /* Improve form inputs for mobile */
  input, select, textarea {
    font-size: 16px !important; /* Prevent zoom on iOS */
    padding: 12px !important;
    border-radius: 6px !important;
  }

  /* Better spacing for mobile */
  .mobile-spacing {
    padding: 16px !important;
    margin: 8px 0 !important;
  }

  /* Card components mobile optimization */
  .card {
    margin: 8px !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
  }

  /* Navigation mobile-friendly */
  .mobile-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    background: white;
    border-top: 1px solid #e5e7eb;
    padding: 8px 0;
  }

  /* Hide scrollbars but keep functionality */
  .mobile-scroll::-webkit-scrollbar {
    display: none;
  }
  .mobile-scroll {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Touch gestures */
  .swipeable {
    touch-action: pan-x pan-y;
  }

  /* Loading animations mobile optimized */
  .mobile-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
  }

  /* Drawer/modal mobile styles */
  .mobile-drawer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 16px 16px 0 0;
    max-height: 80vh;
    overflow-y: auto;
  }

  /* Floating action button */
  .mobile-fab {
    position: fixed;
    bottom: 80px;
    right: 16px;
    z-index: 999;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }

  /* Status bar spacing for PWA */
  .pwa-status-bar {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Prevent text selection on UI elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Haptic feedback simulation */
  .haptic-light {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }

  .haptic-light:active {
    transform: scale(0.95);
  }
}

/* PWA specific styles */
@media (display-mode: standalone) {
  /* Hide browser UI elements */
  .browser-only {
    display: none !important;
  }

  /* PWA app-like styling */
  body {
    overflow-x: hidden;
    background-color: #f8fafc;
  }

  /* Full height layout */
  #root {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height */
  }

  /* Status bar styling */
  .status-bar {
    height: env(safe-area-inset-top);
    background: var(--primary);
  }
}

/* Landscape mode optimizations */
@media (orientation: landscape) and (max-height: 500px) {
  .landscape-hide {
    display: none !important;
  }

  .mobile-nav {
    position: relative !important;
    padding: 4px 0 !important;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2) {
  .retina-optimized {
    image-rendering: -webkit-optimize-contrast;
  }
}

/* Dark mode support for PWA */
@media (prefers-color-scheme: dark) {
  .pwa-loading {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%) !important;
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Touch target improvements */
.touch-target {
  position: relative;
}

.touch-target::before {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  z-index: -1;
}

/* Smooth scrolling for mobile */
html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

/* Prevent zoom on double tap */
* {
  touch-action: manipulation;
}

/* Mobile table optimizations */
@media (max-width: 768px) {
  table {
    font-size: 14px;
  }
  
  td, th {
    padding: 8px 4px !important;
  }
  
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}